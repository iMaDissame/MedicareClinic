function Sp(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(n,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();function Cp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mu={exports:{}},Xa={},hu={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tn=Symbol.for("react.element"),Ep=Symbol.for("react.portal"),_p=Symbol.for("react.fragment"),Tp=Symbol.for("react.strict_mode"),Pp=Symbol.for("react.profiler"),Mp=Symbol.for("react.provider"),zp=Symbol.for("react.context"),Lp=Symbol.for("react.forward_ref"),Rp=Symbol.for("react.suspense"),Ap=Symbol.for("react.memo"),Dp=Symbol.for("react.lazy"),kc=Symbol.iterator;function Op(e){return e===null||typeof e!="object"?null:(e=kc&&e[kc]||e["@@iterator"],typeof e=="function"?e:null)}var pu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xu=Object.assign,fu={};function Tr(e,t,r){this.props=e,this.context=t,this.refs=fu,this.updater=r||pu}Tr.prototype.isReactComponent={};Tr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Tr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gu(){}gu.prototype=Tr.prototype;function mo(e,t,r){this.props=e,this.context=t,this.refs=fu,this.updater=r||pu}var ho=mo.prototype=new gu;ho.constructor=mo;xu(ho,Tr.prototype);ho.isPureReactComponent=!0;var Sc=Array.isArray,vu=Object.prototype.hasOwnProperty,po={current:null},yu={key:!0,ref:!0,__self:!0,__source:!0};function ju(e,t,r){var n,a={},l=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(l=""+t.key),t)vu.call(t,n)&&!yu.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:Tn,type:e,key:l,ref:i,props:a,_owner:po.current}}function Fp(e,t){return{$$typeof:Tn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xo(e){return typeof e=="object"&&e!==null&&e.$$typeof===Tn}function Ip(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Cc=/\/+/g;function El(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ip(""+e.key):t.toString(36)}function na(e,t,r,n,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Tn:case Ep:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+El(i,0):n,Sc(a)?(r="",e!=null&&(r=e.replace(Cc,"$&/")+"/"),na(a,t,r,"",function(d){return d})):a!=null&&(xo(a)&&(a=Fp(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(Cc,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",Sc(e))for(var o=0;o<e.length;o++){l=e[o];var c=n+El(l,o);i+=na(l,t,r,c,a)}else if(c=Op(e),typeof c=="function")for(e=c.call(e),o=0;!(l=e.next()).done;)l=l.value,c=n+El(l,o++),i+=na(l,t,r,c,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function $n(e,t,r){if(e==null)return e;var n=[],a=0;return na(e,n,"","",function(l){return t.call(r,l,a++)}),n}function Up(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tt={current:null},aa={transition:null},$p={ReactCurrentDispatcher:tt,ReactCurrentBatchConfig:aa,ReactCurrentOwner:po};function wu(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:$n,forEach:function(e,t,r){$n(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return $n(e,function(){t++}),t},toArray:function(e){return $n(e,function(t){return t})||[]},only:function(e){if(!xo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ce.Component=Tr;ce.Fragment=_p;ce.Profiler=Pp;ce.PureComponent=mo;ce.StrictMode=Tp;ce.Suspense=Rp;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$p;ce.act=wu;ce.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=xu({},e.props),a=e.key,l=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,i=po.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)vu.call(t,c)&&!yu.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:Tn,type:e.type,key:a,ref:l,props:n,_owner:i}};ce.createContext=function(e){return e={$$typeof:zp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Mp,_context:e},e.Consumer=e};ce.createElement=ju;ce.createFactory=function(e){var t=ju.bind(null,e);return t.type=e,t};ce.createRef=function(){return{current:null}};ce.forwardRef=function(e){return{$$typeof:Lp,render:e}};ce.isValidElement=xo;ce.lazy=function(e){return{$$typeof:Dp,_payload:{_status:-1,_result:e},_init:Up}};ce.memo=function(e,t){return{$$typeof:Ap,type:e,compare:t===void 0?null:t}};ce.startTransition=function(e){var t=aa.transition;aa.transition={};try{e()}finally{aa.transition=t}};ce.unstable_act=wu;ce.useCallback=function(e,t){return tt.current.useCallback(e,t)};ce.useContext=function(e){return tt.current.useContext(e)};ce.useDebugValue=function(){};ce.useDeferredValue=function(e){return tt.current.useDeferredValue(e)};ce.useEffect=function(e,t){return tt.current.useEffect(e,t)};ce.useId=function(){return tt.current.useId()};ce.useImperativeHandle=function(e,t,r){return tt.current.useImperativeHandle(e,t,r)};ce.useInsertionEffect=function(e,t){return tt.current.useInsertionEffect(e,t)};ce.useLayoutEffect=function(e,t){return tt.current.useLayoutEffect(e,t)};ce.useMemo=function(e,t){return tt.current.useMemo(e,t)};ce.useReducer=function(e,t,r){return tt.current.useReducer(e,t,r)};ce.useRef=function(e){return tt.current.useRef(e)};ce.useState=function(e){return tt.current.useState(e)};ce.useSyncExternalStore=function(e,t,r){return tt.current.useSyncExternalStore(e,t,r)};ce.useTransition=function(){return tt.current.useTransition()};ce.version="18.3.1";hu.exports=ce;var m=hu.exports;const Vp=Cp(m),Bp=Sp({__proto__:null,default:Vp},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp=m,Hp=Symbol.for("react.element"),Wp=Symbol.for("react.fragment"),Kp=Object.prototype.hasOwnProperty,Jp=qp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qp={key:!0,ref:!0,__self:!0,__source:!0};function Nu(e,t,r){var n,a={},l=null,i=null;r!==void 0&&(l=""+r),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)Kp.call(t,n)&&!Qp.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:Hp,type:e,key:l,ref:i,props:a,_owner:Jp.current}}Xa.Fragment=Wp;Xa.jsx=Nu;Xa.jsxs=Nu;mu.exports=Xa;var s=mu.exports,bu={exports:{}},ft={},ku={exports:{}},Su={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,$){var q=C.length;C.push($);e:for(;0<q;){var te=q-1>>>1,ae=C[te];if(0<a(ae,$))C[te]=$,C[q]=ae,q=te;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var $=C[0],q=C.pop();if(q!==$){C[0]=q;e:for(var te=0,ae=C.length,_e=ae>>>1;te<_e;){var L=2*(te+1)-1,E=C[L],A=L+1,H=C[A];if(0>a(E,q))A<ae&&0>a(H,E)?(C[te]=H,C[A]=q,te=A):(C[te]=E,C[L]=q,te=L);else if(A<ae&&0>a(H,q))C[te]=H,C[A]=q,te=A;else break e}}return $}function a(C,$){var q=C.sortIndex-$.sortIndex;return q!==0?q:C.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],d=[],u=1,h=null,v=3,N=!1,y=!1,f=!1,j=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(C){for(var $=r(d);$!==null;){if($.callback===null)n(d);else if($.startTime<=C)n(d),$.sortIndex=$.expirationTime,t(c,$);else break;$=r(d)}}function S(C){if(f=!1,g(C),!y)if(r(c)!==null)y=!0,K(b);else{var $=r(d);$!==null&&oe(S,$.startTime-C)}}function b(C,$){y=!1,f&&(f=!1,p(w),w=-1),N=!0;var q=v;try{for(g($),h=r(c);h!==null&&(!(h.expirationTime>$)||C&&!D());){var te=h.callback;if(typeof te=="function"){h.callback=null,v=h.priorityLevel;var ae=te(h.expirationTime<=$);$=e.unstable_now(),typeof ae=="function"?h.callback=ae:h===r(c)&&n(c),g($)}else n(c);h=r(c)}if(h!==null)var _e=!0;else{var L=r(d);L!==null&&oe(S,L.startTime-$),_e=!1}return _e}finally{h=null,v=q,N=!1}}var k=!1,_=null,w=-1,M=5,T=-1;function D(){return!(e.unstable_now()-T<M)}function I(){if(_!==null){var C=e.unstable_now();T=C;var $=!0;try{$=_(!0,C)}finally{$?B():(k=!1,_=null)}}else k=!1}var B;if(typeof x=="function")B=function(){x(I)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,ne=U.port2;U.port1.onmessage=I,B=function(){ne.postMessage(null)}}else B=function(){j(I,0)};function K(C){_=C,k||(k=!0,B())}function oe(C,$){w=j(function(){C(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){y||N||(y=!0,K(b))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(C){switch(v){case 1:case 2:case 3:var $=3;break;default:$=v}var q=v;v=$;try{return C()}finally{v=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,$){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var q=v;v=C;try{return $()}finally{v=q}},e.unstable_scheduleCallback=function(C,$,q){var te=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?te+q:te):q=te,C){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=q+ae,C={id:u++,callback:$,priorityLevel:C,startTime:q,expirationTime:ae,sortIndex:-1},q>te?(C.sortIndex=q,t(d,C),r(c)===null&&C===r(d)&&(f?(p(w),w=-1):f=!0,oe(S,q-te))):(C.sortIndex=ae,t(c,C),y||N||(y=!0,K(b))),C},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(C){var $=v;return function(){var q=v;v=$;try{return C.apply(this,arguments)}finally{v=q}}}})(Su);ku.exports=Su;var Gp=ku.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp=m,xt=Gp;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cu=new Set,on={};function Gs(e,t){jr(e,t),jr(e+"Capture",t)}function jr(e,t){for(on[e]=t,e=0;e<t.length;e++)Cu.add(t[e])}var es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ii=Object.prototype.hasOwnProperty,Zp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ec={},_c={};function Yp(e){return ii.call(_c,e)?!0:ii.call(Ec,e)?!1:Zp.test(e)?_c[e]=!0:(Ec[e]=!0,!1)}function ex(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function tx(e,t,r,n){if(t===null||typeof t>"u"||ex(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function st(e,t,r,n,a,l,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=i}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qe[e]=new st(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qe[t]=new st(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qe[e]=new st(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qe[e]=new st(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qe[e]=new st(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qe[e]=new st(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qe[e]=new st(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qe[e]=new st(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qe[e]=new st(e,5,!1,e.toLowerCase(),null,!1,!1)});var fo=/[\-:]([a-z])/g;function go(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fo,go);qe[t]=new st(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fo,go);qe[t]=new st(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fo,go);qe[t]=new st(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qe[e]=new st(e,1,!1,e.toLowerCase(),null,!1,!1)});qe.xlinkHref=new st("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qe[e]=new st(e,1,!1,e.toLowerCase(),null,!0,!0)});function vo(e,t,r,n){var a=qe.hasOwnProperty(t)?qe[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(tx(t,r,a,n)&&(r=null),n||a===null?Yp(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ns=Xp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vn=Symbol.for("react.element"),sr=Symbol.for("react.portal"),rr=Symbol.for("react.fragment"),yo=Symbol.for("react.strict_mode"),oi=Symbol.for("react.profiler"),Eu=Symbol.for("react.provider"),_u=Symbol.for("react.context"),jo=Symbol.for("react.forward_ref"),ci=Symbol.for("react.suspense"),di=Symbol.for("react.suspense_list"),wo=Symbol.for("react.memo"),is=Symbol.for("react.lazy"),Tu=Symbol.for("react.offscreen"),Tc=Symbol.iterator;function Or(e){return e===null||typeof e!="object"?null:(e=Tc&&e[Tc]||e["@@iterator"],typeof e=="function"?e:null)}var Ce=Object.assign,_l;function Wr(e){if(_l===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);_l=t&&t[1]||""}return`
`+_l+e}var Tl=!1;function Pl(e,t){if(!e||Tl)return"";Tl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),l=n.stack.split(`
`),i=a.length-1,o=l.length-1;1<=i&&0<=o&&a[i]!==l[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==l[o]){if(i!==1||o!==1)do if(i--,o--,0>o||a[i]!==l[o]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{Tl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Wr(e):""}function sx(e){switch(e.tag){case 5:return Wr(e.type);case 16:return Wr("Lazy");case 13:return Wr("Suspense");case 19:return Wr("SuspenseList");case 0:case 2:case 15:return e=Pl(e.type,!1),e;case 11:return e=Pl(e.type.render,!1),e;case 1:return e=Pl(e.type,!0),e;default:return""}}function ui(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rr:return"Fragment";case sr:return"Portal";case oi:return"Profiler";case yo:return"StrictMode";case ci:return"Suspense";case di:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _u:return(e.displayName||"Context")+".Consumer";case Eu:return(e._context.displayName||"Context")+".Provider";case jo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wo:return t=e.displayName||null,t!==null?t:ui(e.type)||"Memo";case is:t=e._payload,e=e._init;try{return ui(e(t))}catch{}}return null}function rx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ui(t);case 8:return t===yo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ks(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nx(e){var t=Pu(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,l=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bn(e){e._valueTracker||(e._valueTracker=nx(e))}function Mu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Pu(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ja(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function mi(e,t){var r=t.checked;return Ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Pc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ks(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zu(e,t){t=t.checked,t!=null&&vo(e,"checked",t,!1)}function hi(e,t){zu(e,t);var r=ks(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?pi(e,t.type,r):t.hasOwnProperty("defaultValue")&&pi(e,t.type,ks(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Mc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function pi(e,t,r){(t!=="number"||ja(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Kr=Array.isArray;function pr(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ks(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function xi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return Ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(F(92));if(Kr(r)){if(1<r.length)throw Error(F(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ks(r)}}function Lu(e,t){var r=ks(t.value),n=ks(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Lc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ru(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ru(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qn,Au=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qn=qn||document.createElement("div"),qn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function cn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Gr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ax=["Webkit","ms","Moz","O"];Object.keys(Gr).forEach(function(e){ax.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Gr[t]=Gr[e]})});function Du(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Gr.hasOwnProperty(e)&&Gr[e]?(""+t).trim():t+"px"}function Ou(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Du(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var lx=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gi(e,t){if(t){if(lx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function vi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yi=null;function No(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ji=null,xr=null,fr=null;function Rc(e){if(e=zn(e)){if(typeof ji!="function")throw Error(F(280));var t=e.stateNode;t&&(t=sl(t),ji(e.stateNode,e.type,t))}}function Fu(e){xr?fr?fr.push(e):fr=[e]:xr=e}function Iu(){if(xr){var e=xr,t=fr;if(fr=xr=null,Rc(e),t)for(e=0;e<t.length;e++)Rc(t[e])}}function Uu(e,t){return e(t)}function $u(){}var Ml=!1;function Vu(e,t,r){if(Ml)return e(t,r);Ml=!0;try{return Uu(e,t,r)}finally{Ml=!1,(xr!==null||fr!==null)&&($u(),Iu())}}function dn(e,t){var r=e.stateNode;if(r===null)return null;var n=sl(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(F(231,t,typeof r));return r}var wi=!1;if(es)try{var Fr={};Object.defineProperty(Fr,"passive",{get:function(){wi=!0}}),window.addEventListener("test",Fr,Fr),window.removeEventListener("test",Fr,Fr)}catch{wi=!1}function ix(e,t,r,n,a,l,i,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var Xr=!1,wa=null,Na=!1,Ni=null,ox={onError:function(e){Xr=!0,wa=e}};function cx(e,t,r,n,a,l,i,o,c){Xr=!1,wa=null,ix.apply(ox,arguments)}function dx(e,t,r,n,a,l,i,o,c){if(cx.apply(this,arguments),Xr){if(Xr){var d=wa;Xr=!1,wa=null}else throw Error(F(198));Na||(Na=!0,Ni=d)}}function Xs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Bu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ac(e){if(Xs(e)!==e)throw Error(F(188))}function ux(e){var t=e.alternate;if(!t){if(t=Xs(e),t===null)throw Error(F(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var l=a.alternate;if(l===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===r)return Ac(a),e;if(l===n)return Ac(a),t;l=l.sibling}throw Error(F(188))}if(r.return!==n.return)r=a,n=l;else{for(var i=!1,o=a.child;o;){if(o===r){i=!0,r=a,n=l;break}if(o===n){i=!0,n=a,r=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===r){i=!0,r=l,n=a;break}if(o===n){i=!0,n=l,r=a;break}o=o.sibling}if(!i)throw Error(F(189))}}if(r.alternate!==n)throw Error(F(190))}if(r.tag!==3)throw Error(F(188));return r.stateNode.current===r?e:t}function qu(e){return e=ux(e),e!==null?Hu(e):null}function Hu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Hu(e);if(t!==null)return t;e=e.sibling}return null}var Wu=xt.unstable_scheduleCallback,Dc=xt.unstable_cancelCallback,mx=xt.unstable_shouldYield,hx=xt.unstable_requestPaint,Te=xt.unstable_now,px=xt.unstable_getCurrentPriorityLevel,bo=xt.unstable_ImmediatePriority,Ku=xt.unstable_UserBlockingPriority,ba=xt.unstable_NormalPriority,xx=xt.unstable_LowPriority,Ju=xt.unstable_IdlePriority,Za=null,Bt=null;function fx(e){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Za,e,void 0,(e.current.flags&128)===128)}catch{}}var Lt=Math.clz32?Math.clz32:yx,gx=Math.log,vx=Math.LN2;function yx(e){return e>>>=0,e===0?32:31-(gx(e)/vx|0)|0}var Hn=64,Wn=4194304;function Jr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ka(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,l=e.pingedLanes,i=r&268435455;if(i!==0){var o=i&~a;o!==0?n=Jr(o):(l&=i,l!==0&&(n=Jr(l)))}else i=r&~a,i!==0?n=Jr(i):l!==0&&(n=Jr(l));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Lt(t),a=1<<r,n|=e[r],t&=~a;return n}function jx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wx(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-Lt(l),o=1<<i,c=a[i];c===-1?(!(o&r)||o&n)&&(a[i]=jx(o,t)):c<=t&&(e.expiredLanes|=o),l&=~o}}function bi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Qu(){var e=Hn;return Hn<<=1,!(Hn&4194240)&&(Hn=64),e}function zl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Pn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Lt(t),e[t]=r}function Nx(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Lt(r),l=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~l}}function ko(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Lt(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var ge=0;function Gu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Xu,So,Zu,Yu,em,ki=!1,Kn=[],ps=null,xs=null,fs=null,un=new Map,mn=new Map,cs=[],bx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oc(e,t){switch(e){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":un.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mn.delete(t.pointerId)}}function Ir(e,t,r,n,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:l,targetContainers:[a]},t!==null&&(t=zn(t),t!==null&&So(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function kx(e,t,r,n,a){switch(t){case"focusin":return ps=Ir(ps,e,t,r,n,a),!0;case"dragenter":return xs=Ir(xs,e,t,r,n,a),!0;case"mouseover":return fs=Ir(fs,e,t,r,n,a),!0;case"pointerover":var l=a.pointerId;return un.set(l,Ir(un.get(l)||null,e,t,r,n,a)),!0;case"gotpointercapture":return l=a.pointerId,mn.set(l,Ir(mn.get(l)||null,e,t,r,n,a)),!0}return!1}function tm(e){var t=As(e.target);if(t!==null){var r=Xs(t);if(r!==null){if(t=r.tag,t===13){if(t=Bu(r),t!==null){e.blockedOn=t,em(e.priority,function(){Zu(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function la(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Si(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);yi=n,r.target.dispatchEvent(n),yi=null}else return t=zn(r),t!==null&&So(t),e.blockedOn=r,!1;t.shift()}return!0}function Fc(e,t,r){la(e)&&r.delete(t)}function Sx(){ki=!1,ps!==null&&la(ps)&&(ps=null),xs!==null&&la(xs)&&(xs=null),fs!==null&&la(fs)&&(fs=null),un.forEach(Fc),mn.forEach(Fc)}function Ur(e,t){e.blockedOn===t&&(e.blockedOn=null,ki||(ki=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,Sx)))}function hn(e){function t(a){return Ur(a,e)}if(0<Kn.length){Ur(Kn[0],e);for(var r=1;r<Kn.length;r++){var n=Kn[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ps!==null&&Ur(ps,e),xs!==null&&Ur(xs,e),fs!==null&&Ur(fs,e),un.forEach(t),mn.forEach(t),r=0;r<cs.length;r++)n=cs[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<cs.length&&(r=cs[0],r.blockedOn===null);)tm(r),r.blockedOn===null&&cs.shift()}var gr=ns.ReactCurrentBatchConfig,Sa=!0;function Cx(e,t,r,n){var a=ge,l=gr.transition;gr.transition=null;try{ge=1,Co(e,t,r,n)}finally{ge=a,gr.transition=l}}function Ex(e,t,r,n){var a=ge,l=gr.transition;gr.transition=null;try{ge=4,Co(e,t,r,n)}finally{ge=a,gr.transition=l}}function Co(e,t,r,n){if(Sa){var a=Si(e,t,r,n);if(a===null)Vl(e,t,n,Ca,r),Oc(e,n);else if(kx(a,e,t,r,n))n.stopPropagation();else if(Oc(e,n),t&4&&-1<bx.indexOf(e)){for(;a!==null;){var l=zn(a);if(l!==null&&Xu(l),l=Si(e,t,r,n),l===null&&Vl(e,t,n,Ca,r),l===a)break;a=l}a!==null&&n.stopPropagation()}else Vl(e,t,n,null,r)}}var Ca=null;function Si(e,t,r,n){if(Ca=null,e=No(n),e=As(e),e!==null)if(t=Xs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Bu(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ca=e,null}function sm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(px()){case bo:return 1;case Ku:return 4;case ba:case xx:return 16;case Ju:return 536870912;default:return 16}default:return 16}}var us=null,Eo=null,ia=null;function rm(){if(ia)return ia;var e,t=Eo,r=t.length,n,a="value"in us?us.value:us.textContent,l=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[l-n];n++);return ia=a.slice(e,1<n?1-n:void 0)}function oa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Jn(){return!0}function Ic(){return!1}function gt(e){function t(r,n,a,l,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Jn:Ic,this.isPropagationStopped=Ic,this}return Ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Jn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Jn)},persist:function(){},isPersistent:Jn}),t}var Pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_o=gt(Pr),Mn=Ce({},Pr,{view:0,detail:0}),_x=gt(Mn),Ll,Rl,$r,Ya=Ce({},Mn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:To,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$r&&($r&&e.type==="mousemove"?(Ll=e.screenX-$r.screenX,Rl=e.screenY-$r.screenY):Rl=Ll=0,$r=e),Ll)},movementY:function(e){return"movementY"in e?e.movementY:Rl}}),Uc=gt(Ya),Tx=Ce({},Ya,{dataTransfer:0}),Px=gt(Tx),Mx=Ce({},Mn,{relatedTarget:0}),Al=gt(Mx),zx=Ce({},Pr,{animationName:0,elapsedTime:0,pseudoElement:0}),Lx=gt(zx),Rx=Ce({},Pr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ax=gt(Rx),Dx=Ce({},Pr,{data:0}),$c=gt(Dx),Ox={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ix={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ux(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ix[e])?!!t[e]:!1}function To(){return Ux}var $x=Ce({},Mn,{key:function(e){if(e.key){var t=Ox[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=oa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Fx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:To,charCode:function(e){return e.type==="keypress"?oa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vx=gt($x),Bx=Ce({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vc=gt(Bx),qx=Ce({},Mn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:To}),Hx=gt(qx),Wx=Ce({},Pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kx=gt(Wx),Jx=Ce({},Ya,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qx=gt(Jx),Gx=[9,13,27,32],Po=es&&"CompositionEvent"in window,Zr=null;es&&"documentMode"in document&&(Zr=document.documentMode);var Xx=es&&"TextEvent"in window&&!Zr,nm=es&&(!Po||Zr&&8<Zr&&11>=Zr),Bc=" ",qc=!1;function am(e,t){switch(e){case"keyup":return Gx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var nr=!1;function Zx(e,t){switch(e){case"compositionend":return lm(t);case"keypress":return t.which!==32?null:(qc=!0,Bc);case"textInput":return e=t.data,e===Bc&&qc?null:e;default:return null}}function Yx(e,t){if(nr)return e==="compositionend"||!Po&&am(e,t)?(e=rm(),ia=Eo=us=null,nr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nm&&t.locale!=="ko"?null:t.data;default:return null}}var ef={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ef[e.type]:t==="textarea"}function im(e,t,r,n){Fu(n),t=Ea(t,"onChange"),0<t.length&&(r=new _o("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Yr=null,pn=null;function tf(e){vm(e,0)}function el(e){var t=ir(e);if(Mu(t))return e}function sf(e,t){if(e==="change")return t}var om=!1;if(es){var Dl;if(es){var Ol="oninput"in document;if(!Ol){var Wc=document.createElement("div");Wc.setAttribute("oninput","return;"),Ol=typeof Wc.oninput=="function"}Dl=Ol}else Dl=!1;om=Dl&&(!document.documentMode||9<document.documentMode)}function Kc(){Yr&&(Yr.detachEvent("onpropertychange",cm),pn=Yr=null)}function cm(e){if(e.propertyName==="value"&&el(pn)){var t=[];im(t,pn,e,No(e)),Vu(tf,t)}}function rf(e,t,r){e==="focusin"?(Kc(),Yr=t,pn=r,Yr.attachEvent("onpropertychange",cm)):e==="focusout"&&Kc()}function nf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return el(pn)}function af(e,t){if(e==="click")return el(t)}function lf(e,t){if(e==="input"||e==="change")return el(t)}function of(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dt=typeof Object.is=="function"?Object.is:of;function xn(e,t){if(Dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!ii.call(t,a)||!Dt(e[a],t[a]))return!1}return!0}function Jc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qc(e,t){var r=Jc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jc(r)}}function dm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function um(){for(var e=window,t=ja();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ja(e.document)}return t}function Mo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function cf(e){var t=um(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&dm(r.ownerDocument.documentElement,r)){if(n!==null&&Mo(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,l=Math.min(n.start,a);n=n.end===void 0?l:Math.min(n.end,a),!e.extend&&l>n&&(a=n,n=l,l=a),a=Qc(r,l);var i=Qc(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var df=es&&"documentMode"in document&&11>=document.documentMode,ar=null,Ci=null,en=null,Ei=!1;function Gc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ei||ar==null||ar!==ja(n)||(n=ar,"selectionStart"in n&&Mo(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),en&&xn(en,n)||(en=n,n=Ea(Ci,"onSelect"),0<n.length&&(t=new _o("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ar)))}function Qn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var lr={animationend:Qn("Animation","AnimationEnd"),animationiteration:Qn("Animation","AnimationIteration"),animationstart:Qn("Animation","AnimationStart"),transitionend:Qn("Transition","TransitionEnd")},Fl={},mm={};es&&(mm=document.createElement("div").style,"AnimationEvent"in window||(delete lr.animationend.animation,delete lr.animationiteration.animation,delete lr.animationstart.animation),"TransitionEvent"in window||delete lr.transitionend.transition);function tl(e){if(Fl[e])return Fl[e];if(!lr[e])return e;var t=lr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in mm)return Fl[e]=t[r];return e}var hm=tl("animationend"),pm=tl("animationiteration"),xm=tl("animationstart"),fm=tl("transitionend"),gm=new Map,Xc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _s(e,t){gm.set(e,t),Gs(t,[e])}for(var Il=0;Il<Xc.length;Il++){var Ul=Xc[Il],uf=Ul.toLowerCase(),mf=Ul[0].toUpperCase()+Ul.slice(1);_s(uf,"on"+mf)}_s(hm,"onAnimationEnd");_s(pm,"onAnimationIteration");_s(xm,"onAnimationStart");_s("dblclick","onDoubleClick");_s("focusin","onFocus");_s("focusout","onBlur");_s(fm,"onTransitionEnd");jr("onMouseEnter",["mouseout","mouseover"]);jr("onMouseLeave",["mouseout","mouseover"]);jr("onPointerEnter",["pointerout","pointerover"]);jr("onPointerLeave",["pointerout","pointerover"]);Gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hf=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qr));function Zc(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,dx(n,t,void 0,e),e.currentTarget=null}function vm(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var l=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==l&&a.isPropagationStopped())break e;Zc(a,o,d),l=c}else for(i=0;i<n.length;i++){if(o=n[i],c=o.instance,d=o.currentTarget,o=o.listener,c!==l&&a.isPropagationStopped())break e;Zc(a,o,d),l=c}}}if(Na)throw e=Ni,Na=!1,Ni=null,e}function ye(e,t){var r=t[zi];r===void 0&&(r=t[zi]=new Set);var n=e+"__bubble";r.has(n)||(ym(t,e,2,!1),r.add(n))}function $l(e,t,r){var n=0;t&&(n|=4),ym(r,e,n,t)}var Gn="_reactListening"+Math.random().toString(36).slice(2);function fn(e){if(!e[Gn]){e[Gn]=!0,Cu.forEach(function(r){r!=="selectionchange"&&(hf.has(r)||$l(r,!1,e),$l(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gn]||(t[Gn]=!0,$l("selectionchange",!1,t))}}function ym(e,t,r,n){switch(sm(t)){case 1:var a=Cx;break;case 4:a=Ex;break;default:a=Co}r=a.bind(null,t,r,e),a=void 0,!wi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Vl(e,t,r,n,a){var l=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;o!==null;){if(i=As(o),i===null)return;if(c=i.tag,c===5||c===6){n=l=i;continue e}o=o.parentNode}}n=n.return}Vu(function(){var d=l,u=No(r),h=[];e:{var v=gm.get(e);if(v!==void 0){var N=_o,y=e;switch(e){case"keypress":if(oa(r)===0)break e;case"keydown":case"keyup":N=Vx;break;case"focusin":y="focus",N=Al;break;case"focusout":y="blur",N=Al;break;case"beforeblur":case"afterblur":N=Al;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=Uc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=Px;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=Hx;break;case hm:case pm:case xm:N=Lx;break;case fm:N=Kx;break;case"scroll":N=_x;break;case"wheel":N=Qx;break;case"copy":case"cut":case"paste":N=Ax;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=Vc}var f=(t&4)!==0,j=!f&&e==="scroll",p=f?v!==null?v+"Capture":null:v;f=[];for(var x=d,g;x!==null;){g=x;var S=g.stateNode;if(g.tag===5&&S!==null&&(g=S,p!==null&&(S=dn(x,p),S!=null&&f.push(gn(x,S,g)))),j)break;x=x.return}0<f.length&&(v=new N(v,y,null,r,u),h.push({event:v,listeners:f}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",v&&r!==yi&&(y=r.relatedTarget||r.fromElement)&&(As(y)||y[ts]))break e;if((N||v)&&(v=u.window===u?u:(v=u.ownerDocument)?v.defaultView||v.parentWindow:window,N?(y=r.relatedTarget||r.toElement,N=d,y=y?As(y):null,y!==null&&(j=Xs(y),y!==j||y.tag!==5&&y.tag!==6)&&(y=null)):(N=null,y=d),N!==y)){if(f=Uc,S="onMouseLeave",p="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(f=Vc,S="onPointerLeave",p="onPointerEnter",x="pointer"),j=N==null?v:ir(N),g=y==null?v:ir(y),v=new f(S,x+"leave",N,r,u),v.target=j,v.relatedTarget=g,S=null,As(u)===d&&(f=new f(p,x+"enter",y,r,u),f.target=g,f.relatedTarget=j,S=f),j=S,N&&y)t:{for(f=N,p=y,x=0,g=f;g;g=er(g))x++;for(g=0,S=p;S;S=er(S))g++;for(;0<x-g;)f=er(f),x--;for(;0<g-x;)p=er(p),g--;for(;x--;){if(f===p||p!==null&&f===p.alternate)break t;f=er(f),p=er(p)}f=null}else f=null;N!==null&&Yc(h,v,N,f,!1),y!==null&&j!==null&&Yc(h,j,y,f,!0)}}e:{if(v=d?ir(d):window,N=v.nodeName&&v.nodeName.toLowerCase(),N==="select"||N==="input"&&v.type==="file")var b=sf;else if(Hc(v))if(om)b=lf;else{b=nf;var k=rf}else(N=v.nodeName)&&N.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(b=af);if(b&&(b=b(e,d))){im(h,b,r,u);break e}k&&k(e,v,d),e==="focusout"&&(k=v._wrapperState)&&k.controlled&&v.type==="number"&&pi(v,"number",v.value)}switch(k=d?ir(d):window,e){case"focusin":(Hc(k)||k.contentEditable==="true")&&(ar=k,Ci=d,en=null);break;case"focusout":en=Ci=ar=null;break;case"mousedown":Ei=!0;break;case"contextmenu":case"mouseup":case"dragend":Ei=!1,Gc(h,r,u);break;case"selectionchange":if(df)break;case"keydown":case"keyup":Gc(h,r,u)}var _;if(Po)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else nr?am(e,r)&&(w="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(w="onCompositionStart");w&&(nm&&r.locale!=="ko"&&(nr||w!=="onCompositionStart"?w==="onCompositionEnd"&&nr&&(_=rm()):(us=u,Eo="value"in us?us.value:us.textContent,nr=!0)),k=Ea(d,w),0<k.length&&(w=new $c(w,e,null,r,u),h.push({event:w,listeners:k}),_?w.data=_:(_=lm(r),_!==null&&(w.data=_)))),(_=Xx?Zx(e,r):Yx(e,r))&&(d=Ea(d,"onBeforeInput"),0<d.length&&(u=new $c("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=_))}vm(h,t)})}function gn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ea(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=dn(e,r),l!=null&&n.unshift(gn(e,l,a)),l=dn(e,t),l!=null&&n.push(gn(e,l,a))),e=e.return}return n}function er(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Yc(e,t,r,n,a){for(var l=t._reactName,i=[];r!==null&&r!==n;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,a?(c=dn(r,l),c!=null&&i.unshift(gn(r,c,o))):a||(c=dn(r,l),c!=null&&i.push(gn(r,c,o)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var pf=/\r\n?/g,xf=/\u0000|\uFFFD/g;function ed(e){return(typeof e=="string"?e:""+e).replace(pf,`
`).replace(xf,"")}function Xn(e,t,r){if(t=ed(t),ed(e)!==t&&r)throw Error(F(425))}function _a(){}var _i=null,Ti=null;function Pi(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Mi=typeof setTimeout=="function"?setTimeout:void 0,ff=typeof clearTimeout=="function"?clearTimeout:void 0,td=typeof Promise=="function"?Promise:void 0,gf=typeof queueMicrotask=="function"?queueMicrotask:typeof td<"u"?function(e){return td.resolve(null).then(e).catch(vf)}:Mi;function vf(e){setTimeout(function(){throw e})}function Bl(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),hn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);hn(t)}function gs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function sd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Mr=Math.random().toString(36).slice(2),Vt="__reactFiber$"+Mr,vn="__reactProps$"+Mr,ts="__reactContainer$"+Mr,zi="__reactEvents$"+Mr,yf="__reactListeners$"+Mr,jf="__reactHandles$"+Mr;function As(e){var t=e[Vt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ts]||r[Vt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=sd(e);e!==null;){if(r=e[Vt])return r;e=sd(e)}return t}e=r,r=e.parentNode}return null}function zn(e){return e=e[Vt]||e[ts],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ir(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function sl(e){return e[vn]||null}var Li=[],or=-1;function Ts(e){return{current:e}}function je(e){0>or||(e.current=Li[or],Li[or]=null,or--)}function ve(e,t){or++,Li[or]=e.current,e.current=t}var Ss={},Ge=Ts(Ss),at=Ts(!1),Bs=Ss;function wr(e,t){var r=e.type.contextTypes;if(!r)return Ss;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in r)a[l]=t[l];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function lt(e){return e=e.childContextTypes,e!=null}function Ta(){je(at),je(Ge)}function rd(e,t,r){if(Ge.current!==Ss)throw Error(F(168));ve(Ge,t),ve(at,r)}function jm(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(F(108,rx(e)||"Unknown",a));return Ce({},r,n)}function Pa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ss,Bs=Ge.current,ve(Ge,e),ve(at,at.current),!0}function nd(e,t,r){var n=e.stateNode;if(!n)throw Error(F(169));r?(e=jm(e,t,Bs),n.__reactInternalMemoizedMergedChildContext=e,je(at),je(Ge),ve(Ge,e)):je(at),ve(at,r)}var Gt=null,rl=!1,ql=!1;function wm(e){Gt===null?Gt=[e]:Gt.push(e)}function wf(e){rl=!0,wm(e)}function Ps(){if(!ql&&Gt!==null){ql=!0;var e=0,t=ge;try{var r=Gt;for(ge=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Gt=null,rl=!1}catch(a){throw Gt!==null&&(Gt=Gt.slice(e+1)),Wu(bo,Ps),a}finally{ge=t,ql=!1}}return null}var cr=[],dr=0,Ma=null,za=0,yt=[],jt=0,qs=null,Xt=1,Zt="";function Ls(e,t){cr[dr++]=za,cr[dr++]=Ma,Ma=e,za=t}function Nm(e,t,r){yt[jt++]=Xt,yt[jt++]=Zt,yt[jt++]=qs,qs=e;var n=Xt;e=Zt;var a=32-Lt(n)-1;n&=~(1<<a),r+=1;var l=32-Lt(t)+a;if(30<l){var i=a-a%5;l=(n&(1<<i)-1).toString(32),n>>=i,a-=i,Xt=1<<32-Lt(t)+a|r<<a|n,Zt=l+e}else Xt=1<<l|r<<a|n,Zt=e}function zo(e){e.return!==null&&(Ls(e,1),Nm(e,1,0))}function Lo(e){for(;e===Ma;)Ma=cr[--dr],cr[dr]=null,za=cr[--dr],cr[dr]=null;for(;e===qs;)qs=yt[--jt],yt[jt]=null,Zt=yt[--jt],yt[jt]=null,Xt=yt[--jt],yt[jt]=null}var mt=null,ut=null,be=!1,zt=null;function bm(e,t){var r=Nt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ad(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mt=e,ut=gs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mt=e,ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=qs!==null?{id:Xt,overflow:Zt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Nt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,mt=e,ut=null,!0):!1;default:return!1}}function Ri(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ai(e){if(be){var t=ut;if(t){var r=t;if(!ad(e,t)){if(Ri(e))throw Error(F(418));t=gs(r.nextSibling);var n=mt;t&&ad(e,t)?bm(n,r):(e.flags=e.flags&-4097|2,be=!1,mt=e)}}else{if(Ri(e))throw Error(F(418));e.flags=e.flags&-4097|2,be=!1,mt=e}}}function ld(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mt=e}function Zn(e){if(e!==mt)return!1;if(!be)return ld(e),be=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Pi(e.type,e.memoizedProps)),t&&(t=ut)){if(Ri(e))throw km(),Error(F(418));for(;t;)bm(e,t),t=gs(t.nextSibling)}if(ld(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ut=gs(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ut=null}}else ut=mt?gs(e.stateNode.nextSibling):null;return!0}function km(){for(var e=ut;e;)e=gs(e.nextSibling)}function Nr(){ut=mt=null,be=!1}function Ro(e){zt===null?zt=[e]:zt.push(e)}var Nf=ns.ReactCurrentBatchConfig;function Vr(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(F(309));var n=r.stateNode}if(!n)throw Error(F(147,e));var a=n,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(i){var o=a.refs;i===null?delete o[l]:o[l]=i},t._stringRef=l,t)}if(typeof e!="string")throw Error(F(284));if(!r._owner)throw Error(F(290,e))}return e}function Yn(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function id(e){var t=e._init;return t(e._payload)}function Sm(e){function t(p,x){if(e){var g=p.deletions;g===null?(p.deletions=[x],p.flags|=16):g.push(x)}}function r(p,x){if(!e)return null;for(;x!==null;)t(p,x),x=x.sibling;return null}function n(p,x){for(p=new Map;x!==null;)x.key!==null?p.set(x.key,x):p.set(x.index,x),x=x.sibling;return p}function a(p,x){return p=ws(p,x),p.index=0,p.sibling=null,p}function l(p,x,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<x?(p.flags|=2,x):g):(p.flags|=2,x)):(p.flags|=1048576,x)}function i(p){return e&&p.alternate===null&&(p.flags|=2),p}function o(p,x,g,S){return x===null||x.tag!==6?(x=Xl(g,p.mode,S),x.return=p,x):(x=a(x,g),x.return=p,x)}function c(p,x,g,S){var b=g.type;return b===rr?u(p,x,g.props.children,S,g.key):x!==null&&(x.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===is&&id(b)===x.type)?(S=a(x,g.props),S.ref=Vr(p,x,g),S.return=p,S):(S=xa(g.type,g.key,g.props,null,p.mode,S),S.ref=Vr(p,x,g),S.return=p,S)}function d(p,x,g,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==g.containerInfo||x.stateNode.implementation!==g.implementation?(x=Zl(g,p.mode,S),x.return=p,x):(x=a(x,g.children||[]),x.return=p,x)}function u(p,x,g,S,b){return x===null||x.tag!==7?(x=Us(g,p.mode,S,b),x.return=p,x):(x=a(x,g),x.return=p,x)}function h(p,x,g){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Xl(""+x,p.mode,g),x.return=p,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Vn:return g=xa(x.type,x.key,x.props,null,p.mode,g),g.ref=Vr(p,null,x),g.return=p,g;case sr:return x=Zl(x,p.mode,g),x.return=p,x;case is:var S=x._init;return h(p,S(x._payload),g)}if(Kr(x)||Or(x))return x=Us(x,p.mode,g,null),x.return=p,x;Yn(p,x)}return null}function v(p,x,g,S){var b=x!==null?x.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return b!==null?null:o(p,x,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Vn:return g.key===b?c(p,x,g,S):null;case sr:return g.key===b?d(p,x,g,S):null;case is:return b=g._init,v(p,x,b(g._payload),S)}if(Kr(g)||Or(g))return b!==null?null:u(p,x,g,S,null);Yn(p,g)}return null}function N(p,x,g,S,b){if(typeof S=="string"&&S!==""||typeof S=="number")return p=p.get(g)||null,o(x,p,""+S,b);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Vn:return p=p.get(S.key===null?g:S.key)||null,c(x,p,S,b);case sr:return p=p.get(S.key===null?g:S.key)||null,d(x,p,S,b);case is:var k=S._init;return N(p,x,g,k(S._payload),b)}if(Kr(S)||Or(S))return p=p.get(g)||null,u(x,p,S,b,null);Yn(x,S)}return null}function y(p,x,g,S){for(var b=null,k=null,_=x,w=x=0,M=null;_!==null&&w<g.length;w++){_.index>w?(M=_,_=null):M=_.sibling;var T=v(p,_,g[w],S);if(T===null){_===null&&(_=M);break}e&&_&&T.alternate===null&&t(p,_),x=l(T,x,w),k===null?b=T:k.sibling=T,k=T,_=M}if(w===g.length)return r(p,_),be&&Ls(p,w),b;if(_===null){for(;w<g.length;w++)_=h(p,g[w],S),_!==null&&(x=l(_,x,w),k===null?b=_:k.sibling=_,k=_);return be&&Ls(p,w),b}for(_=n(p,_);w<g.length;w++)M=N(_,p,w,g[w],S),M!==null&&(e&&M.alternate!==null&&_.delete(M.key===null?w:M.key),x=l(M,x,w),k===null?b=M:k.sibling=M,k=M);return e&&_.forEach(function(D){return t(p,D)}),be&&Ls(p,w),b}function f(p,x,g,S){var b=Or(g);if(typeof b!="function")throw Error(F(150));if(g=b.call(g),g==null)throw Error(F(151));for(var k=b=null,_=x,w=x=0,M=null,T=g.next();_!==null&&!T.done;w++,T=g.next()){_.index>w?(M=_,_=null):M=_.sibling;var D=v(p,_,T.value,S);if(D===null){_===null&&(_=M);break}e&&_&&D.alternate===null&&t(p,_),x=l(D,x,w),k===null?b=D:k.sibling=D,k=D,_=M}if(T.done)return r(p,_),be&&Ls(p,w),b;if(_===null){for(;!T.done;w++,T=g.next())T=h(p,T.value,S),T!==null&&(x=l(T,x,w),k===null?b=T:k.sibling=T,k=T);return be&&Ls(p,w),b}for(_=n(p,_);!T.done;w++,T=g.next())T=N(_,p,w,T.value,S),T!==null&&(e&&T.alternate!==null&&_.delete(T.key===null?w:T.key),x=l(T,x,w),k===null?b=T:k.sibling=T,k=T);return e&&_.forEach(function(I){return t(p,I)}),be&&Ls(p,w),b}function j(p,x,g,S){if(typeof g=="object"&&g!==null&&g.type===rr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Vn:e:{for(var b=g.key,k=x;k!==null;){if(k.key===b){if(b=g.type,b===rr){if(k.tag===7){r(p,k.sibling),x=a(k,g.props.children),x.return=p,p=x;break e}}else if(k.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===is&&id(b)===k.type){r(p,k.sibling),x=a(k,g.props),x.ref=Vr(p,k,g),x.return=p,p=x;break e}r(p,k);break}else t(p,k);k=k.sibling}g.type===rr?(x=Us(g.props.children,p.mode,S,g.key),x.return=p,p=x):(S=xa(g.type,g.key,g.props,null,p.mode,S),S.ref=Vr(p,x,g),S.return=p,p=S)}return i(p);case sr:e:{for(k=g.key;x!==null;){if(x.key===k)if(x.tag===4&&x.stateNode.containerInfo===g.containerInfo&&x.stateNode.implementation===g.implementation){r(p,x.sibling),x=a(x,g.children||[]),x.return=p,p=x;break e}else{r(p,x);break}else t(p,x);x=x.sibling}x=Zl(g,p.mode,S),x.return=p,p=x}return i(p);case is:return k=g._init,j(p,x,k(g._payload),S)}if(Kr(g))return y(p,x,g,S);if(Or(g))return f(p,x,g,S);Yn(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,x!==null&&x.tag===6?(r(p,x.sibling),x=a(x,g),x.return=p,p=x):(r(p,x),x=Xl(g,p.mode,S),x.return=p,p=x),i(p)):r(p,x)}return j}var br=Sm(!0),Cm=Sm(!1),La=Ts(null),Ra=null,ur=null,Ao=null;function Do(){Ao=ur=Ra=null}function Oo(e){var t=La.current;je(La),e._currentValue=t}function Di(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function vr(e,t){Ra=e,Ao=ur=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(nt=!0),e.firstContext=null)}function Et(e){var t=e._currentValue;if(Ao!==e)if(e={context:e,memoizedValue:t,next:null},ur===null){if(Ra===null)throw Error(F(308));ur=e,Ra.dependencies={lanes:0,firstContext:e}}else ur=ur.next=e;return t}var Ds=null;function Fo(e){Ds===null?Ds=[e]:Ds.push(e)}function Em(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Fo(t)):(r.next=a.next,a.next=r),t.interleaved=r,ss(e,n)}function ss(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var os=!1;function Io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _m(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vs(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,me&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,ss(e,r)}return a=n.interleaved,a===null?(t.next=t,Fo(n)):(t.next=a.next,a.next=t),n.interleaved=t,ss(e,r)}function ca(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ko(e,r)}}function od(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?a=l=i:l=l.next=i,r=r.next}while(r!==null);l===null?a=l=t:l=l.next=t}else a=l=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Aa(e,t,r,n){var a=e.updateQueue;os=!1;var l=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,d=c.next;c.next=null,i===null?l=d:i.next=d,i=c;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==i&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(l!==null){var h=a.baseState;i=0,u=d=c=null,o=l;do{var v=o.lane,N=o.eventTime;if((n&v)===v){u!==null&&(u=u.next={eventTime:N,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,f=o;switch(v=t,N=r,f.tag){case 1:if(y=f.payload,typeof y=="function"){h=y.call(N,h,v);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=f.payload,v=typeof y=="function"?y.call(N,h,v):y,v==null)break e;h=Ce({},h,v);break e;case 2:os=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,v=a.effects,v===null?a.effects=[o]:v.push(o))}else N={eventTime:N,lane:v,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=N,c=h):u=u.next=N,i|=v;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;v=o,o=v.next,v.next=null,a.lastBaseUpdate=v,a.shared.pending=null}}while(!0);if(u===null&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);Ws|=i,e.lanes=i,e.memoizedState=h}}function cd(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(F(191,a));a.call(n)}}}var Ln={},qt=Ts(Ln),yn=Ts(Ln),jn=Ts(Ln);function Os(e){if(e===Ln)throw Error(F(174));return e}function Uo(e,t){switch(ve(jn,t),ve(yn,e),ve(qt,Ln),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fi(t,e)}je(qt),ve(qt,t)}function kr(){je(qt),je(yn),je(jn)}function Tm(e){Os(jn.current);var t=Os(qt.current),r=fi(t,e.type);t!==r&&(ve(yn,e),ve(qt,r))}function $o(e){yn.current===e&&(je(qt),je(yn))}var ke=Ts(0);function Da(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hl=[];function Vo(){for(var e=0;e<Hl.length;e++)Hl[e]._workInProgressVersionPrimary=null;Hl.length=0}var da=ns.ReactCurrentDispatcher,Wl=ns.ReactCurrentBatchConfig,Hs=0,Se=null,Ae=null,Fe=null,Oa=!1,tn=!1,wn=0,bf=0;function He(){throw Error(F(321))}function Bo(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Dt(e[r],t[r]))return!1;return!0}function qo(e,t,r,n,a,l){if(Hs=l,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,da.current=e===null||e.memoizedState===null?Ef:_f,e=r(n,a),tn){l=0;do{if(tn=!1,wn=0,25<=l)throw Error(F(301));l+=1,Fe=Ae=null,t.updateQueue=null,da.current=Tf,e=r(n,a)}while(tn)}if(da.current=Fa,t=Ae!==null&&Ae.next!==null,Hs=0,Fe=Ae=Se=null,Oa=!1,t)throw Error(F(300));return e}function Ho(){var e=wn!==0;return wn=0,e}function $t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?Se.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function _t(){if(Ae===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var t=Fe===null?Se.memoizedState:Fe.next;if(t!==null)Fe=t,Ae=e;else{if(e===null)throw Error(F(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Fe===null?Se.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function Nn(e,t){return typeof t=="function"?t(e):t}function Kl(e){var t=_t(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=Ae,a=n.baseQueue,l=r.pending;if(l!==null){if(a!==null){var i=a.next;a.next=l.next,l.next=i}n.baseQueue=a=l,r.pending=null}if(a!==null){l=a.next,n=n.baseState;var o=i=null,c=null,d=l;do{var u=d.lane;if((Hs&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=h,i=n):c=c.next=h,Se.lanes|=u,Ws|=u}d=d.next}while(d!==null&&d!==l);c===null?i=n:c.next=o,Dt(n,t.memoizedState)||(nt=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do l=a.lane,Se.lanes|=l,Ws|=l,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Jl(e){var t=_t(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,l=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do l=e(l,i.action),i=i.next;while(i!==a);Dt(l,t.memoizedState)||(nt=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),r.lastRenderedState=l}return[l,n]}function Pm(){}function Mm(e,t){var r=Se,n=_t(),a=t(),l=!Dt(n.memoizedState,a);if(l&&(n.memoizedState=a,nt=!0),n=n.queue,Wo(Rm.bind(null,r,n,e),[e]),n.getSnapshot!==t||l||Fe!==null&&Fe.memoizedState.tag&1){if(r.flags|=2048,bn(9,Lm.bind(null,r,n,a,t),void 0,null),Ie===null)throw Error(F(349));Hs&30||zm(r,t,a)}return a}function zm(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Lm(e,t,r,n){t.value=r,t.getSnapshot=n,Am(t)&&Dm(e)}function Rm(e,t,r){return r(function(){Am(t)&&Dm(e)})}function Am(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Dt(e,r)}catch{return!0}}function Dm(e){var t=ss(e,1);t!==null&&Rt(t,e,1,-1)}function dd(e){var t=$t();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:e},t.queue=e,e=e.dispatch=Cf.bind(null,Se,e),[t.memoizedState,e]}function bn(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Om(){return _t().memoizedState}function ua(e,t,r,n){var a=$t();Se.flags|=e,a.memoizedState=bn(1|t,r,void 0,n===void 0?null:n)}function nl(e,t,r,n){var a=_t();n=n===void 0?null:n;var l=void 0;if(Ae!==null){var i=Ae.memoizedState;if(l=i.destroy,n!==null&&Bo(n,i.deps)){a.memoizedState=bn(t,r,l,n);return}}Se.flags|=e,a.memoizedState=bn(1|t,r,l,n)}function ud(e,t){return ua(8390656,8,e,t)}function Wo(e,t){return nl(2048,8,e,t)}function Fm(e,t){return nl(4,2,e,t)}function Im(e,t){return nl(4,4,e,t)}function Um(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $m(e,t,r){return r=r!=null?r.concat([e]):null,nl(4,4,Um.bind(null,t,e),r)}function Ko(){}function Vm(e,t){var r=_t();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Bo(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Bm(e,t){var r=_t();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Bo(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function qm(e,t,r){return Hs&21?(Dt(r,t)||(r=Qu(),Se.lanes|=r,Ws|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,nt=!0),e.memoizedState=r)}function kf(e,t){var r=ge;ge=r!==0&&4>r?r:4,e(!0);var n=Wl.transition;Wl.transition={};try{e(!1),t()}finally{ge=r,Wl.transition=n}}function Hm(){return _t().memoizedState}function Sf(e,t,r){var n=js(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Wm(e))Km(t,r);else if(r=Em(e,t,r,n),r!==null){var a=Ye();Rt(r,e,n,a),Jm(r,t,n)}}function Cf(e,t,r){var n=js(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Wm(e))Km(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,o=l(i,r);if(a.hasEagerState=!0,a.eagerState=o,Dt(o,i)){var c=t.interleaved;c===null?(a.next=a,Fo(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=Em(e,t,a,n),r!==null&&(a=Ye(),Rt(r,e,n,a),Jm(r,t,n))}}function Wm(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function Km(e,t){tn=Oa=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Jm(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ko(e,r)}}var Fa={readContext:Et,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},Ef={readContext:Et,useCallback:function(e,t){return $t().memoizedState=[e,t===void 0?null:t],e},useContext:Et,useEffect:ud,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ua(4194308,4,Um.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ua(4194308,4,e,t)},useInsertionEffect:function(e,t){return ua(4,2,e,t)},useMemo:function(e,t){var r=$t();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=$t();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Sf.bind(null,Se,e),[n.memoizedState,e]},useRef:function(e){var t=$t();return e={current:e},t.memoizedState=e},useState:dd,useDebugValue:Ko,useDeferredValue:function(e){return $t().memoizedState=e},useTransition:function(){var e=dd(!1),t=e[0];return e=kf.bind(null,e[1]),$t().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Se,a=$t();if(be){if(r===void 0)throw Error(F(407));r=r()}else{if(r=t(),Ie===null)throw Error(F(349));Hs&30||zm(n,t,r)}a.memoizedState=r;var l={value:r,getSnapshot:t};return a.queue=l,ud(Rm.bind(null,n,l,e),[e]),n.flags|=2048,bn(9,Lm.bind(null,n,l,r,t),void 0,null),r},useId:function(){var e=$t(),t=Ie.identifierPrefix;if(be){var r=Zt,n=Xt;r=(n&~(1<<32-Lt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=wn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=bf++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_f={readContext:Et,useCallback:Vm,useContext:Et,useEffect:Wo,useImperativeHandle:$m,useInsertionEffect:Fm,useLayoutEffect:Im,useMemo:Bm,useReducer:Kl,useRef:Om,useState:function(){return Kl(Nn)},useDebugValue:Ko,useDeferredValue:function(e){var t=_t();return qm(t,Ae.memoizedState,e)},useTransition:function(){var e=Kl(Nn)[0],t=_t().memoizedState;return[e,t]},useMutableSource:Pm,useSyncExternalStore:Mm,useId:Hm,unstable_isNewReconciler:!1},Tf={readContext:Et,useCallback:Vm,useContext:Et,useEffect:Wo,useImperativeHandle:$m,useInsertionEffect:Fm,useLayoutEffect:Im,useMemo:Bm,useReducer:Jl,useRef:Om,useState:function(){return Jl(Nn)},useDebugValue:Ko,useDeferredValue:function(e){var t=_t();return Ae===null?t.memoizedState=e:qm(t,Ae.memoizedState,e)},useTransition:function(){var e=Jl(Nn)[0],t=_t().memoizedState;return[e,t]},useMutableSource:Pm,useSyncExternalStore:Mm,useId:Hm,unstable_isNewReconciler:!1};function Pt(e,t){if(e&&e.defaultProps){t=Ce({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Oi(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ce({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var al={isMounted:function(e){return(e=e._reactInternals)?Xs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ye(),a=js(e),l=Yt(n,a);l.payload=t,r!=null&&(l.callback=r),t=vs(e,l,a),t!==null&&(Rt(t,e,a,n),ca(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ye(),a=js(e),l=Yt(n,a);l.tag=1,l.payload=t,r!=null&&(l.callback=r),t=vs(e,l,a),t!==null&&(Rt(t,e,a,n),ca(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ye(),n=js(e),a=Yt(r,n);a.tag=2,t!=null&&(a.callback=t),t=vs(e,a,n),t!==null&&(Rt(t,e,n,r),ca(t,e,n))}};function md(e,t,r,n,a,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,l,i):t.prototype&&t.prototype.isPureReactComponent?!xn(r,n)||!xn(a,l):!0}function Qm(e,t,r){var n=!1,a=Ss,l=t.contextType;return typeof l=="object"&&l!==null?l=Et(l):(a=lt(t)?Bs:Ge.current,n=t.contextTypes,l=(n=n!=null)?wr(e,a):Ss),t=new t(r,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=al,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function hd(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&al.enqueueReplaceState(t,t.state,null)}function Fi(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Io(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=Et(l):(l=lt(t)?Bs:Ge.current,a.context=wr(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Oi(e,t,l,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&al.enqueueReplaceState(a,a.state,null),Aa(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Sr(e,t){try{var r="",n=t;do r+=sx(n),n=n.return;while(n);var a=r}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function Ql(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ii(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Pf=typeof WeakMap=="function"?WeakMap:Map;function Gm(e,t,r){r=Yt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ua||(Ua=!0,Qi=n),Ii(e,t)},r}function Xm(e,t,r){r=Yt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Ii(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){Ii(e,t),typeof n!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function pd(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Pf;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=qf.bind(null,e,t,r),t.then(e,e))}function xd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fd(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Yt(-1,1),t.tag=2,vs(r,t,1))),r.lanes|=1),e)}var Mf=ns.ReactCurrentOwner,nt=!1;function Xe(e,t,r,n){t.child=e===null?Cm(t,null,r,n):br(t,e.child,r,n)}function gd(e,t,r,n,a){r=r.render;var l=t.ref;return vr(t,a),n=qo(e,t,r,n,l,a),r=Ho(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,rs(e,t,a)):(be&&r&&zo(t),t.flags|=1,Xe(e,t,n,a),t.child)}function vd(e,t,r,n,a){if(e===null){var l=r.type;return typeof l=="function"&&!tc(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=l,Zm(e,t,l,n,a)):(e=xa(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var i=l.memoizedProps;if(r=r.compare,r=r!==null?r:xn,r(i,n)&&e.ref===t.ref)return rs(e,t,a)}return t.flags|=1,e=ws(l,n),e.ref=t.ref,e.return=t,t.child=e}function Zm(e,t,r,n,a){if(e!==null){var l=e.memoizedProps;if(xn(l,n)&&e.ref===t.ref)if(nt=!1,t.pendingProps=n=l,(e.lanes&a)!==0)e.flags&131072&&(nt=!0);else return t.lanes=e.lanes,rs(e,t,a)}return Ui(e,t,r,n,a)}function Ym(e,t,r){var n=t.pendingProps,a=n.children,l=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(hr,dt),dt|=r;else{if(!(r&1073741824))return e=l!==null?l.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ve(hr,dt),dt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=l!==null?l.baseLanes:r,ve(hr,dt),dt|=n}else l!==null?(n=l.baseLanes|r,t.memoizedState=null):n=r,ve(hr,dt),dt|=n;return Xe(e,t,a,r),t.child}function eh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ui(e,t,r,n,a){var l=lt(r)?Bs:Ge.current;return l=wr(t,l),vr(t,a),r=qo(e,t,r,n,l,a),n=Ho(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,rs(e,t,a)):(be&&n&&zo(t),t.flags|=1,Xe(e,t,r,a),t.child)}function yd(e,t,r,n,a){if(lt(r)){var l=!0;Pa(t)}else l=!1;if(vr(t,a),t.stateNode===null)ma(e,t),Qm(t,r,n),Fi(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var c=i.context,d=r.contextType;typeof d=="object"&&d!==null?d=Et(d):(d=lt(r)?Bs:Ge.current,d=wr(t,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==n||c!==d)&&hd(t,i,n,d),os=!1;var v=t.memoizedState;i.state=v,Aa(t,n,i,a),c=t.memoizedState,o!==n||v!==c||at.current||os?(typeof u=="function"&&(Oi(t,r,u,n),c=t.memoizedState),(o=os||md(t,r,o,n,v,c,d))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=d,n=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,_m(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:Pt(t.type,o),i.props=d,h=t.pendingProps,v=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Et(c):(c=lt(r)?Bs:Ge.current,c=wr(t,c));var N=r.getDerivedStateFromProps;(u=typeof N=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==h||v!==c)&&hd(t,i,n,c),os=!1,v=t.memoizedState,i.state=v,Aa(t,n,i,a);var y=t.memoizedState;o!==h||v!==y||at.current||os?(typeof N=="function"&&(Oi(t,r,N,n),y=t.memoizedState),(d=os||md(t,r,d,n,v,y,c)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,y,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,y,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),i.props=n,i.state=y,i.context=c,n=d):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),n=!1)}return $i(e,t,r,n,l,a)}function $i(e,t,r,n,a,l){eh(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&nd(t,r,!1),rs(e,t,l);n=t.stateNode,Mf.current=t;var o=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=br(t,e.child,null,l),t.child=br(t,null,o,l)):Xe(e,t,o,l),t.memoizedState=n.state,a&&nd(t,r,!0),t.child}function th(e){var t=e.stateNode;t.pendingContext?rd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&rd(e,t.context,!1),Uo(e,t.containerInfo)}function jd(e,t,r,n,a){return Nr(),Ro(a),t.flags|=256,Xe(e,t,r,n),t.child}var Vi={dehydrated:null,treeContext:null,retryLane:0};function Bi(e){return{baseLanes:e,cachePool:null,transitions:null}}function sh(e,t,r){var n=t.pendingProps,a=ke.current,l=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ve(ke,a&1),e===null)return Ai(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,l?(n=t.mode,l=t.child,i={mode:"hidden",children:i},!(n&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=ol(i,n,0,null),e=Us(e,n,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Bi(r),t.memoizedState=Vi,e):Jo(t,i));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return zf(e,t,i,n,o,a,r);if(l){l=n.fallback,i=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ws(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?l=ws(o,l):(l=Us(l,i,r,null),l.flags|=2),l.return=t,n.return=t,n.sibling=l,t.child=n,n=l,l=t.child,i=e.child.memoizedState,i=i===null?Bi(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~r,t.memoizedState=Vi,n}return l=e.child,e=l.sibling,n=ws(l,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Jo(e,t){return t=ol({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ea(e,t,r,n){return n!==null&&Ro(n),br(t,e.child,null,r),e=Jo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zf(e,t,r,n,a,l,i){if(r)return t.flags&256?(t.flags&=-257,n=Ql(Error(F(422))),ea(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=n.fallback,a=t.mode,n=ol({mode:"visible",children:n.children},a,0,null),l=Us(l,a,i,null),l.flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,t.mode&1&&br(t,e.child,null,i),t.child.memoizedState=Bi(i),t.memoizedState=Vi,l);if(!(t.mode&1))return ea(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,l=Error(F(419)),n=Ql(l,n,void 0),ea(e,t,i,n)}if(o=(i&e.childLanes)!==0,nt||o){if(n=Ie,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,ss(e,a),Rt(n,e,a,-1))}return ec(),n=Ql(Error(F(421))),ea(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Hf.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,ut=gs(a.nextSibling),mt=t,be=!0,zt=null,e!==null&&(yt[jt++]=Xt,yt[jt++]=Zt,yt[jt++]=qs,Xt=e.id,Zt=e.overflow,qs=t),t=Jo(t,n.children),t.flags|=4096,t)}function wd(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Di(e.return,t,r)}function Gl(e,t,r,n,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=r,l.tailMode=a)}function rh(e,t,r){var n=t.pendingProps,a=n.revealOrder,l=n.tail;if(Xe(e,t,n.children,r),n=ke.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wd(e,r,t);else if(e.tag===19)wd(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ve(ke,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Da(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Gl(t,!1,a,r,l);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Da(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Gl(t,!0,r,null,l);break;case"together":Gl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ma(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function rs(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ws|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,r=ws(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ws(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Lf(e,t,r){switch(t.tag){case 3:th(t),Nr();break;case 5:Tm(t);break;case 1:lt(t.type)&&Pa(t);break;case 4:Uo(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;ve(La,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ve(ke,ke.current&1),t.flags|=128,null):r&t.child.childLanes?sh(e,t,r):(ve(ke,ke.current&1),e=rs(e,t,r),e!==null?e.sibling:null);ve(ke,ke.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return rh(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ve(ke,ke.current),n)break;return null;case 22:case 23:return t.lanes=0,Ym(e,t,r)}return rs(e,t,r)}var nh,qi,ah,lh;nh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};qi=function(){};ah=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Os(qt.current);var l=null;switch(r){case"input":a=mi(e,a),n=mi(e,n),l=[];break;case"select":a=Ce({},a,{value:void 0}),n=Ce({},n,{value:void 0}),l=[];break;case"textarea":a=xi(e,a),n=xi(e,n),l=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=_a)}gi(r,n);var i;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var o=a[d];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(on.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in n){var c=n[d];if(o=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(l||(l=[]),l.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(l=l||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(on.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ye("scroll",e),l||o===c||(l=[])):(l=l||[]).push(d,c))}r&&(l=l||[]).push("style",r);var d=l;(t.updateQueue=d)&&(t.flags|=4)}};lh=function(e,t,r,n){r!==n&&(t.flags|=4)};function Br(e,t){if(!be)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function We(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Rf(e,t,r){var n=t.pendingProps;switch(Lo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(t),null;case 1:return lt(t.type)&&Ta(),We(t),null;case 3:return n=t.stateNode,kr(),je(at),je(Ge),Vo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Zn(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zt!==null&&(Zi(zt),zt=null))),qi(e,t),We(t),null;case 5:$o(t);var a=Os(jn.current);if(r=t.type,e!==null&&t.stateNode!=null)ah(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(F(166));return We(t),null}if(e=Os(qt.current),Zn(t)){n=t.stateNode,r=t.type;var l=t.memoizedProps;switch(n[Vt]=t,n[vn]=l,e=(t.mode&1)!==0,r){case"dialog":ye("cancel",n),ye("close",n);break;case"iframe":case"object":case"embed":ye("load",n);break;case"video":case"audio":for(a=0;a<Qr.length;a++)ye(Qr[a],n);break;case"source":ye("error",n);break;case"img":case"image":case"link":ye("error",n),ye("load",n);break;case"details":ye("toggle",n);break;case"input":Pc(n,l),ye("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},ye("invalid",n);break;case"textarea":zc(n,l),ye("invalid",n)}gi(r,l),a=null;for(var i in l)if(l.hasOwnProperty(i)){var o=l[i];i==="children"?typeof o=="string"?n.textContent!==o&&(l.suppressHydrationWarning!==!0&&Xn(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&Xn(n.textContent,o,e),a=["children",""+o]):on.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&ye("scroll",n)}switch(r){case"input":Bn(n),Mc(n,l,!0);break;case"textarea":Bn(n),Lc(n);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(n.onclick=_a)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ru(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Vt]=t,e[vn]=n,nh(e,t,!1,!1),t.stateNode=e;e:{switch(i=vi(r,n),r){case"dialog":ye("cancel",e),ye("close",e),a=n;break;case"iframe":case"object":case"embed":ye("load",e),a=n;break;case"video":case"audio":for(a=0;a<Qr.length;a++)ye(Qr[a],e);a=n;break;case"source":ye("error",e),a=n;break;case"img":case"image":case"link":ye("error",e),ye("load",e),a=n;break;case"details":ye("toggle",e),a=n;break;case"input":Pc(e,n),a=mi(e,n),ye("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Ce({},n,{value:void 0}),ye("invalid",e);break;case"textarea":zc(e,n),a=xi(e,n),ye("invalid",e);break;default:a=n}gi(r,a),o=a;for(l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="style"?Ou(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Au(e,c)):l==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&cn(e,c):typeof c=="number"&&cn(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(on.hasOwnProperty(l)?c!=null&&l==="onScroll"&&ye("scroll",e):c!=null&&vo(e,l,c,i))}switch(r){case"input":Bn(e),Mc(e,n,!1);break;case"textarea":Bn(e),Lc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ks(n.value));break;case"select":e.multiple=!!n.multiple,l=n.value,l!=null?pr(e,!!n.multiple,l,!1):n.defaultValue!=null&&pr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=_a)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return We(t),null;case 6:if(e&&t.stateNode!=null)lh(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(F(166));if(r=Os(jn.current),Os(qt.current),Zn(t)){if(n=t.stateNode,r=t.memoizedProps,n[Vt]=t,(l=n.nodeValue!==r)&&(e=mt,e!==null))switch(e.tag){case 3:Xn(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xn(n.nodeValue,r,(e.mode&1)!==0)}l&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Vt]=t,t.stateNode=n}return We(t),null;case 13:if(je(ke),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(be&&ut!==null&&t.mode&1&&!(t.flags&128))km(),Nr(),t.flags|=98560,l=!1;else if(l=Zn(t),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(F(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(F(317));l[Vt]=t}else Nr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;We(t),l=!1}else zt!==null&&(Zi(zt),zt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ke.current&1?De===0&&(De=3):ec())),t.updateQueue!==null&&(t.flags|=4),We(t),null);case 4:return kr(),qi(e,t),e===null&&fn(t.stateNode.containerInfo),We(t),null;case 10:return Oo(t.type._context),We(t),null;case 17:return lt(t.type)&&Ta(),We(t),null;case 19:if(je(ke),l=t.memoizedState,l===null)return We(t),null;if(n=(t.flags&128)!==0,i=l.rendering,i===null)if(n)Br(l,!1);else{if(De!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Da(e),i!==null){for(t.flags|=128,Br(l,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)l=r,e=n,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ve(ke,ke.current&1|2),t.child}e=e.sibling}l.tail!==null&&Te()>Cr&&(t.flags|=128,n=!0,Br(l,!1),t.lanes=4194304)}else{if(!n)if(e=Da(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Br(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!be)return We(t),null}else 2*Te()-l.renderingStartTime>Cr&&r!==1073741824&&(t.flags|=128,n=!0,Br(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(r=l.last,r!==null?r.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Te(),t.sibling=null,r=ke.current,ve(ke,n?r&1|2:r&1),t):(We(t),null);case 22:case 23:return Yo(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?dt&1073741824&&(We(t),t.subtreeFlags&6&&(t.flags|=8192)):We(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function Af(e,t){switch(Lo(t),t.tag){case 1:return lt(t.type)&&Ta(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return kr(),je(at),je(Ge),Vo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $o(t),null;case 13:if(je(ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));Nr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return je(ke),null;case 4:return kr(),null;case 10:return Oo(t.type._context),null;case 22:case 23:return Yo(),null;case 24:return null;default:return null}}var ta=!1,Ke=!1,Df=typeof WeakSet=="function"?WeakSet:Set,Q=null;function mr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ee(e,t,n)}else r.current=null}function Hi(e,t,r){try{r()}catch(n){Ee(e,t,n)}}var Nd=!1;function Of(e,t){if(_i=Sa,e=um(),Mo(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var i=0,o=-1,c=-1,d=0,u=0,h=e,v=null;t:for(;;){for(var N;h!==r||a!==0&&h.nodeType!==3||(o=i+a),h!==l||n!==0&&h.nodeType!==3||(c=i+n),h.nodeType===3&&(i+=h.nodeValue.length),(N=h.firstChild)!==null;)v=h,h=N;for(;;){if(h===e)break t;if(v===r&&++d===a&&(o=i),v===l&&++u===n&&(c=i),(N=h.nextSibling)!==null)break;h=v,v=h.parentNode}h=N}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ti={focusedElem:e,selectionRange:r},Sa=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var f=y.memoizedProps,j=y.memoizedState,p=t.stateNode,x=p.getSnapshotBeforeUpdate(t.elementType===t.type?f:Pt(t.type,f),j);p.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(S){Ee(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return y=Nd,Nd=!1,y}function sn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&Hi(t,r,l)}a=a.next}while(a!==n)}}function ll(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Wi(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function ih(e){var t=e.alternate;t!==null&&(e.alternate=null,ih(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Vt],delete t[vn],delete t[zi],delete t[yf],delete t[jf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function oh(e){return e.tag===5||e.tag===3||e.tag===4}function bd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||oh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ki(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=_a));else if(n!==4&&(e=e.child,e!==null))for(Ki(e,t,r),e=e.sibling;e!==null;)Ki(e,t,r),e=e.sibling}function Ji(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ji(e,t,r),e=e.sibling;e!==null;)Ji(e,t,r),e=e.sibling}var Ve=null,Mt=!1;function ls(e,t,r){for(r=r.child;r!==null;)ch(e,t,r),r=r.sibling}function ch(e,t,r){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Za,r)}catch{}switch(r.tag){case 5:Ke||mr(r,t);case 6:var n=Ve,a=Mt;Ve=null,ls(e,t,r),Ve=n,Mt=a,Ve!==null&&(Mt?(e=Ve,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ve.removeChild(r.stateNode));break;case 18:Ve!==null&&(Mt?(e=Ve,r=r.stateNode,e.nodeType===8?Bl(e.parentNode,r):e.nodeType===1&&Bl(e,r),hn(e)):Bl(Ve,r.stateNode));break;case 4:n=Ve,a=Mt,Ve=r.stateNode.containerInfo,Mt=!0,ls(e,t,r),Ve=n,Mt=a;break;case 0:case 11:case 14:case 15:if(!Ke&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var l=a,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&Hi(r,t,i),a=a.next}while(a!==n)}ls(e,t,r);break;case 1:if(!Ke&&(mr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Ee(r,t,o)}ls(e,t,r);break;case 21:ls(e,t,r);break;case 22:r.mode&1?(Ke=(n=Ke)||r.memoizedState!==null,ls(e,t,r),Ke=n):ls(e,t,r);break;default:ls(e,t,r)}}function kd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Df),t.forEach(function(n){var a=Wf.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Tt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var l=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:Ve=o.stateNode,Mt=!1;break e;case 3:Ve=o.stateNode.containerInfo,Mt=!0;break e;case 4:Ve=o.stateNode.containerInfo,Mt=!0;break e}o=o.return}if(Ve===null)throw Error(F(160));ch(l,i,a),Ve=null,Mt=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Ee(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)dh(t,e),t=t.sibling}function dh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tt(t,e),It(e),n&4){try{sn(3,e,e.return),ll(3,e)}catch(f){Ee(e,e.return,f)}try{sn(5,e,e.return)}catch(f){Ee(e,e.return,f)}}break;case 1:Tt(t,e),It(e),n&512&&r!==null&&mr(r,r.return);break;case 5:if(Tt(t,e),It(e),n&512&&r!==null&&mr(r,r.return),e.flags&32){var a=e.stateNode;try{cn(a,"")}catch(f){Ee(e,e.return,f)}}if(n&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,i=r!==null?r.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&zu(a,l),vi(o,i);var d=vi(o,l);for(i=0;i<c.length;i+=2){var u=c[i],h=c[i+1];u==="style"?Ou(a,h):u==="dangerouslySetInnerHTML"?Au(a,h):u==="children"?cn(a,h):vo(a,u,h,d)}switch(o){case"input":hi(a,l);break;case"textarea":Lu(a,l);break;case"select":var v=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var N=l.value;N!=null?pr(a,!!l.multiple,N,!1):v!==!!l.multiple&&(l.defaultValue!=null?pr(a,!!l.multiple,l.defaultValue,!0):pr(a,!!l.multiple,l.multiple?[]:"",!1))}a[vn]=l}catch(f){Ee(e,e.return,f)}}break;case 6:if(Tt(t,e),It(e),n&4){if(e.stateNode===null)throw Error(F(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(f){Ee(e,e.return,f)}}break;case 3:if(Tt(t,e),It(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{hn(t.containerInfo)}catch(f){Ee(e,e.return,f)}break;case 4:Tt(t,e),It(e);break;case 13:Tt(t,e),It(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(Xo=Te())),n&4&&kd(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Ke=(d=Ke)||u,Tt(t,e),Ke=d):Tt(t,e),It(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Q=e,u=e.child;u!==null;){for(h=Q=u;Q!==null;){switch(v=Q,N=v.child,v.tag){case 0:case 11:case 14:case 15:sn(4,v,v.return);break;case 1:mr(v,v.return);var y=v.stateNode;if(typeof y.componentWillUnmount=="function"){n=v,r=v.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(f){Ee(n,r,f)}}break;case 5:mr(v,v.return);break;case 22:if(v.memoizedState!==null){Cd(h);continue}}N!==null?(N.return=v,Q=N):Cd(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,d?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=h.stateNode,c=h.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Du("display",i))}catch(f){Ee(e,e.return,f)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(f){Ee(e,e.return,f)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Tt(t,e),It(e),n&4&&kd(e);break;case 21:break;default:Tt(t,e),It(e)}}function It(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(oh(r)){var n=r;break e}r=r.return}throw Error(F(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(cn(a,""),n.flags&=-33);var l=bd(e);Ji(e,l,a);break;case 3:case 4:var i=n.stateNode.containerInfo,o=bd(e);Ki(e,o,i);break;default:throw Error(F(161))}}catch(c){Ee(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ff(e,t,r){Q=e,uh(e)}function uh(e,t,r){for(var n=(e.mode&1)!==0;Q!==null;){var a=Q,l=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||ta;if(!i){var o=a.alternate,c=o!==null&&o.memoizedState!==null||Ke;o=ta;var d=Ke;if(ta=i,(Ke=c)&&!d)for(Q=a;Q!==null;)i=Q,c=i.child,i.tag===22&&i.memoizedState!==null?Ed(a):c!==null?(c.return=i,Q=c):Ed(a);for(;l!==null;)Q=l,uh(l),l=l.sibling;Q=a,ta=o,Ke=d}Sd(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,Q=l):Sd(e)}}function Sd(e){for(;Q!==null;){var t=Q;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ke||ll(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ke)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Pt(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&cd(t,l,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}cd(t,i,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&hn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Ke||t.flags&512&&Wi(t)}catch(v){Ee(t,t.return,v)}}if(t===e){Q=null;break}if(r=t.sibling,r!==null){r.return=t.return,Q=r;break}Q=t.return}}function Cd(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Q=r;break}Q=t.return}}function Ed(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ll(4,t)}catch(c){Ee(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Ee(t,a,c)}}var l=t.return;try{Wi(t)}catch(c){Ee(t,l,c)}break;case 5:var i=t.return;try{Wi(t)}catch(c){Ee(t,i,c)}}}catch(c){Ee(t,t.return,c)}if(t===e){Q=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Q=o;break}Q=t.return}}var If=Math.ceil,Ia=ns.ReactCurrentDispatcher,Qo=ns.ReactCurrentOwner,kt=ns.ReactCurrentBatchConfig,me=0,Ie=null,Me=null,Be=0,dt=0,hr=Ts(0),De=0,kn=null,Ws=0,il=0,Go=0,rn=null,rt=null,Xo=0,Cr=1/0,Qt=null,Ua=!1,Qi=null,ys=null,sa=!1,ms=null,$a=0,nn=0,Gi=null,ha=-1,pa=0;function Ye(){return me&6?Te():ha!==-1?ha:ha=Te()}function js(e){return e.mode&1?me&2&&Be!==0?Be&-Be:Nf.transition!==null?(pa===0&&(pa=Qu()),pa):(e=ge,e!==0||(e=window.event,e=e===void 0?16:sm(e.type)),e):1}function Rt(e,t,r,n){if(50<nn)throw nn=0,Gi=null,Error(F(185));Pn(e,r,n),(!(me&2)||e!==Ie)&&(e===Ie&&(!(me&2)&&(il|=r),De===4&&ds(e,Be)),it(e,n),r===1&&me===0&&!(t.mode&1)&&(Cr=Te()+500,rl&&Ps()))}function it(e,t){var r=e.callbackNode;wx(e,t);var n=ka(e,e===Ie?Be:0);if(n===0)r!==null&&Dc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Dc(r),t===1)e.tag===0?wf(_d.bind(null,e)):wm(_d.bind(null,e)),gf(function(){!(me&6)&&Ps()}),r=null;else{switch(Gu(n)){case 1:r=bo;break;case 4:r=Ku;break;case 16:r=ba;break;case 536870912:r=Ju;break;default:r=ba}r=yh(r,mh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function mh(e,t){if(ha=-1,pa=0,me&6)throw Error(F(327));var r=e.callbackNode;if(yr()&&e.callbackNode!==r)return null;var n=ka(e,e===Ie?Be:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Va(e,n);else{t=n;var a=me;me|=2;var l=ph();(Ie!==e||Be!==t)&&(Qt=null,Cr=Te()+500,Is(e,t));do try{Vf();break}catch(o){hh(e,o)}while(!0);Do(),Ia.current=l,me=a,Me!==null?t=0:(Ie=null,Be=0,t=De)}if(t!==0){if(t===2&&(a=bi(e),a!==0&&(n=a,t=Xi(e,a))),t===1)throw r=kn,Is(e,0),ds(e,n),it(e,Te()),r;if(t===6)ds(e,n);else{if(a=e.current.alternate,!(n&30)&&!Uf(a)&&(t=Va(e,n),t===2&&(l=bi(e),l!==0&&(n=l,t=Xi(e,l))),t===1))throw r=kn,Is(e,0),ds(e,n),it(e,Te()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(F(345));case 2:Rs(e,rt,Qt);break;case 3:if(ds(e,n),(n&130023424)===n&&(t=Xo+500-Te(),10<t)){if(ka(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Ye(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Mi(Rs.bind(null,e,rt,Qt),t);break}Rs(e,rt,Qt);break;case 4:if(ds(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-Lt(n);l=1<<i,i=t[i],i>a&&(a=i),n&=~l}if(n=a,n=Te()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*If(n/1960))-n,10<n){e.timeoutHandle=Mi(Rs.bind(null,e,rt,Qt),n);break}Rs(e,rt,Qt);break;case 5:Rs(e,rt,Qt);break;default:throw Error(F(329))}}}return it(e,Te()),e.callbackNode===r?mh.bind(null,e):null}function Xi(e,t){var r=rn;return e.current.memoizedState.isDehydrated&&(Is(e,t).flags|=256),e=Va(e,t),e!==2&&(t=rt,rt=r,t!==null&&Zi(t)),e}function Zi(e){rt===null?rt=e:rt.push.apply(rt,e)}function Uf(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],l=a.getSnapshot;a=a.value;try{if(!Dt(l(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ds(e,t){for(t&=~Go,t&=~il,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Lt(t),n=1<<r;e[r]=-1,t&=~n}}function _d(e){if(me&6)throw Error(F(327));yr();var t=ka(e,0);if(!(t&1))return it(e,Te()),null;var r=Va(e,t);if(e.tag!==0&&r===2){var n=bi(e);n!==0&&(t=n,r=Xi(e,n))}if(r===1)throw r=kn,Is(e,0),ds(e,t),it(e,Te()),r;if(r===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rs(e,rt,Qt),it(e,Te()),null}function Zo(e,t){var r=me;me|=1;try{return e(t)}finally{me=r,me===0&&(Cr=Te()+500,rl&&Ps())}}function Ks(e){ms!==null&&ms.tag===0&&!(me&6)&&yr();var t=me;me|=1;var r=kt.transition,n=ge;try{if(kt.transition=null,ge=1,e)return e()}finally{ge=n,kt.transition=r,me=t,!(me&6)&&Ps()}}function Yo(){dt=hr.current,je(hr)}function Is(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,ff(r)),Me!==null)for(r=Me.return;r!==null;){var n=r;switch(Lo(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ta();break;case 3:kr(),je(at),je(Ge),Vo();break;case 5:$o(n);break;case 4:kr();break;case 13:je(ke);break;case 19:je(ke);break;case 10:Oo(n.type._context);break;case 22:case 23:Yo()}r=r.return}if(Ie=e,Me=e=ws(e.current,null),Be=dt=t,De=0,kn=null,Go=il=Ws=0,rt=rn=null,Ds!==null){for(t=0;t<Ds.length;t++)if(r=Ds[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,l=r.pending;if(l!==null){var i=l.next;l.next=a,n.next=i}r.pending=n}Ds=null}return e}function hh(e,t){do{var r=Me;try{if(Do(),da.current=Fa,Oa){for(var n=Se.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Oa=!1}if(Hs=0,Fe=Ae=Se=null,tn=!1,wn=0,Qo.current=null,r===null||r.return===null){De=1,kn=t,Me=null;break}e:{var l=e,i=r.return,o=r,c=t;if(t=Be,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var v=u.alternate;v?(u.updateQueue=v.updateQueue,u.memoizedState=v.memoizedState,u.lanes=v.lanes):(u.updateQueue=null,u.memoizedState=null)}var N=xd(i);if(N!==null){N.flags&=-257,fd(N,i,o,l,t),N.mode&1&&pd(l,d,t),t=N,c=d;var y=t.updateQueue;if(y===null){var f=new Set;f.add(c),t.updateQueue=f}else y.add(c);break e}else{if(!(t&1)){pd(l,d,t),ec();break e}c=Error(F(426))}}else if(be&&o.mode&1){var j=xd(i);if(j!==null){!(j.flags&65536)&&(j.flags|=256),fd(j,i,o,l,t),Ro(Sr(c,o));break e}}l=c=Sr(c,o),De!==4&&(De=2),rn===null?rn=[l]:rn.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var p=Gm(l,c,t);od(l,p);break e;case 1:o=c;var x=l.type,g=l.stateNode;if(!(l.flags&128)&&(typeof x.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ys===null||!ys.has(g)))){l.flags|=65536,t&=-t,l.lanes|=t;var S=Xm(l,o,t);od(l,S);break e}}l=l.return}while(l!==null)}fh(r)}catch(b){t=b,Me===r&&r!==null&&(Me=r=r.return);continue}break}while(!0)}function ph(){var e=Ia.current;return Ia.current=Fa,e===null?Fa:e}function ec(){(De===0||De===3||De===2)&&(De=4),Ie===null||!(Ws&268435455)&&!(il&268435455)||ds(Ie,Be)}function Va(e,t){var r=me;me|=2;var n=ph();(Ie!==e||Be!==t)&&(Qt=null,Is(e,t));do try{$f();break}catch(a){hh(e,a)}while(!0);if(Do(),me=r,Ia.current=n,Me!==null)throw Error(F(261));return Ie=null,Be=0,De}function $f(){for(;Me!==null;)xh(Me)}function Vf(){for(;Me!==null&&!mx();)xh(Me)}function xh(e){var t=vh(e.alternate,e,dt);e.memoizedProps=e.pendingProps,t===null?fh(e):Me=t,Qo.current=null}function fh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Af(r,t),r!==null){r.flags&=32767,Me=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{De=6,Me=null;return}}else if(r=Rf(r,t,dt),r!==null){Me=r;return}if(t=t.sibling,t!==null){Me=t;return}Me=t=e}while(t!==null);De===0&&(De=5)}function Rs(e,t,r){var n=ge,a=kt.transition;try{kt.transition=null,ge=1,Bf(e,t,r,n)}finally{kt.transition=a,ge=n}return null}function Bf(e,t,r,n){do yr();while(ms!==null);if(me&6)throw Error(F(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(Nx(e,l),e===Ie&&(Me=Ie=null,Be=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||sa||(sa=!0,yh(ba,function(){return yr(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=kt.transition,kt.transition=null;var i=ge;ge=1;var o=me;me|=4,Qo.current=null,Of(e,r),dh(r,e),cf(Ti),Sa=!!_i,Ti=_i=null,e.current=r,Ff(r),hx(),me=o,ge=i,kt.transition=l}else e.current=r;if(sa&&(sa=!1,ms=e,$a=a),l=e.pendingLanes,l===0&&(ys=null),fx(r.stateNode),it(e,Te()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Ua)throw Ua=!1,e=Qi,Qi=null,e;return $a&1&&e.tag!==0&&yr(),l=e.pendingLanes,l&1?e===Gi?nn++:(nn=0,Gi=e):nn=0,Ps(),null}function yr(){if(ms!==null){var e=Gu($a),t=kt.transition,r=ge;try{if(kt.transition=null,ge=16>e?16:e,ms===null)var n=!1;else{if(e=ms,ms=null,$a=0,me&6)throw Error(F(331));var a=me;for(me|=4,Q=e.current;Q!==null;){var l=Q,i=l.child;if(Q.flags&16){var o=l.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(Q=d;Q!==null;){var u=Q;switch(u.tag){case 0:case 11:case 15:sn(8,u,l)}var h=u.child;if(h!==null)h.return=u,Q=h;else for(;Q!==null;){u=Q;var v=u.sibling,N=u.return;if(ih(u),u===d){Q=null;break}if(v!==null){v.return=N,Q=v;break}Q=N}}}var y=l.alternate;if(y!==null){var f=y.child;if(f!==null){y.child=null;do{var j=f.sibling;f.sibling=null,f=j}while(f!==null)}}Q=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,Q=i;else e:for(;Q!==null;){if(l=Q,l.flags&2048)switch(l.tag){case 0:case 11:case 15:sn(9,l,l.return)}var p=l.sibling;if(p!==null){p.return=l.return,Q=p;break e}Q=l.return}}var x=e.current;for(Q=x;Q!==null;){i=Q;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,Q=g;else e:for(i=x;Q!==null;){if(o=Q,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ll(9,o)}}catch(b){Ee(o,o.return,b)}if(o===i){Q=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,Q=S;break e}Q=o.return}}if(me=a,Ps(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Za,e)}catch{}n=!0}return n}finally{ge=r,kt.transition=t}}return!1}function Td(e,t,r){t=Sr(r,t),t=Gm(e,t,1),e=vs(e,t,1),t=Ye(),e!==null&&(Pn(e,1,t),it(e,t))}function Ee(e,t,r){if(e.tag===3)Td(e,e,r);else for(;t!==null;){if(t.tag===3){Td(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ys===null||!ys.has(n))){e=Sr(r,e),e=Xm(t,e,1),t=vs(t,e,1),e=Ye(),t!==null&&(Pn(t,1,e),it(t,e));break}}t=t.return}}function qf(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ye(),e.pingedLanes|=e.suspendedLanes&r,Ie===e&&(Be&r)===r&&(De===4||De===3&&(Be&130023424)===Be&&500>Te()-Xo?Is(e,0):Go|=r),it(e,t)}function gh(e,t){t===0&&(e.mode&1?(t=Wn,Wn<<=1,!(Wn&130023424)&&(Wn=4194304)):t=1);var r=Ye();e=ss(e,t),e!==null&&(Pn(e,t,r),it(e,r))}function Hf(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),gh(e,r)}function Wf(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(F(314))}n!==null&&n.delete(t),gh(e,r)}var vh;vh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||at.current)nt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return nt=!1,Lf(e,t,r);nt=!!(e.flags&131072)}else nt=!1,be&&t.flags&1048576&&Nm(t,za,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ma(e,t),e=t.pendingProps;var a=wr(t,Ge.current);vr(t,r),a=qo(null,t,n,e,a,r);var l=Ho();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,lt(n)?(l=!0,Pa(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Io(t),a.updater=al,t.stateNode=a,a._reactInternals=t,Fi(t,n,e,r),t=$i(null,t,n,!0,l,r)):(t.tag=0,be&&l&&zo(t),Xe(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ma(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=Jf(n),e=Pt(n,e),a){case 0:t=Ui(null,t,n,e,r);break e;case 1:t=yd(null,t,n,e,r);break e;case 11:t=gd(null,t,n,e,r);break e;case 14:t=vd(null,t,n,Pt(n.type,e),r);break e}throw Error(F(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Pt(n,a),Ui(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Pt(n,a),yd(e,t,n,a,r);case 3:e:{if(th(t),e===null)throw Error(F(387));n=t.pendingProps,l=t.memoizedState,a=l.element,_m(e,t),Aa(t,n,null,r);var i=t.memoizedState;if(n=i.element,l.isDehydrated)if(l={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=Sr(Error(F(423)),t),t=jd(e,t,n,r,a);break e}else if(n!==a){a=Sr(Error(F(424)),t),t=jd(e,t,n,r,a);break e}else for(ut=gs(t.stateNode.containerInfo.firstChild),mt=t,be=!0,zt=null,r=Cm(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Nr(),n===a){t=rs(e,t,r);break e}Xe(e,t,n,r)}t=t.child}return t;case 5:return Tm(t),e===null&&Ai(t),n=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,i=a.children,Pi(n,a)?i=null:l!==null&&Pi(n,l)&&(t.flags|=32),eh(e,t),Xe(e,t,i,r),t.child;case 6:return e===null&&Ai(t),null;case 13:return sh(e,t,r);case 4:return Uo(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=br(t,null,n,r):Xe(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Pt(n,a),gd(e,t,n,a,r);case 7:return Xe(e,t,t.pendingProps,r),t.child;case 8:return Xe(e,t,t.pendingProps.children,r),t.child;case 12:return Xe(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,l=t.memoizedProps,i=a.value,ve(La,n._currentValue),n._currentValue=i,l!==null)if(Dt(l.value,i)){if(l.children===a.children&&!at.current){t=rs(e,t,r);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var o=l.dependencies;if(o!==null){i=l.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(l.tag===1){c=Yt(-1,r&-r),c.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),Di(l.return,r,t),o.lanes|=r;break}c=c.next}}else if(l.tag===10)i=l.type===t.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(F(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),Di(i,r,t),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===t){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}Xe(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,vr(t,r),a=Et(a),n=n(a),t.flags|=1,Xe(e,t,n,r),t.child;case 14:return n=t.type,a=Pt(n,t.pendingProps),a=Pt(n.type,a),vd(e,t,n,a,r);case 15:return Zm(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Pt(n,a),ma(e,t),t.tag=1,lt(n)?(e=!0,Pa(t)):e=!1,vr(t,r),Qm(t,n,a),Fi(t,n,a,r),$i(null,t,n,!0,e,r);case 19:return rh(e,t,r);case 22:return Ym(e,t,r)}throw Error(F(156,t.tag))};function yh(e,t){return Wu(e,t)}function Kf(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,r,n){return new Kf(e,t,r,n)}function tc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Jf(e){if(typeof e=="function")return tc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===jo)return 11;if(e===wo)return 14}return 2}function ws(e,t){var r=e.alternate;return r===null?(r=Nt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function xa(e,t,r,n,a,l){var i=2;if(n=e,typeof e=="function")tc(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case rr:return Us(r.children,a,l,t);case yo:i=8,a|=8;break;case oi:return e=Nt(12,r,t,a|2),e.elementType=oi,e.lanes=l,e;case ci:return e=Nt(13,r,t,a),e.elementType=ci,e.lanes=l,e;case di:return e=Nt(19,r,t,a),e.elementType=di,e.lanes=l,e;case Tu:return ol(r,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Eu:i=10;break e;case _u:i=9;break e;case jo:i=11;break e;case wo:i=14;break e;case is:i=16,n=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=Nt(i,r,t,a),t.elementType=e,t.type=n,t.lanes=l,t}function Us(e,t,r,n){return e=Nt(7,e,n,t),e.lanes=r,e}function ol(e,t,r,n){return e=Nt(22,e,n,t),e.elementType=Tu,e.lanes=r,e.stateNode={isHidden:!1},e}function Xl(e,t,r){return e=Nt(6,e,null,t),e.lanes=r,e}function Zl(e,t,r){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qf(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zl(0),this.expirationTimes=zl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zl(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function sc(e,t,r,n,a,l,i,o,c){return e=new Qf(e,t,r,o,c),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Nt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Io(l),e}function Gf(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function jh(e){if(!e)return Ss;e=e._reactInternals;e:{if(Xs(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var r=e.type;if(lt(r))return jm(e,r,t)}return t}function wh(e,t,r,n,a,l,i,o,c){return e=sc(r,n,!0,e,a,l,i,o,c),e.context=jh(null),r=e.current,n=Ye(),a=js(r),l=Yt(n,a),l.callback=t??null,vs(r,l,a),e.current.lanes=a,Pn(e,a,n),it(e,n),e}function cl(e,t,r,n){var a=t.current,l=Ye(),i=js(a);return r=jh(r),t.context===null?t.context=r:t.pendingContext=r,t=Yt(l,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=vs(a,t,i),e!==null&&(Rt(e,a,i,l),ca(e,a,i)),i}function Ba(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Pd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function rc(e,t){Pd(e,t),(e=e.alternate)&&Pd(e,t)}function Xf(){return null}var Nh=typeof reportError=="function"?reportError:function(e){console.error(e)};function nc(e){this._internalRoot=e}dl.prototype.render=nc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));cl(e,t,null,null)};dl.prototype.unmount=nc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ks(function(){cl(null,e,null,null)}),t[ts]=null}};function dl(e){this._internalRoot=e}dl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Yu();e={blockedOn:null,target:e,priority:t};for(var r=0;r<cs.length&&t!==0&&t<cs[r].priority;r++);cs.splice(r,0,e),r===0&&tm(e)}};function ac(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ul(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Md(){}function Zf(e,t,r,n,a){if(a){if(typeof n=="function"){var l=n;n=function(){var d=Ba(i);l.call(d)}}var i=wh(t,n,e,0,null,!1,!1,"",Md);return e._reactRootContainer=i,e[ts]=i.current,fn(e.nodeType===8?e.parentNode:e),Ks(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var d=Ba(c);o.call(d)}}var c=sc(e,0,!1,null,null,!1,!1,"",Md);return e._reactRootContainer=c,e[ts]=c.current,fn(e.nodeType===8?e.parentNode:e),Ks(function(){cl(t,c,r,n)}),c}function ml(e,t,r,n,a){var l=r._reactRootContainer;if(l){var i=l;if(typeof a=="function"){var o=a;a=function(){var c=Ba(i);o.call(c)}}cl(t,i,e,a)}else i=Zf(r,t,e,a,n);return Ba(i)}Xu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Jr(t.pendingLanes);r!==0&&(ko(t,r|1),it(t,Te()),!(me&6)&&(Cr=Te()+500,Ps()))}break;case 13:Ks(function(){var n=ss(e,1);if(n!==null){var a=Ye();Rt(n,e,1,a)}}),rc(e,1)}};So=function(e){if(e.tag===13){var t=ss(e,134217728);if(t!==null){var r=Ye();Rt(t,e,134217728,r)}rc(e,134217728)}};Zu=function(e){if(e.tag===13){var t=js(e),r=ss(e,t);if(r!==null){var n=Ye();Rt(r,e,t,n)}rc(e,t)}};Yu=function(){return ge};em=function(e,t){var r=ge;try{return ge=e,t()}finally{ge=r}};ji=function(e,t,r){switch(t){case"input":if(hi(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=sl(n);if(!a)throw Error(F(90));Mu(n),hi(n,a)}}}break;case"textarea":Lu(e,r);break;case"select":t=r.value,t!=null&&pr(e,!!r.multiple,t,!1)}};Uu=Zo;$u=Ks;var Yf={usingClientEntryPoint:!1,Events:[zn,ir,sl,Fu,Iu,Zo]},qr={findFiberByHostInstance:As,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},e0={bundleType:qr.bundleType,version:qr.version,rendererPackageName:qr.rendererPackageName,rendererConfig:qr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ns.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qu(e),e===null?null:e.stateNode},findFiberByHostInstance:qr.findFiberByHostInstance||Xf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ra=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ra.isDisabled&&ra.supportsFiber)try{Za=ra.inject(e0),Bt=ra}catch{}}ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yf;ft.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ac(t))throw Error(F(200));return Gf(e,t,null,r)};ft.createRoot=function(e,t){if(!ac(e))throw Error(F(299));var r=!1,n="",a=Nh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=sc(e,1,!1,null,null,r,!1,n,a),e[ts]=t.current,fn(e.nodeType===8?e.parentNode:e),new nc(t)};ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=qu(t),e=e===null?null:e.stateNode,e};ft.flushSync=function(e){return Ks(e)};ft.hydrate=function(e,t,r){if(!ul(t))throw Error(F(200));return ml(null,e,t,!0,r)};ft.hydrateRoot=function(e,t,r){if(!ac(e))throw Error(F(405));var n=r!=null&&r.hydratedSources||null,a=!1,l="",i=Nh;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=wh(t,null,e,1,r??null,a,!1,l,i),e[ts]=t.current,fn(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new dl(t)};ft.render=function(e,t,r){if(!ul(t))throw Error(F(200));return ml(null,e,t,!1,r)};ft.unmountComponentAtNode=function(e){if(!ul(e))throw Error(F(40));return e._reactRootContainer?(Ks(function(){ml(null,null,e,!1,function(){e._reactRootContainer=null,e[ts]=null})}),!0):!1};ft.unstable_batchedUpdates=Zo;ft.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ul(r))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return ml(e,t,r,!1,n)};ft.version="18.3.1-next-f1338f8080-20240426";function bh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bh)}catch(e){console.error(e)}}bh(),bu.exports=ft;var t0=bu.exports,kh,zd=t0;kh=zd.createRoot,zd.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sn(){return Sn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sn.apply(this,arguments)}var hs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(hs||(hs={}));const Ld="popstate";function s0(e){e===void 0&&(e={});function t(n,a){let{pathname:l,search:i,hash:o}=n.location;return Yi("",{pathname:l,search:i,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:qa(a)}return n0(t,r,null,e)}function Pe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Sh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function r0(){return Math.random().toString(36).substr(2,8)}function Rd(e,t){return{usr:e.state,key:e.key,idx:t}}function Yi(e,t,r,n){return r===void 0&&(r=null),Sn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?zr(t):t,{state:r,key:t&&t.key||n||r0()})}function qa(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function zr(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function n0(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:l=!1}=n,i=a.history,o=hs.Pop,c=null,d=u();d==null&&(d=0,i.replaceState(Sn({},i.state,{idx:d}),""));function u(){return(i.state||{idx:null}).idx}function h(){o=hs.Pop;let j=u(),p=j==null?null:j-d;d=j,c&&c({action:o,location:f.location,delta:p})}function v(j,p){o=hs.Push;let x=Yi(f.location,j,p);d=u()+1;let g=Rd(x,d),S=f.createHref(x);try{i.pushState(g,"",S)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;a.location.assign(S)}l&&c&&c({action:o,location:f.location,delta:1})}function N(j,p){o=hs.Replace;let x=Yi(f.location,j,p);d=u();let g=Rd(x,d),S=f.createHref(x);i.replaceState(g,"",S),l&&c&&c({action:o,location:f.location,delta:0})}function y(j){let p=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof j=="string"?j:qa(j);return x=x.replace(/ $/,"%20"),Pe(p,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,p)}let f={get action(){return o},get location(){return e(a,i)},listen(j){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Ld,h),c=j,()=>{a.removeEventListener(Ld,h),c=null}},createHref(j){return t(a,j)},createURL:y,encodeLocation(j){let p=y(j);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:v,replace:N,go(j){return i.go(j)}};return f}var Ad;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ad||(Ad={}));function a0(e,t,r){return r===void 0&&(r="/"),l0(e,t,r,!1)}function l0(e,t,r,n){let a=typeof t=="string"?zr(t):t,l=lc(a.pathname||"/",r);if(l==null)return null;let i=Ch(e);i0(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let d=v0(l);o=f0(i[c],d,n)}return o}function Ch(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(l,i,o)=>{let c={relativePath:o===void 0?l.path||"":o,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};c.relativePath.startsWith("/")&&(Pe(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Ns([n,c.relativePath]),u=r.concat(c);l.children&&l.children.length>0&&(Pe(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Ch(l.children,t,u,d)),!(l.path==null&&!l.index)&&t.push({path:d,score:p0(d,l.index),routesMeta:u})};return e.forEach((l,i)=>{var o;if(l.path===""||!((o=l.path)!=null&&o.includes("?")))a(l,i);else for(let c of Eh(l.path))a(l,i,c)}),t}function Eh(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return a?[l,""]:[l];let i=Eh(n.join("/")),o=[];return o.push(...i.map(c=>c===""?l:[l,c].join("/"))),a&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function i0(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:x0(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const o0=/^:[\w-]+$/,c0=3,d0=2,u0=1,m0=10,h0=-2,Dd=e=>e==="*";function p0(e,t){let r=e.split("/"),n=r.length;return r.some(Dd)&&(n+=h0),t&&(n+=d0),r.filter(a=>!Dd(a)).reduce((a,l)=>a+(o0.test(l)?c0:l===""?u0:m0),n)}function x0(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function f0(e,t,r){let{routesMeta:n}=e,a={},l="/",i=[];for(let o=0;o<n.length;++o){let c=n[o],d=o===n.length-1,u=l==="/"?t:t.slice(l.length)||"/",h=Od({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),v=c.route;if(!h&&d&&r&&!n[n.length-1].route.index&&(h=Od({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(a,h.params),i.push({params:a,pathname:Ns([l,h.pathname]),pathnameBase:N0(Ns([l,h.pathnameBase])),route:v}),h.pathnameBase!=="/"&&(l=Ns([l,h.pathnameBase]))}return i}function Od(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=g0(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let l=a[0],i=l.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((d,u,h)=>{let{paramName:v,isOptional:N}=u;if(v==="*"){let f=o[h]||"";i=l.slice(0,l.length-f.length).replace(/(.)\/+$/,"$1")}const y=o[h];return N&&!y?d[v]=void 0:d[v]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:i,pattern:e}}function g0(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Sh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function v0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Sh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function lc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function y0(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?zr(e):e;return{pathname:r?r.startsWith("/")?r:j0(r,t):t,search:b0(n),hash:k0(a)}}function j0(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Yl(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function w0(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ic(e,t){let r=w0(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function oc(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=zr(e):(a=Sn({},e),Pe(!a.pathname||!a.pathname.includes("?"),Yl("?","pathname","search",a)),Pe(!a.pathname||!a.pathname.includes("#"),Yl("#","pathname","hash",a)),Pe(!a.search||!a.search.includes("#"),Yl("#","search","hash",a)));let l=e===""||a.pathname==="",i=l?"/":a.pathname,o;if(i==null)o=r;else{let h=t.length-1;if(!n&&i.startsWith("..")){let v=i.split("/");for(;v[0]==="..";)v.shift(),h-=1;a.pathname=v.join("/")}o=h>=0?t[h]:"/"}let c=y0(a,o),d=i&&i!=="/"&&i.endsWith("/"),u=(l||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Ns=e=>e.join("/").replace(/\/\/+/g,"/"),N0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),b0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,k0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function S0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const _h=["post","put","patch","delete"];new Set(_h);const C0=["get",..._h];new Set(C0);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cn(){return Cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cn.apply(this,arguments)}const cc=m.createContext(null),E0=m.createContext(null),Ms=m.createContext(null),hl=m.createContext(null),Wt=m.createContext({outlet:null,matches:[],isDataRoute:!1}),Th=m.createContext(null);function _0(e,t){let{relative:r}=t===void 0?{}:t;Lr()||Pe(!1);let{basename:n,navigator:a}=m.useContext(Ms),{hash:l,pathname:i,search:o}=Mh(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:Ns([n,i])),a.createHref({pathname:c,search:o,hash:l})}function Lr(){return m.useContext(hl)!=null}function Zs(){return Lr()||Pe(!1),m.useContext(hl).location}function Ph(e){m.useContext(Ms).static||m.useLayoutEffect(e)}function Kt(){let{isDataRoute:e}=m.useContext(Wt);return e?B0():T0()}function T0(){Lr()||Pe(!1);let e=m.useContext(cc),{basename:t,future:r,navigator:n}=m.useContext(Ms),{matches:a}=m.useContext(Wt),{pathname:l}=Zs(),i=JSON.stringify(ic(a,r.v7_relativeSplatPath)),o=m.useRef(!1);return Ph(()=>{o.current=!0}),m.useCallback(function(d,u){if(u===void 0&&(u={}),!o.current)return;if(typeof d=="number"){n.go(d);return}let h=oc(d,JSON.parse(i),l,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Ns([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,i,l,e])}const P0=m.createContext(null);function M0(e){let t=m.useContext(Wt).outlet;return t&&m.createElement(P0.Provider,{value:e},t)}function Rn(){let{matches:e}=m.useContext(Wt),t=e[e.length-1];return t?t.params:{}}function Mh(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=m.useContext(Ms),{matches:a}=m.useContext(Wt),{pathname:l}=Zs(),i=JSON.stringify(ic(a,n.v7_relativeSplatPath));return m.useMemo(()=>oc(e,JSON.parse(i),l,r==="path"),[e,i,l,r])}function z0(e,t){return L0(e,t)}function L0(e,t,r,n){Lr()||Pe(!1);let{navigator:a}=m.useContext(Ms),{matches:l}=m.useContext(Wt),i=l[l.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=Zs(),u;if(t){var h;let j=typeof t=="string"?zr(t):t;c==="/"||(h=j.pathname)!=null&&h.startsWith(c)||Pe(!1),u=j}else u=d;let v=u.pathname||"/",N=v;if(c!=="/"){let j=c.replace(/^\//,"").split("/");N="/"+v.replace(/^\//,"").split("/").slice(j.length).join("/")}let y=a0(e,{pathname:N}),f=F0(y&&y.map(j=>Object.assign({},j,{params:Object.assign({},o,j.params),pathname:Ns([c,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:Ns([c,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,r,n);return t&&f?m.createElement(hl.Provider,{value:{location:Cn({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:hs.Pop}},f):f}function R0(){let e=V0(),t=S0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:a},r):null,null)}const A0=m.createElement(R0,null);class D0 extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement(Wt.Provider,{value:this.props.routeContext},m.createElement(Th.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function O0(e){let{routeContext:t,match:r,children:n}=e,a=m.useContext(cc);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(Wt.Provider,{value:t},n)}function F0(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var l;if(!r)return null;if(r.errors)e=r.matches;else if((l=n)!=null&&l.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let u=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);u>=0||Pe(!1),i=i.slice(0,Math.min(i.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<i.length;u++){let h=i[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:v,errors:N}=r,y=h.route.loader&&v[h.route.id]===void 0&&(!N||N[h.route.id]===void 0);if(h.route.lazy||y){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((u,h,v)=>{let N,y=!1,f=null,j=null;r&&(N=o&&h.route.id?o[h.route.id]:void 0,f=h.route.errorElement||A0,c&&(d<0&&v===0?(y=!0,j=null):d===v&&(y=!0,j=h.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,v+1)),x=()=>{let g;return N?g=f:y?g=j:h.route.Component?g=m.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=u,m.createElement(O0,{match:h,routeContext:{outlet:u,matches:p,isDataRoute:r!=null},children:g})};return r&&(h.route.ErrorBoundary||h.route.errorElement||v===0)?m.createElement(D0,{location:r.location,revalidation:r.revalidation,component:f,error:N,children:x(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):x()},null)}var zh=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(zh||{}),Ha=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ha||{});function I0(e){let t=m.useContext(cc);return t||Pe(!1),t}function U0(e){let t=m.useContext(E0);return t||Pe(!1),t}function $0(e){let t=m.useContext(Wt);return t||Pe(!1),t}function Lh(e){let t=$0(),r=t.matches[t.matches.length-1];return r.route.id||Pe(!1),r.route.id}function V0(){var e;let t=m.useContext(Th),r=U0(Ha.UseRouteError),n=Lh(Ha.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function B0(){let{router:e}=I0(zh.UseNavigateStable),t=Lh(Ha.UseNavigateStable),r=m.useRef(!1);return Ph(()=>{r.current=!0}),m.useCallback(function(a,l){l===void 0&&(l={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Cn({fromRouteId:t},l)))},[e,t])}function q0(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function bs(e){let{to:t,replace:r,state:n,relative:a}=e;Lr()||Pe(!1);let{future:l,static:i}=m.useContext(Ms),{matches:o}=m.useContext(Wt),{pathname:c}=Zs(),d=Kt(),u=oc(t,ic(o,l.v7_relativeSplatPath),c,a==="path"),h=JSON.stringify(u);return m.useEffect(()=>d(JSON.parse(h),{replace:r,state:n,relative:a}),[d,h,a,r,n]),null}function Rh(e){return M0(e.context)}function fe(e){Pe(!1)}function H0(e){let{basename:t="/",children:r=null,location:n,navigationType:a=hs.Pop,navigator:l,static:i=!1,future:o}=e;Lr()&&Pe(!1);let c=t.replace(/^\/*/,"/"),d=m.useMemo(()=>({basename:c,navigator:l,static:i,future:Cn({v7_relativeSplatPath:!1},o)}),[c,o,l,i]);typeof n=="string"&&(n=zr(n));let{pathname:u="/",search:h="",hash:v="",state:N=null,key:y="default"}=n,f=m.useMemo(()=>{let j=lc(u,c);return j==null?null:{location:{pathname:j,search:h,hash:v,state:N,key:y},navigationType:a}},[c,u,h,v,N,y,a]);return f==null?null:m.createElement(Ms.Provider,{value:d},m.createElement(hl.Provider,{children:r,value:f}))}function W0(e){let{children:t,location:r}=e;return z0(eo(t),r)}new Promise(()=>{});function eo(e,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(e,(n,a)=>{if(!m.isValidElement(n))return;let l=[...t,a];if(n.type===m.Fragment){r.push.apply(r,eo(n.props.children,l));return}n.type!==fe&&Pe(!1),!n.props.index||!n.props.children||Pe(!1);let i={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=eo(n.props.children,l)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function to(){return to=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},to.apply(this,arguments)}function K0(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,l;for(l=0;l<n.length;l++)a=n[l],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function J0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Q0(e,t){return e.button===0&&(!t||t==="_self")&&!J0(e)}const G0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],X0="6";try{window.__reactRouterVersion=X0}catch{}const Z0="startTransition",Fd=Bp[Z0];function Y0(e){let{basename:t,children:r,future:n,window:a}=e,l=m.useRef();l.current==null&&(l.current=s0({window:a,v5Compat:!0}));let i=l.current,[o,c]=m.useState({action:i.action,location:i.location}),{v7_startTransition:d}=n||{},u=m.useCallback(h=>{d&&Fd?Fd(()=>c(h)):c(h)},[c,d]);return m.useLayoutEffect(()=>i.listen(u),[i,u]),m.useEffect(()=>q0(n),[n]),m.createElement(H0,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:i,future:n})}const eg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ne=m.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:l,replace:i,state:o,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,v=K0(t,G0),{basename:N}=m.useContext(Ms),y,f=!1;if(typeof d=="string"&&tg.test(d)&&(y=d,eg))try{let g=new URL(window.location.href),S=d.startsWith("//")?new URL(g.protocol+d):new URL(d),b=lc(S.pathname,N);S.origin===g.origin&&b!=null?d=b+S.search+S.hash:f=!0}catch{}let j=_0(d,{relative:a}),p=sg(d,{replace:i,state:o,target:c,preventScrollReset:u,relative:a,viewTransition:h});function x(g){n&&n(g),g.defaultPrevented||p(g)}return m.createElement("a",to({},v,{href:y||j,onClick:f||l?n:x,ref:r,target:c}))});var Id;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Id||(Id={}));var Ud;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ud||(Ud={}));function sg(e,t){let{target:r,replace:n,state:a,preventScrollReset:l,relative:i,viewTransition:o}=t===void 0?{}:t,c=Kt(),d=Zs(),u=Mh(e,{relative:i});return m.useCallback(h=>{if(Q0(h,r)){h.preventDefault();let v=n!==void 0?n:qa(d)===qa(u);c(e,{replace:v,state:a,preventScrollReset:l,relative:i,viewTransition:o})}},[d,c,u,n,a,r,e,l,i,o])}function Ah(e,t){return function(){return e.apply(t,arguments)}}const{toString:rg}=Object.prototype,{getPrototypeOf:dc}=Object,{iterator:pl,toStringTag:Dh}=Symbol,xl=(e=>t=>{const r=rg.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ot=e=>(e=e.toLowerCase(),t=>xl(t)===e),fl=e=>t=>typeof t===e,{isArray:Rr}=Array,En=fl("undefined");function An(e){return e!==null&&!En(e)&&e.constructor!==null&&!En(e.constructor)&&ot(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Oh=Ot("ArrayBuffer");function ng(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Oh(e.buffer),t}const ag=fl("string"),ot=fl("function"),Fh=fl("number"),Dn=e=>e!==null&&typeof e=="object",lg=e=>e===!0||e===!1,fa=e=>{if(xl(e)!=="object")return!1;const t=dc(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Dh in e)&&!(pl in e)},ig=e=>{if(!Dn(e)||An(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},og=Ot("Date"),cg=Ot("File"),dg=Ot("Blob"),ug=Ot("FileList"),mg=e=>Dn(e)&&ot(e.pipe),hg=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ot(e.append)&&((t=xl(e))==="formdata"||t==="object"&&ot(e.toString)&&e.toString()==="[object FormData]"))},pg=Ot("URLSearchParams"),[xg,fg,gg,vg]=["ReadableStream","Request","Response","Headers"].map(Ot),yg=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function On(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),Rr(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(An(e))return;const l=r?Object.getOwnPropertyNames(e):Object.keys(e),i=l.length;let o;for(n=0;n<i;n++)o=l[n],t.call(null,e[o],o,e)}}function Ih(e,t){if(An(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const Fs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Uh=e=>!En(e)&&e!==Fs;function so(){const{caseless:e}=Uh(this)&&this||{},t={},r=(n,a)=>{const l=e&&Ih(t,a)||a;fa(t[l])&&fa(n)?t[l]=so(t[l],n):fa(n)?t[l]=so({},n):Rr(n)?t[l]=n.slice():t[l]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&On(arguments[n],r);return t}const jg=(e,t,r,{allOwnKeys:n}={})=>(On(t,(a,l)=>{r&&ot(a)?e[l]=Ah(a,r):e[l]=a},{allOwnKeys:n}),e),wg=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Ng=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},bg=(e,t,r,n)=>{let a,l,i;const o={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),l=a.length;l-- >0;)i=a[l],(!n||n(i,e,t))&&!o[i]&&(t[i]=e[i],o[i]=!0);e=r!==!1&&dc(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kg=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},Sg=e=>{if(!e)return null;if(Rr(e))return e;let t=e.length;if(!Fh(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Cg=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&dc(Uint8Array)),Eg=(e,t)=>{const n=(e&&e[pl]).call(e);let a;for(;(a=n.next())&&!a.done;){const l=a.value;t.call(e,l[0],l[1])}},_g=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},Tg=Ot("HTMLFormElement"),Pg=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),$d=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Mg=Ot("RegExp"),$h=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};On(r,(a,l)=>{let i;(i=t(a,l,e))!==!1&&(n[l]=i||a)}),Object.defineProperties(e,n)},zg=e=>{$h(e,(t,r)=>{if(ot(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(ot(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Lg=(e,t)=>{const r={},n=a=>{a.forEach(l=>{r[l]=!0})};return Rr(e)?n(e):n(String(e).split(t)),r},Rg=()=>{},Ag=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Dg(e){return!!(e&&ot(e.append)&&e[Dh]==="FormData"&&e[pl])}const Og=e=>{const t=new Array(10),r=(n,a)=>{if(Dn(n)){if(t.indexOf(n)>=0)return;if(An(n))return n;if(!("toJSON"in n)){t[a]=n;const l=Rr(n)?[]:{};return On(n,(i,o)=>{const c=r(i,a+1);!En(c)&&(l[o]=c)}),t[a]=void 0,l}}return n};return r(e,0)},Fg=Ot("AsyncFunction"),Ig=e=>e&&(Dn(e)||ot(e))&&ot(e.then)&&ot(e.catch),Vh=((e,t)=>e?setImmediate:t?((r,n)=>(Fs.addEventListener("message",({source:a,data:l})=>{a===Fs&&l===r&&n.length&&n.shift()()},!1),a=>{n.push(a),Fs.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ot(Fs.postMessage)),Ug=typeof queueMicrotask<"u"?queueMicrotask.bind(Fs):typeof process<"u"&&process.nextTick||Vh,$g=e=>e!=null&&ot(e[pl]),z={isArray:Rr,isArrayBuffer:Oh,isBuffer:An,isFormData:hg,isArrayBufferView:ng,isString:ag,isNumber:Fh,isBoolean:lg,isObject:Dn,isPlainObject:fa,isEmptyObject:ig,isReadableStream:xg,isRequest:fg,isResponse:gg,isHeaders:vg,isUndefined:En,isDate:og,isFile:cg,isBlob:dg,isRegExp:Mg,isFunction:ot,isStream:mg,isURLSearchParams:pg,isTypedArray:Cg,isFileList:ug,forEach:On,merge:so,extend:jg,trim:yg,stripBOM:wg,inherits:Ng,toFlatObject:bg,kindOf:xl,kindOfTest:Ot,endsWith:kg,toArray:Sg,forEachEntry:Eg,matchAll:_g,isHTMLForm:Tg,hasOwnProperty:$d,hasOwnProp:$d,reduceDescriptors:$h,freezeMethods:zg,toObjectSet:Lg,toCamelCase:Pg,noop:Rg,toFiniteNumber:Ag,findKey:Ih,global:Fs,isContextDefined:Uh,isSpecCompliantForm:Dg,toJSONObject:Og,isAsyncFn:Fg,isThenable:Ig,setImmediate:Vh,asap:Ug,isIterable:$g};function le(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}z.inherits(le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.status}}});const Bh=le.prototype,qh={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{qh[e]={value:e}});Object.defineProperties(le,qh);Object.defineProperty(Bh,"isAxiosError",{value:!0});le.from=(e,t,r,n,a,l)=>{const i=Object.create(Bh);return z.toFlatObject(e,i,function(c){return c!==Error.prototype},o=>o!=="isAxiosError"),le.call(i,e.message,t,r,n,a),i.cause=e,i.name=e.name,l&&Object.assign(i,l),i};const Vg=null;function ro(e){return z.isPlainObject(e)||z.isArray(e)}function Hh(e){return z.endsWith(e,"[]")?e.slice(0,-2):e}function Vd(e,t,r){return e?e.concat(t).map(function(a,l){return a=Hh(a),!r&&l?"["+a+"]":a}).join(r?".":""):t}function Bg(e){return z.isArray(e)&&!e.some(ro)}const qg=z.toFlatObject(z,{},null,function(t){return/^is[A-Z]/.test(t)});function gl(e,t,r){if(!z.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=z.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(f,j){return!z.isUndefined(j[f])});const n=r.metaTokens,a=r.visitor||u,l=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&z.isSpecCompliantForm(t);if(!z.isFunction(a))throw new TypeError("visitor must be a function");function d(y){if(y===null)return"";if(z.isDate(y))return y.toISOString();if(z.isBoolean(y))return y.toString();if(!c&&z.isBlob(y))throw new le("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(y)||z.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function u(y,f,j){let p=y;if(y&&!j&&typeof y=="object"){if(z.endsWith(f,"{}"))f=n?f:f.slice(0,-2),y=JSON.stringify(y);else if(z.isArray(y)&&Bg(y)||(z.isFileList(y)||z.endsWith(f,"[]"))&&(p=z.toArray(y)))return f=Hh(f),p.forEach(function(g,S){!(z.isUndefined(g)||g===null)&&t.append(i===!0?Vd([f],S,l):i===null?f:f+"[]",d(g))}),!1}return ro(y)?!0:(t.append(Vd(j,f,l),d(y)),!1)}const h=[],v=Object.assign(qg,{defaultVisitor:u,convertValue:d,isVisitable:ro});function N(y,f){if(!z.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+f.join("."));h.push(y),z.forEach(y,function(p,x){(!(z.isUndefined(p)||p===null)&&a.call(t,p,z.isString(x)?x.trim():x,f,v))===!0&&N(p,f?f.concat(x):[x])}),h.pop()}}if(!z.isObject(e))throw new TypeError("data must be an object");return N(e),t}function Bd(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function uc(e,t){this._pairs=[],e&&gl(e,this,t)}const Wh=uc.prototype;Wh.append=function(t,r){this._pairs.push([t,r])};Wh.toString=function(t){const r=t?function(n){return t.call(this,n,Bd)}:Bd;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Hg(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Kh(e,t,r){if(!t)return e;const n=r&&r.encode||Hg;z.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let l;if(a?l=a(t,r):l=z.isURLSearchParams(t)?t.toString():new uc(t,r).toString(n),l){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class qd{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){z.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Jh={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Wg=typeof URLSearchParams<"u"?URLSearchParams:uc,Kg=typeof FormData<"u"?FormData:null,Jg=typeof Blob<"u"?Blob:null,Qg={isBrowser:!0,classes:{URLSearchParams:Wg,FormData:Kg,Blob:Jg},protocols:["http","https","file","blob","url","data"]},mc=typeof window<"u"&&typeof document<"u",no=typeof navigator=="object"&&navigator||void 0,Gg=mc&&(!no||["ReactNative","NativeScript","NS"].indexOf(no.product)<0),Xg=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Zg=mc&&window.location.href||"http://localhost",Yg=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mc,hasStandardBrowserEnv:Gg,hasStandardBrowserWebWorkerEnv:Xg,navigator:no,origin:Zg},Symbol.toStringTag,{value:"Module"})),Qe={...Yg,...Qg};function ev(e,t){return gl(e,new Qe.classes.URLSearchParams,{visitor:function(r,n,a,l){return Qe.isNode&&z.isBuffer(r)?(this.append(n,r.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function tv(e){return z.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function sv(e){const t={},r=Object.keys(e);let n;const a=r.length;let l;for(n=0;n<a;n++)l=r[n],t[l]=e[l];return t}function Qh(e){function t(r,n,a,l){let i=r[l++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),c=l>=r.length;return i=!i&&z.isArray(a)?a.length:i,c?(z.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!o):((!a[i]||!z.isObject(a[i]))&&(a[i]=[]),t(r,n,a[i],l)&&z.isArray(a[i])&&(a[i]=sv(a[i])),!o)}if(z.isFormData(e)&&z.isFunction(e.entries)){const r={};return z.forEachEntry(e,(n,a)=>{t(tv(n),a,r,0)}),r}return null}function rv(e,t,r){if(z.isString(e))try{return(t||JSON.parse)(e),z.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}const Fn={transitional:Jh,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,l=z.isObject(t);if(l&&z.isHTMLForm(t)&&(t=new FormData(t)),z.isFormData(t))return a?JSON.stringify(Qh(t)):t;if(z.isArrayBuffer(t)||z.isBuffer(t)||z.isStream(t)||z.isFile(t)||z.isBlob(t)||z.isReadableStream(t))return t;if(z.isArrayBufferView(t))return t.buffer;if(z.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(l){if(n.indexOf("application/x-www-form-urlencoded")>-1)return ev(t,this.formSerializer).toString();if((o=z.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return gl(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return l||a?(r.setContentType("application/json",!1),rv(t)):t}],transformResponse:[function(t){const r=this.transitional||Fn.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(z.isResponse(t)||z.isReadableStream(t))return t;if(t&&z.isString(t)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(o){if(i)throw o.name==="SyntaxError"?le.from(o,le.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qe.classes.FormData,Blob:Qe.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],e=>{Fn.headers[e]={}});const nv=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),av=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||t[r]&&nv[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Hd=Symbol("internals");function Hr(e){return e&&String(e).trim().toLowerCase()}function ga(e){return e===!1||e==null?e:z.isArray(e)?e.map(ga):String(e)}function lv(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const iv=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ei(e,t,r,n,a){if(z.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!z.isString(t)){if(z.isString(n))return t.indexOf(n)!==-1;if(z.isRegExp(n))return n.test(t)}}function ov(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function cv(e,t){const r=z.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,l,i){return this[n].call(this,t,a,l,i)},configurable:!0})})}class ct{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function l(o,c,d){const u=Hr(c);if(!u)throw new Error("header name must be a non-empty string");const h=z.findKey(a,u);(!h||a[h]===void 0||d===!0||d===void 0&&a[h]!==!1)&&(a[h||c]=ga(o))}const i=(o,c)=>z.forEach(o,(d,u)=>l(d,u,c));if(z.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(z.isString(t)&&(t=t.trim())&&!iv(t))i(av(t),r);else if(z.isObject(t)&&z.isIterable(t)){let o={},c,d;for(const u of t){if(!z.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[d=u[0]]=(c=o[d])?z.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}i(o,r)}else t!=null&&l(r,t,n);return this}get(t,r){if(t=Hr(t),t){const n=z.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return lv(a);if(z.isFunction(r))return r.call(this,a,n);if(z.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Hr(t),t){const n=z.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||ei(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function l(i){if(i=Hr(i),i){const o=z.findKey(n,i);o&&(!r||ei(n,n[o],o,r))&&(delete n[o],a=!0)}}return z.isArray(t)?t.forEach(l):l(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const l=r[n];(!t||ei(this,this[l],l,t,!0))&&(delete this[l],a=!0)}return a}normalize(t){const r=this,n={};return z.forEach(this,(a,l)=>{const i=z.findKey(n,l);if(i){r[i]=ga(a),delete r[l];return}const o=t?ov(l):String(l).trim();o!==l&&delete r[l],r[o]=ga(a),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return z.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&z.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[Hd]=this[Hd]={accessors:{}}).accessors,a=this.prototype;function l(i){const o=Hr(i);n[o]||(cv(a,i),n[o]=!0)}return z.isArray(t)?t.forEach(l):l(t),this}}ct.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);z.reduceDescriptors(ct.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});z.freezeMethods(ct);function ti(e,t){const r=this||Fn,n=t||r,a=ct.from(n.headers);let l=n.data;return z.forEach(e,function(o){l=o.call(r,l,a.normalize(),t?t.status:void 0)}),a.normalize(),l}function Gh(e){return!!(e&&e.__CANCEL__)}function Ar(e,t,r){le.call(this,e??"canceled",le.ERR_CANCELED,t,r),this.name="CanceledError"}z.inherits(Ar,le,{__CANCEL__:!0});function Xh(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new le("Request failed with status code "+r.status,[le.ERR_BAD_REQUEST,le.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function dv(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function uv(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,l=0,i;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=n[l];i||(i=d),r[a]=c,n[a]=d;let h=l,v=0;for(;h!==a;)v+=r[h++],h=h%e;if(a=(a+1)%e,a===l&&(l=(l+1)%e),d-i<t)return;const N=u&&d-u;return N?Math.round(v*1e3/N):void 0}}function mv(e,t){let r=0,n=1e3/t,a,l;const i=(d,u=Date.now())=>{r=u,a=null,l&&(clearTimeout(l),l=null),e(...d)};return[(...d)=>{const u=Date.now(),h=u-r;h>=n?i(d,u):(a=d,l||(l=setTimeout(()=>{l=null,i(a)},n-h)))},()=>a&&i(a)]}const Wa=(e,t,r=3)=>{let n=0;const a=uv(50,250);return mv(l=>{const i=l.loaded,o=l.lengthComputable?l.total:void 0,c=i-n,d=a(c),u=i<=o;n=i;const h={loaded:i,total:o,progress:o?i/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&u?(o-i)/d:void 0,event:l,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(h)},r)},Wd=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Kd=e=>(...t)=>z.asap(()=>e(...t)),hv=Qe.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Qe.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Qe.origin),Qe.navigator&&/(msie|trident)/i.test(Qe.navigator.userAgent)):()=>!0,pv=Qe.hasStandardBrowserEnv?{write(e,t,r,n,a,l){const i=[e+"="+encodeURIComponent(t)];z.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),z.isString(n)&&i.push("path="+n),z.isString(a)&&i.push("domain="+a),l===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function xv(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function fv(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Zh(e,t,r){let n=!xv(t);return e&&(n||r==!1)?fv(e,t):t}const Jd=e=>e instanceof ct?{...e}:e;function Js(e,t){t=t||{};const r={};function n(d,u,h,v){return z.isPlainObject(d)&&z.isPlainObject(u)?z.merge.call({caseless:v},d,u):z.isPlainObject(u)?z.merge({},u):z.isArray(u)?u.slice():u}function a(d,u,h,v){if(z.isUndefined(u)){if(!z.isUndefined(d))return n(void 0,d,h,v)}else return n(d,u,h,v)}function l(d,u){if(!z.isUndefined(u))return n(void 0,u)}function i(d,u){if(z.isUndefined(u)){if(!z.isUndefined(d))return n(void 0,d)}else return n(void 0,u)}function o(d,u,h){if(h in t)return n(d,u);if(h in e)return n(void 0,d)}const c={url:l,method:l,data:l,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(d,u,h)=>a(Jd(d),Jd(u),h,!0)};return z.forEach(Object.keys({...e,...t}),function(u){const h=c[u]||a,v=h(e[u],t[u],u);z.isUndefined(v)&&h!==o||(r[u]=v)}),r}const Yh=e=>{const t=Js({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:l,headers:i,auth:o}=t;t.headers=i=ct.from(i),t.url=Kh(Zh(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let c;if(z.isFormData(r)){if(Qe.hasStandardBrowserEnv||Qe.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((c=i.getContentType())!==!1){const[d,...u]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];i.setContentType([d||"multipart/form-data",...u].join("; "))}}if(Qe.hasStandardBrowserEnv&&(n&&z.isFunction(n)&&(n=n(t)),n||n!==!1&&hv(t.url))){const d=a&&l&&pv.read(l);d&&i.set(a,d)}return t},gv=typeof XMLHttpRequest<"u",vv=gv&&function(e){return new Promise(function(r,n){const a=Yh(e);let l=a.data;const i=ct.from(a.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=a,u,h,v,N,y;function f(){N&&N(),y&&y(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let j=new XMLHttpRequest;j.open(a.method.toUpperCase(),a.url,!0),j.timeout=a.timeout;function p(){if(!j)return;const g=ct.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),b={data:!o||o==="text"||o==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:g,config:e,request:j};Xh(function(_){r(_),f()},function(_){n(_),f()},b),j=null}"onloadend"in j?j.onloadend=p:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(p)},j.onabort=function(){j&&(n(new le("Request aborted",le.ECONNABORTED,e,j)),j=null)},j.onerror=function(){n(new le("Network Error",le.ERR_NETWORK,e,j)),j=null},j.ontimeout=function(){let S=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const b=a.transitional||Jh;a.timeoutErrorMessage&&(S=a.timeoutErrorMessage),n(new le(S,b.clarifyTimeoutError?le.ETIMEDOUT:le.ECONNABORTED,e,j)),j=null},l===void 0&&i.setContentType(null),"setRequestHeader"in j&&z.forEach(i.toJSON(),function(S,b){j.setRequestHeader(b,S)}),z.isUndefined(a.withCredentials)||(j.withCredentials=!!a.withCredentials),o&&o!=="json"&&(j.responseType=a.responseType),d&&([v,y]=Wa(d,!0),j.addEventListener("progress",v)),c&&j.upload&&([h,N]=Wa(c),j.upload.addEventListener("progress",h),j.upload.addEventListener("loadend",N)),(a.cancelToken||a.signal)&&(u=g=>{j&&(n(!g||g.type?new Ar(null,e,j):g),j.abort(),j=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const x=dv(a.url);if(x&&Qe.protocols.indexOf(x)===-1){n(new le("Unsupported protocol "+x+":",le.ERR_BAD_REQUEST,e));return}j.send(l||null)})},yv=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const l=function(d){if(!a){a=!0,o();const u=d instanceof Error?d:this.reason;n.abort(u instanceof le?u:new Ar(u instanceof Error?u.message:u))}};let i=t&&setTimeout(()=>{i=null,l(new le(`timeout ${t} of ms exceeded`,le.ETIMEDOUT))},t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(l):d.removeEventListener("abort",l)}),e=null)};e.forEach(d=>d.addEventListener("abort",l));const{signal:c}=n;return c.unsubscribe=()=>z.asap(o),c}},jv=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},wv=async function*(e,t){for await(const r of Nv(e))yield*jv(r,t)},Nv=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Qd=(e,t,r,n)=>{const a=wv(e,t);let l=0,i,o=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await a.next();if(d){o(),c.close();return}let h=u.byteLength;if(r){let v=l+=h;r(v)}c.enqueue(new Uint8Array(u))}catch(d){throw o(d),d}},cancel(c){return o(c),a.return()}},{highWaterMark:2})},vl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ep=vl&&typeof ReadableStream=="function",bv=vl&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),tp=(e,...t)=>{try{return!!e(...t)}catch{return!1}},kv=ep&&tp(()=>{let e=!1;const t=new Request(Qe.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Gd=64*1024,ao=ep&&tp(()=>z.isReadableStream(new Response("").body)),Ka={stream:ao&&(e=>e.body)};vl&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Ka[t]&&(Ka[t]=z.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new le(`Response type '${t}' is not supported`,le.ERR_NOT_SUPPORT,n)})})})(new Response);const Sv=async e=>{if(e==null)return 0;if(z.isBlob(e))return e.size;if(z.isSpecCompliantForm(e))return(await new Request(Qe.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(z.isArrayBufferView(e)||z.isArrayBuffer(e))return e.byteLength;if(z.isURLSearchParams(e)&&(e=e+""),z.isString(e))return(await bv(e)).byteLength},Cv=async(e,t)=>{const r=z.toFiniteNumber(e.getContentLength());return r??Sv(t)},Ev=vl&&(async e=>{let{url:t,method:r,data:n,signal:a,cancelToken:l,timeout:i,onDownloadProgress:o,onUploadProgress:c,responseType:d,headers:u,withCredentials:h="same-origin",fetchOptions:v}=Yh(e);d=d?(d+"").toLowerCase():"text";let N=yv([a,l&&l.toAbortSignal()],i),y;const f=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let j;try{if(c&&kv&&r!=="get"&&r!=="head"&&(j=await Cv(u,n))!==0){let b=new Request(t,{method:"POST",body:n,duplex:"half"}),k;if(z.isFormData(n)&&(k=b.headers.get("content-type"))&&u.setContentType(k),b.body){const[_,w]=Wd(j,Wa(Kd(c)));n=Qd(b.body,Gd,_,w)}}z.isString(h)||(h=h?"include":"omit");const p="credentials"in Request.prototype;y=new Request(t,{...v,signal:N,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:p?h:void 0});let x=await fetch(y,v);const g=ao&&(d==="stream"||d==="response");if(ao&&(o||g&&f)){const b={};["status","statusText","headers"].forEach(M=>{b[M]=x[M]});const k=z.toFiniteNumber(x.headers.get("content-length")),[_,w]=o&&Wd(k,Wa(Kd(o),!0))||[];x=new Response(Qd(x.body,Gd,_,()=>{w&&w(),f&&f()}),b)}d=d||"text";let S=await Ka[z.findKey(Ka,d)||"text"](x,e);return!g&&f&&f(),await new Promise((b,k)=>{Xh(b,k,{data:S,headers:ct.from(x.headers),status:x.status,statusText:x.statusText,config:e,request:y})})}catch(p){throw f&&f(),p&&p.name==="TypeError"&&/Load failed|fetch/i.test(p.message)?Object.assign(new le("Network Error",le.ERR_NETWORK,e,y),{cause:p.cause||p}):le.from(p,p&&p.code,e,y)}}),lo={http:Vg,xhr:vv,fetch:Ev};z.forEach(lo,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Xd=e=>`- ${e}`,_v=e=>z.isFunction(e)||e===null||e===!1,sp={getAdapter:e=>{e=z.isArray(e)?e:[e];const{length:t}=e;let r,n;const a={};for(let l=0;l<t;l++){r=e[l];let i;if(n=r,!_v(r)&&(n=lo[(i=String(r)).toLowerCase()],n===void 0))throw new le(`Unknown adapter '${i}'`);if(n)break;a[i||"#"+l]=n}if(!n){const l=Object.entries(a).map(([o,c])=>`adapter ${o} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=t?l.length>1?`since :
`+l.map(Xd).join(`
`):" "+Xd(l[0]):"as no adapter specified";throw new le("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n},adapters:lo};function si(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ar(null,e)}function Zd(e){return si(e),e.headers=ct.from(e.headers),e.data=ti.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),sp.getAdapter(e.adapter||Fn.adapter)(e).then(function(n){return si(e),n.data=ti.call(e,e.transformResponse,n),n.headers=ct.from(n.headers),n},function(n){return Gh(n)||(si(e),n&&n.response&&(n.response.data=ti.call(e,e.transformResponse,n.response),n.response.headers=ct.from(n.response.headers))),Promise.reject(n)})}const rp="1.11.0",yl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{yl[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Yd={};yl.transitional=function(t,r,n){function a(l,i){return"[Axios v"+rp+"] Transitional option '"+l+"'"+i+(n?". "+n:"")}return(l,i,o)=>{if(t===!1)throw new le(a(i," has been removed"+(r?" in "+r:"")),le.ERR_DEPRECATED);return r&&!Yd[i]&&(Yd[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(l,i,o):!0}};yl.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Tv(e,t,r){if(typeof e!="object")throw new le("options must be an object",le.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const l=n[a],i=t[l];if(i){const o=e[l],c=o===void 0||i(o,l,e);if(c!==!0)throw new le("option "+l+" must be "+c,le.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new le("Unknown option "+l,le.ERR_BAD_OPTION)}}const va={assertOptions:Tv,validators:yl},Ut=va.validators;class $s{constructor(t){this.defaults=t||{},this.interceptors={request:new qd,response:new qd}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?l&&!String(n.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+l):n.stack=l}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Js(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:l}=r;n!==void 0&&va.assertOptions(n,{silentJSONParsing:Ut.transitional(Ut.boolean),forcedJSONParsing:Ut.transitional(Ut.boolean),clarifyTimeoutError:Ut.transitional(Ut.boolean)},!1),a!=null&&(z.isFunction(a)?r.paramsSerializer={serialize:a}:va.assertOptions(a,{encode:Ut.function,serialize:Ut.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),va.assertOptions(r,{baseUrl:Ut.spelling("baseURL"),withXsrfToken:Ut.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=l&&z.merge(l.common,l[r.method]);l&&z.forEach(["delete","get","head","post","put","patch","common"],y=>{delete l[y]}),r.headers=ct.concat(i,l);const o=[];let c=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(r)===!1||(c=c&&f.synchronous,o.unshift(f.fulfilled,f.rejected))});const d=[];this.interceptors.response.forEach(function(f){d.push(f.fulfilled,f.rejected)});let u,h=0,v;if(!c){const y=[Zd.bind(this),void 0];for(y.unshift(...o),y.push(...d),v=y.length,u=Promise.resolve(r);h<v;)u=u.then(y[h++],y[h++]);return u}v=o.length;let N=r;for(h=0;h<v;){const y=o[h++],f=o[h++];try{N=y(N)}catch(j){f.call(this,j);break}}try{u=Zd.call(this,N)}catch(y){return Promise.reject(y)}for(h=0,v=d.length;h<v;)u=u.then(d[h++],d[h++]);return u}getUri(t){t=Js(this.defaults,t);const r=Zh(t.baseURL,t.url,t.allowAbsoluteUrls);return Kh(r,t.params,t.paramsSerializer)}}z.forEach(["delete","get","head","options"],function(t){$s.prototype[t]=function(r,n){return this.request(Js(n||{},{method:t,url:r,data:(n||{}).data}))}});z.forEach(["post","put","patch"],function(t){function r(n){return function(l,i,o){return this.request(Js(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:l,data:i}))}}$s.prototype[t]=r(),$s.prototype[t+"Form"]=r(!0)});class hc{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(l){r=l});const n=this;this.promise.then(a=>{if(!n._listeners)return;let l=n._listeners.length;for(;l-- >0;)n._listeners[l](a);n._listeners=null}),this.promise.then=a=>{let l;const i=new Promise(o=>{n.subscribe(o),l=o}).then(a);return i.cancel=function(){n.unsubscribe(l)},i},t(function(l,i,o){n.reason||(n.reason=new Ar(l,i,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new hc(function(a){t=a}),cancel:t}}}function Pv(e){return function(r){return e.apply(null,r)}}function Mv(e){return z.isObject(e)&&e.isAxiosError===!0}const io={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(io).forEach(([e,t])=>{io[t]=e});function np(e){const t=new $s(e),r=Ah($s.prototype.request,t);return z.extend(r,$s.prototype,t,{allOwnKeys:!0}),z.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return np(Js(e,a))},r}const Le=np(Fn);Le.Axios=$s;Le.CanceledError=Ar;Le.CancelToken=hc;Le.isCancel=Gh;Le.VERSION=rp;Le.toFormData=gl;Le.AxiosError=le;Le.Cancel=Le.CanceledError;Le.all=function(t){return Promise.all(t)};Le.spread=Pv;Le.isAxiosError=Mv;Le.mergeConfig=Js;Le.AxiosHeaders=ct;Le.formToJSON=e=>Qh(z.isHTMLForm(e)?new FormData(e):e);Le.getAdapter=sp.getAdapter;Le.HttpStatusCode=io;Le.default=Le;const G=Le.create({baseURL:"https://api.medicareclinic.ma/api",timeout:1e4,headers:{"Content-Type":"application/json",Accept:"application/json"}});G.interceptors.request.use(e=>{const t=localStorage.getItem("authToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));G.interceptors.response.use(e=>e,e=>{var t,r;if(((t=e.response)==null?void 0:t.status)===401){const n=((r=e.config)==null?void 0:r.url)||"";(n.includes("/me")||n.includes("/login"))&&(localStorage.removeItem("authToken"),localStorage.removeItem("currentUser"),localStorage.removeItem("authType"),window.location.pathname.includes("/login")||(window.location.href="/login"))}return Promise.reject(e)});const zv=()=>G.get("/chats"),Lv=e=>G.get(`/chats/${e}`),Rv=(e,t)=>G.post(`/chats/${e}/messages`,{message:t}),ap=m.createContext(void 0),Ft=()=>{const e=m.useContext(ap);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Av=({children:e})=>{const[t,r]=m.useState({user:null,isAuthenticated:!1,authType:null}),[n,a]=m.useState(!0),l=()=>{localStorage.removeItem("currentUser"),localStorage.removeItem("authToken"),localStorage.removeItem("authType")};m.useEffect(()=>{(async()=>{var N,y,f;const u=localStorage.getItem("currentUser"),h=localStorage.getItem("authToken"),v=localStorage.getItem("authType");if(u&&h&&v)try{const j=JSON.parse(u),p=v;r({user:j,isAuthenticated:!0,authType:p});const x=p==="admin"?"/admin/me":"/auth/me";try{const g=await G.get(x);r({user:g.data,isAuthenticated:!0,authType:p})}catch(g){((N=g.response)==null?void 0:N.status)===401&&((f=(y=g.response)==null?void 0:y.data)==null?void 0:f.message)==="Unauthenticated."&&(l(),r({user:null,isAuthenticated:!1,authType:null}))}}catch{l(),r({user:null,isAuthenticated:!1,authType:null})}else l(),r({user:null,isAuthenticated:!1,authType:null});a(!1)})()},[]);const i=async(d,u)=>{var h,v,N,y;try{try{const f=await G.post("/admin/login",{login:d,password:u});if((h=f==null?void 0:f.data)!=null&&h.access_token&&((v=f==null?void 0:f.data)!=null&&v.user))return localStorage.setItem("authToken",f.data.access_token),localStorage.setItem("currentUser",JSON.stringify(f.data.user)),localStorage.setItem("authType","admin"),r({user:f.data.user,isAuthenticated:!0,authType:"admin"}),!0}catch{}try{const f=await G.post("/auth/login",{login:d,password:u});if((N=f==null?void 0:f.data)!=null&&N.access_token&&((y=f==null?void 0:f.data)!=null&&y.user))return localStorage.setItem("authToken",f.data.access_token),localStorage.setItem("currentUser",JSON.stringify(f.data.user)),localStorage.setItem("authType","user"),r({user:f.data.user,isAuthenticated:!0,authType:"user"}),!0}catch{}return!1}catch{return!1}},o=()=>{l(),r({user:null,isAuthenticated:!1,authType:null})},c=()=>t.isAuthenticated&&!!t.user;return s.jsx(ap.Provider,{value:{...t,login:i,logout:o,checkAccess:c,isLoading:n},children:e})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Dv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),X=(e,t)=>{const r=m.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:o="",children:c,...d},u)=>m.createElement("svg",{ref:u,...Dv,width:a,height:a,stroke:n,strokeWidth:i?Number(l)*24/Number(a):l,className:["lucide",`lucide-${Ov(e)}`,o].join(" "),...d},[...t.map(([h,v])=>m.createElement(h,v)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=X("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=X("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=X("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=X("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=X("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=X("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=X("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=X("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=X("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=X("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=X("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=X("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=X("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=X("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=X("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=X("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=X("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=X("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=X("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=X("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=X("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=X("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=X("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=X("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=X("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=X("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=X("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=X("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=X("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=X("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=X("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=X("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=X("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=X("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=X("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=X("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=X("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=X("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=X("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=X("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=X("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=X("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=X("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=X("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=X("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=X("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=X("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=X("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=X("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=X("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=X("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=X("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=X("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=X("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=X("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=X("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=X("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=X("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=X("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=X("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=X("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=X("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=X("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),dp="/assets/aa2-CtAh1B7u.png",Yv="/assets/Landing-VsKU_f_R.avif",ey=()=>{const[e,t]=m.useState({name:"",email:"",phone:"",message:""}),[r,n]=m.useState({name:"",email:"",message:""}),[a,l]=m.useState(!1),[i,o]=m.useState(!1),[c,d]=m.useState(!1),[u,h]=m.useState(null),[v,N]=m.useState(!1),y=m.useRef(null),f=m.useRef(null),j=m.useRef(null),p=m.useRef(null),x=m.useRef(null),g=[{name:"Asmaa Messaoudi",review:"Je recommande fortement. Je me prépare chaque été chez Medicare Clinic. Je m'offre des packs d'amincissement pour affiner et remodeler mon corps. C'est ma troisième année chez eux. Toujours professionnelles et accueillantes. Et le résultat est toujours là ! Très très satisfaite."},{name:"Oumaima Deroui",review:"Je félicite Mme Ghizlane pour le service incroyable, je suis très ravie du résultat après le traitement hydrafacial, car il m'a donné un éclat parfait et aussi une peau douce, alors merci pour tout cela."},{name:"Imane El Kouzoudi",review:"Je fais mes traitements chez Medicare depuis 3 mois maintenant et je ne peux que féliciter le propriétaire et l'équipe pour la qualité du service et de l'hospitalité. Ghizlane sait très bien ce qu'elle fait et elle a le personnel le plus gentil. Je suis plus que satisfaite du résultat, je recommande vivement !"},{name:"Aya Lemnaoure",review:"Très satisfaite 💖💖🌹 Un grand merci à Mme Ghizlane et Fatima Zahrae 🌹"},{name:"Malak Aboutaib",review:"Franchement, super expérience pour le laser ! Les résultats sont au rendez-vous, je vois une vraie différence. Les filles sont adorables, toujours souriantes et très pro. L'ambiance est chaleureuse, on se sent vite en confiance. Je recommande à 100 % 👏🏻👌🏻"},{name:"Ichrak Gaougaou",review:"Après avoir vécu une belle expérience au sein de la clinique Médicale, la seule chose que je peux dire c'est que je suis très satisfait de tous les résultats. Ce fut un plaisir de voir des femmes comme la propriétaire de l'entreprise aimer leur travail et bénéficier de services de bonne qualité. Merci"},{name:"Ilham Kalila",review:"J'ai eu une expérience exceptionnelle au centre Medicare pour un soin Hydrafacial. Le soin était tout simplement top, et les résultats sont visibles dès la première séance. L'équipe est incroyablement gentille, souriante et très professionnelle. Le centre est propre, moderne et équipé des dernières technologies pour offrir les meilleurs soins. Un grand merci à Madame Ghizlane pour ce magnifique centre où l'on se sent entre de bonnes mains. Je recommande vivement."},{name:"Khawla Hamim",review:"Toooop j'ai beaucoup aimé le résultat. Mme Ghizlane est très sympa. J'ai fait le peeling, zina incroyable la différence. Je termine aussi mes séances de laser 🙈❤️❤️"},{name:"Nadia Aitoumajjoud",review:"Que Dieu vous bénisse, si Dieu le veut, vous obtenez des résultats étonnants dès la première séance, et la différence est nette en ce qui concerne le « soin hydrafacial ». Traitement classe, bon accueil et grande humilité de la part du Dr Ghazlan. Je vous souhaite du succès, si Dieu le veut."},{name:"Oumaima Elfaz",review:"Très satisfaite de mon expérience chez Medicare Clinic, 2ème soin hydrafacial effectué par Mme Ghizlane toujours avec autant de professionnalisme, de bienveillance et d'écoute. Ghizlane fait tout pour votre bien-être et que le soin soit un moment de plaisir et de détente. Ce soin a été vraiment un moment de décompression totale et de lâcher-prise sous ses mains douces et expertes."},{name:"Raby El",review:"The Best, franchement toutes les prestations sont au top. Moi j'ai fais le laser, l'amincissement, le lifting... et je suis satisfaite. Les filles sont aimables, elles prennent leur travail à cœur. Bon courage et bonne continuation."}];m.useEffect(()=>{const C=x.current;if(!C)return;let $,q=!1,te;const L=320+24,A=g.length*L,H=()=>{if(!q&&C){const he=C.scrollLeft;he>=A?C.scrollLeft=0:C.scrollLeft=he+1}$=requestAnimationFrame(H)},se=()=>{q=!0,clearTimeout(te),te=setTimeout(()=>{q=!1},3e3)};return C.addEventListener("scroll",se),H(),()=>{cancelAnimationFrame($),clearTimeout(te),C==null||C.removeEventListener("scroll",se)}},[]);const S=C=>{C.current&&(C.current.scrollIntoView({behavior:"smooth"}),d(!1))},b=C=>{const{name:$,value:q}=C.target;t(te=>({...te,[$]:q}))},k=()=>{const C={name:"",email:"",message:""};let $=!0;return e.name.trim()||(C.name="Le nom est requis",$=!1),e.email.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&(C.email="Format d'email invalide",$=!1),e.message.trim()||(C.message="Le message est requis",$=!1),n(C),$};m.useEffect(()=>{if(i){const C=setTimeout(()=>{o(!1)},1e4);return()=>clearTimeout(C)}},[i]);const _=C=>{if(C.preventDefault(),!k())return;l(!0);const $=`*Nouvelle demande de formation*

*Nom:* ${e.name}
*Email:* ${e.email?e.email:"Non fourni"}
*Téléphone:* ${e.phone||"Non fourni"}
*Type de formation:* ${K}

*Message:* ${e.message}`,te=`https://wa.me/212661280787?text=${encodeURIComponent($)}`;setTimeout(()=>{window.open(te,"_blank"),t({name:"",email:"",phone:"",message:""}),l(!1),o(!0)},500)},w=[{title:"Théorie + Pratique",description:"Formation complète alliant théorie et ateliers pratiques en clinique.",icon:Er,gradient:"from-pink-400 to-rose-500",features:["Cours théoriques complets","Ateliers pratiques","Suivi personnalisé","Certification"]},{title:"Théorie uniquement",description:"Accès à tout le contenu théorique en ligne, à votre rythme.",icon:Ze,gradient:"from-purple-400 to-pink-500",features:["Plateforme en ligne","Contenu multimédia","Accès illimité","Explications détaillées"]},{title:"Pratique uniquement",description:"Sessions pratiques intensives en clinique avec nos experts.",icon:lu,gradient:"from-rose-400 to-orange-500",features:["Sessions intensives","Équipement professionnel","Experts dédiés","Mise en situation"]}],M=[{title:"Soins du Visage Avancés",description:"Traitements professionnels pour améliorer la qualité et l'apparence de votre peau avec les dernières technologies.",icon:Gv,gradient:"from-pink-400 to-rose-400",services:["Hydrafacial","Carbon Peel","Microneedling","Radiofréquence fractionnée"]},{title:"Traitements Anti-Âge",description:"Solutions non-invasives pour réduire les signes du vieillissement et raffermir votre peau.",icon:su,gradient:"from-purple-400 to-pink-400",services:["HIFU Visage","HIFU Double Menton","HIFU Vaginal","Lifting non-chirurgical"]},{title:"Épilation & Détatouage Laser",description:"Technologies laser de pointe pour l'épilation permanente et le détatouage sécurisé.",icon:lu,gradient:"from-rose-400 to-orange-400",services:["Épilation Laser","Détatouage","Laser Alexandrite","Laser Diode"]},{title:"Soins Capillaires PRP",description:"Traitement révolutionnaire au Plasma Riche en Plaquettes pour stimuler la croissance des cheveux.",icon:Iv,gradient:"from-emerald-400 to-teal-400",services:["PRP Cheveux","Stimulation folliculaire","Traitement chute","Régénération capillaire"]}],T=(C,$)=>{C.stopPropagation(),oe($),S(p)},D=[{id:1,title:"Traitement de la peau",isAvailable:!0,duration:"4h",level:"Intermédiaire",description:"Techniques avancées pour améliorer la qualité et l'apparence de la peau.",content:{sections:[{title:"Hydrafacial + Carbon Peel",content:"Cette combinaison innovante permet de nettoyer en profondeur, d'hydrater et d'exfolier la peau. Les participants découvriront les bienfaits de l'hydrafacial pour revitaliser la peau, ainsi que l'utilisation du carbon peel pour atténuer les imperfections et les signes de vieillissement."},{title:"Microneedling",content:"Ce traitement favorise la régénération cutanée en stimulant la production de collagène. La formation inclura des démonstrations de la technique, ainsi que des conseils sur les soins post-traitement pour maximiser les résultats."},{title:"Radiofréquence fractionnée",content:"Les participants exploreront cette méthode non invasive, qui utilise des ondes radio pour resserrer la peau et améliorer sa texture. Le module couvrira les indications, contre-indications, et les différents types d'appareils utilisés dans le cadre de ces traitements."}]}},{id:2,title:"Anti-Âge",isAvailable:!0,duration:"3h",level:"Avancé",description:"Techniques visant à réduire les signes du vieillissement et améliorer l'apparence de la peau.",content:{sections:[{title:"HIFU Visage et Double Menton",content:"Ce traitement non invasif utilise l'ultrason focalisé de haute intensité (HIFU) pour stimuler le collagène et raffermir la peau du visage et du double menton. Les participants apprendront les protocoles de traitement, les zones ciblées et les résultats attendus, ainsi que les soins post-traitement."},{title:"HIFU Vaginal",content:"Ce traitement permet de revitaliser la zone intime féminine en utilisant la technologie HIFU pour améliorer l'élasticité et la fermeté. Le module inclura des discussions sur les indications, les bénéfices, et les précautions à prendre pour garantir un traitement sûr et efficace."}]}},{id:3,title:"Épilation Laser",isAvailable:!0,duration:"5h",level:"Intermédiaire",description:"Techniques d'épilation permanente par laser avec compréhension des procédures et meilleures pratiques.",content:{sections:[{title:"Principes de l'Épilation Laser",content:"Introduction à la technologie laser, incluant le fonctionnement des lasers (comme le laser Alexandrite et le laser diode) et leur interaction avec la mélanine dans les poils. Les participants apprendront comment la lumière laser ciblée détruit le follicule pileux tout en préservant la peau environnante."},{title:"Protocoles de Traitement",content:"Les étapes essentielles pour effectuer un traitement d'épilation laser en toute sécurité, y compris : évaluation de la peau et des poils des clients, préparation de la zone à traiter, réglages des paramètres du laser en fonction du type de peau et de poil."},{title:"Sécurité et Contre-indications",content:"Identification des situations où l'épilation laser ne pourrait pas être recommandée, telles que les maladies cutanées actives ou l'utilisation de médicaments photosensibilisants. Les participants apprendront également les moyens de minimiser les effets secondaires potentiels."}]}},{id:4,title:"Détatouage",isAvailable:!0,duration:"3h",level:"Avancé",description:"Techniques de détatouage pour réduire ou enlever des tatouages de manière sûre et efficace.",content:{sections:[{title:"Principes du Détatouage",content:"Comprendre les méthodes de détatouage courantes, notamment le détatouage au laser, qui utilise des impulsions de lumière pour fragmenter les pigments du tatouage. Les participants découvriront également d'autres approches comme les solutions chimiques et les techniques chirurgicales."},{title:"Techniques de Détatouage au Laser",content:"Protocoles de Traitement : Étapes à suivre pour réaliser un traitement, y compris la préparation de la peau, le réglage des paramètres du laser, et l'administration du traitement."}]}},{id:5,title:"PRP Cheveux",isAvailable:!0,duration:"2h",level:"Intermédiaire",description:"Traitement PRP (Plasma Riche en Plaquettes) pour stimuler la croissance capillaire.",content:{sections:[{title:"Introduction au PRP",content:"Présentation du PRP, ses caractéristiques, et principes de fonctionnement. Le PRP est un plasma autologue enrichi en plaquettes, riche en facteurs de croissance favorisant la régénération et la croissance des tissus, notamment des follicules pileux."},{title:"Indications et bénéfices",content:"Traitement contre la chute de cheveux légère à modérée, stimulation de la repousse, amélioration de l'épaisseur et de la qualité du cheveu, notamment pour des alopécies androgéniques."},{title:"Étapes pratiques",content:"Prélèvement sanguin du patient, centrifugation pour séparer le plasma riche en plaquettes, injection du PRP dans le cuir chevelu avec des micro-aiguilles en différents points ciblés."}]}}],I=[{id:6,title:"Onglerie",isAvailable:!1,duration:"6h",level:"Débutant",launchDate:"Mars 2025",description:"Formation complète en prothésie ongulaire, nail art et soins des mains.",content:{sections:[{title:"Introduction et connaissances de base",content:"Présentation de la formation, objectifs, anatomie de l'ongle, composition, cycle de croissance, anomalies et maladies courantes. Notions d'hygiène, désinfection du matériel, risques professionnels."},{title:"Matériel et préparation",content:"Présentation des outils et produits utilisés en onglerie. Préparation de l'ongle naturel : limage, repoussage des cuticules, petite manucure."},{title:"Techniques de pose et façonnage",content:"Pose de vernis régulier, semi-permanent, french manucure. Techniques de pose gel, résine acrylique et acrygel."},{title:"Nail art et décoration",content:"Techniques de décoration d'ongles : dessins, motifs, strass, paillettes. Utilisation des outils spécifiques."}]}},{id:7,title:"Formation Cils",isAvailable:!1,duration:"4h",level:"Intermédiaire",launchDate:"Avril 2025",description:"Techniques d'extension et rehaussement de cils, spécialiste du regard.",content:{sections:[{title:"Introduction au métier",content:"Présentation du métier de technicien(ne) cil à cil et spécialiste du regard. Anatomie des cils et regard : comprendre la structure, cycle de croissance, et précautions."},{title:"Hygiène et sécurité",content:"Protocoles de désinfection du matériel et hygiène en salon. Prévention des allergies, contre-indications et sécurité client."},{title:"Techniques d'extension de cils",content:"Types d'extensions (classiques, volume russe, hybride). Choix des matériaux : types de cils synthétiques, longueur, courbure."},{title:"Techniques de rehaussement de cils",content:"Procédé de rehaussement : déroulement, produits utilisés. Techniques de teinture des cils et soins complémentaires."}]}},{id:8,title:"Formation Hijama",isAvailable:!1,duration:"3h",level:"Débutant",launchDate:"Mai 2025",description:"Introduction à la Hijama (cupping), techniques de base et sécurité.",content:{sections:[{title:"Introduction rapide",content:"Qu'est-ce que la Hijama (cupping) ? Bienfaits principaux et indications courantes."},{title:"Matériel de base",content:"Ventouses simples : types et utilisation. Règles d'hygiène faciles à appliquer."},{title:"Anatomie et zones d'application",content:"Localisation simple des points principaux (zones dos, bras, jambes). Comprendre où poser les ventouses sans entrer dans le détail des méridiens."},{title:"Techniques de base",content:"Hijama sèche (sans saignée) : pose et retrait des ventouses. Durée moyenne et sensations possibles. Précautions élémentaires."}]}}],B=C=>{h(C),N(!0)},U=()=>{N(!1),h(null)},ne=["Théorie + Pratique","Théorie uniquement","Pratique uniquement"],[K,oe]=m.useState(ne[0]);return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-rose-50 to-orange-50",children:[s.jsxs("nav",{className:"sticky top-0 z-50 bg-white/80 backdrop-blur-md border-b border-pink-200",children:[s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsx("div",{className:"flex items-center mt-6",children:s.jsx("img",{src:dp,alt:"Logo Medicare Clinic",className:"h-24 md:h-28 lg:h-32 w-auto object-contain my-2"})}),s.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[s.jsx("button",{onClick:()=>S(y),className:"text-gray-700 hover:text-pink-600 font-medium",children:"Formations"}),s.jsx("button",{onClick:()=>S(f),className:"text-gray-700 hover:text-pink-600 font-medium",children:"Services"}),s.jsx("button",{onClick:()=>S(j),className:"text-gray-700 hover:text-pink-600 font-medium",children:"Témoignages"}),s.jsx("button",{onClick:()=>S(p),className:"text-gray-700 hover:text-pink-600 font-medium",children:"Contact"})]}),s.jsx("div",{className:"hidden md:flex space-x-4",children:s.jsx(Ne,{to:"/login",className:"w-full text-center bg-gradient-to-r from-pink-500 to-rose-500 text-white py-2 px-3 rounded-lg hover:opacity-90 transition-opacity font-medium",children:"Voir les cours"})}),s.jsx("div",{className:"md:hidden",children:s.jsx("button",{onClick:()=>d(!c),className:"p-2 rounded-md text-gray-600 hover:bg-pink-50",children:c?s.jsx(Ue,{className:"h-6 w-6"}):s.jsx(op,{className:"h-6 w-6"})})})]})}),c&&s.jsx("div",{className:"md:hidden bg-white border-b border-pink-100 py-4 px-4",children:s.jsxs("div",{className:"flex flex-col space-y-3",children:[s.jsx("button",{onClick:()=>S(y),className:"text-gray-700 hover:text-pink-600 font-medium py-2 px-3 rounded-md hover:bg-pink-50",children:"Formations"}),s.jsx("button",{onClick:()=>S(f),className:"text-gray-700 hover:text-pink-600 font-medium py-2 px-3 rounded-md hover:bg-pink-50",children:"Services"}),s.jsx("button",{onClick:()=>S(j),className:"text-gray-700 hover:text-pink-600 font-medium py-2 px-3 rounded-md hover:bg-pink-50",children:"Témoignages"}),s.jsx("button",{onClick:()=>S(p),className:"text-gray-700 hover:text-pink-600 font-medium py-2 px-3 rounded-md hover:bg-pink-50",children:"Contact"}),s.jsx("hr",{className:"border-pink-100 my-2"}),s.jsx("div",{className:"flex",children:s.jsx(Ne,{to:"/login",className:"w-full text-center bg-gradient-to-r from-pink-500 to-rose-500 text-white py-2 px-3 rounded-lg hover:opacity-90 transition-opacity font-medium",children:"Voir les cours"})})]})})]}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 md:py-24 flex flex-col md:flex-row items-center",children:[s.jsxs("div",{className:"md:w-1/2 mb-8 md:mb-0",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6 leading-tight",children:"Rejoignez l'Académie Clinique Esthétique pour des Formations d'Excellence"}),s.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Découvrez notre plateforme de formation en ligne dédiée à la médecine esthétique : soins du visage, lasers, PRP, microneedling et bien plus."}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs(Ne,{to:"/login",className:"bg-gradient-to-r from-pink-500 to-rose-500 text-white px-6 py-3 rounded-lg hover:opacity-90 transition-opacity font-medium flex items-center",children:["Commencer ",s.jsx(Fv,{className:"ml-2 h-5 w-5"})]}),s.jsxs("button",{onClick:()=>S(y),className:"flex items-center text-pink-600 font-medium hover:underline",children:["En savoir plus ",s.jsx(ai,{className:"ml-1 h-5 w-5"})]})]})]}),s.jsxs("div",{className:"md:w-1/2 relative",children:[s.jsx("div",{className:"bg-gradient-to-br from-pink-400 to-rose-500 rounded-lg overflow-hidden shadow-xl transform -rotate-2",children:s.jsx("img",{src:Yv,alt:"Formation esthétique",className:"w-full h-auto opacity-90"})}),s.jsxs("div",{className:"absolute -bottom-6 -right-6 bg-white rounded-lg p-4 shadow-lg",children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Rejoignez notre Académie Clinique Esthétique"}),s.jsxs("div",{className:"flex mt-2",children:[s.jsx("div",{className:"flex -space-x-2",children:[1,2,3,4,5].map(C=>s.jsx("div",{className:"w-8 h-8 rounded-full bg-pink-300 border-2 border-white flex items-center justify-center text-white text-xs",children:C},C))}),s.jsxs("div",{className:"ml-2 text-sm text-gray-600",children:[s.jsx("div",{className:"font-medium",children:"Formations 5 étoiles"}),s.jsx("div",{children:"pour professionnels"})]})]})]})]})]}),s.jsx("section",{id:"features",ref:y,className:"py-16 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Formation en médecine esthétique"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"3 options de formation réservées à nos clients :"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:w.map((C,$)=>s.jsxs("div",{className:"group relative bg-white rounded-xl shadow-lg p-6 hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-500 border border-gray-100 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br opacity-0 group-hover:opacity-5 transition-opacity duration-500",style:{background:"linear-gradient(to bottom right, rgb(236 72 153), rgb(239 68 68))"}}),s.jsx("div",{className:`bg-gradient-to-r ${C.gradient} w-16 h-16 rounded-full flex items-center justify-center mb-6 transform group-hover:scale-110 transition-transform duration-300`,children:s.jsx(C.icon,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3 group-hover:text-pink-600 transition-colors",children:C.title}),s.jsx("p",{className:"text-gray-600 mb-6",children:C.description}),s.jsx("ul",{className:"space-y-2 mb-6",children:C.features.map((q,te)=>s.jsxs("li",{className:"flex items-center text-sm",children:[s.jsx(ze,{className:"h-4 w-4 text-pink-500 mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:q})]},te))}),s.jsx("div",{className:"text-center",children:s.jsx("button",{onClick:q=>T(q,C.title),className:"bg-gradient-to-r from-pink-500 to-rose-500 text-white px-4 py-2 rounded-lg opacity-0 group-hover:opacity-100 transform translate-y-2 group-hover:translate-y-0 transition-all duration-300 hover:scale-105",children:"Choisir cette formation"})}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-pink-400 to-rose-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"})]},$))}),s.jsxs("div",{className:"mb-12",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-8 text-center",children:"Modules Disponibles"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:D.map(C=>s.jsxs("div",{onClick:()=>B(C),className:"group bg-white rounded-xl p-6 cursor-pointer hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 border border-gray-200 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-green-400 to-emerald-500"}),s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-400 to-emerald-500 w-12 h-12 rounded-lg flex items-center justify-center shadow-lg",children:s.jsx(Er,{className:"h-6 w-6 text-white"})}),s.jsx("div",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-xs font-medium",children:"Disponible"})]}),s.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-2 group-hover:text-green-600 transition-colors",children:C.title}),s.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:C.description}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(wt,{className:"h-4 w-4 mr-1"}),C.duration]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(an,{className:"h-4 w-4 mr-1"}),C.level]})]}),s.jsx("div",{className:"text-center",children:s.jsxs("button",{className:"text-green-600 font-medium text-sm hover:text-green-700 transition-colors flex items-center mx-auto",children:["Voir le contenu ",s.jsx(ai,{className:"h-4 w-4 ml-1"})]})})]},C.id))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-8 text-center",children:"Modules à Venir"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:I.map(C=>s.jsxs("div",{onClick:()=>B(C),className:"group bg-white rounded-xl p-6 cursor-pointer hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 border border-gray-200 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-orange-400 to-amber-500"}),s.jsx("div",{className:"absolute top-4 right-4 bg-gradient-to-r from-orange-400 to-amber-500 text-white px-3 py-1 rounded-full text-xs font-medium animate-pulse",children:"Bientôt"}),s.jsx("div",{className:"flex items-start justify-between mb-4",children:s.jsx("div",{className:"bg-gradient-to-r from-orange-400 to-amber-500 w-12 h-12 rounded-lg flex items-center justify-center shadow-lg",children:s.jsx(wt,{className:"h-6 w-6 text-white"})})}),s.jsx("h4",{className:"text-lg font-bold text-gray-700 mb-2 group-hover:text-orange-600 transition-colors",children:C.title}),s.jsx("p",{className:"text-gray-500 text-sm mb-4 line-clamp-2",children:C.description}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-400 mb-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(wt,{className:"h-4 w-4 mr-1"}),C.duration]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(an,{className:"h-4 w-4 mr-1"}),C.level]})]}),s.jsx("div",{className:"text-xs text-orange-600 font-medium mb-4"}),s.jsx("div",{className:"text-center",children:s.jsxs("button",{className:"text-orange-600 font-medium text-sm hover:text-orange-700 transition-colors flex items-center mx-auto",children:["Aperçu du contenu ",s.jsx(ai,{className:"h-4 w-4 ml-1"})]})})]},C.id))})]})]})}),s.jsx("section",{id:"services",ref:f,className:"py-16 bg-gradient-to-br from-gray-50 to-pink-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Nos Services en Clinique"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Découvrez nos traitements esthétiques professionnels dans notre clinique à Marrakech"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:M.map((C,$)=>s.jsxs("div",{className:"group bg-white rounded-xl p-5 hover:shadow-xl transform hover:-translate-y-2 transition-all duration-500 border border-gray-100 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br opacity-0 group-hover:opacity-5 transition-opacity duration-500",style:{background:"linear-gradient(to bottom right, rgb(236 72 153), rgb(239 68 68))"}}),s.jsx("div",{className:`bg-gradient-to-r ${C.gradient} w-10 h-10 rounded-full flex items-center justify-center mb-3 transform group-hover:scale-110 transition-transform duration-300`,children:s.jsx(C.icon,{className:"h-5 w-5 text-white"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 group-hover:text-pink-600 transition-colors",children:C.title}),s.jsx("p",{className:"text-gray-600 text-sm mb-3",children:C.description}),s.jsx("ul",{className:"space-y-1.5",children:C.services.map((q,te)=>s.jsxs("li",{className:"flex items-center",children:[s.jsx(ze,{className:"h-3.5 w-3.5 text-pink-500 mr-2 flex-shrink-0"}),s.jsx("span",{className:"text-xs text-gray-700",children:q})]},te))}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-pink-400 to-rose-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"})]},$))})]})}),v&&u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto m-2",children:[s.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 sm:p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start sm:items-center flex-col sm:flex-row",children:[s.jsx("div",{className:`${u.isAvailable?"bg-gradient-to-r from-pink-400 to-rose-500":"bg-gradient-to-r from-gray-400 to-gray-500"} w-10 h-10 sm:w-12 sm:h-12 rounded-full flex items-center justify-center mb-2 sm:mb-0 sm:mr-4`,children:u.isAvailable?s.jsx(St,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"}):s.jsx(wt,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:u.title}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 mt-1",children:[s.jsxs("span",{className:"text-sm text-gray-500 flex items-center",children:[s.jsx(wt,{className:"h-4 w-4 mr-1"}),u.duration]}),s.jsxs("span",{className:"text-sm text-gray-500 flex items-center",children:[s.jsx(an,{className:"h-4 w-4 mr-1"}),u.level]}),u.isAvailable?s.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium",children:"Disponible"}):s.jsx("span",{className:"bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-xs font-medium",children:"Bientôt"})]})]})]}),s.jsx("button",{onClick:U,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(Ue,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-500"})})]})}),s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsx("p",{className:"text-gray-600 mb-6",children:u.description}),s.jsx("div",{className:"space-y-4 sm:space-y-6",children:u.content.sections.map((C,$)=>s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 sm:p-6",children:[s.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2 sm:mb-3 flex items-center",children:[s.jsx("div",{className:"bg-pink-100 text-pink-600 w-5 h-5 sm:w-6 sm:h-6 rounded-full flex items-center justify-center text-xs sm:text-sm font-bold mr-2 sm:mr-3 flex-shrink-0",children:$+1}),s.jsx("span",{children:C.title})]}),s.jsx("p",{className:"text-gray-700 text-sm sm:text-base leading-relaxed",children:C.content})]},$))}),s.jsx("div",{className:"mt-6 sm:mt-8 text-center",children:u.isAvailable?s.jsx(Ne,{to:"/login",className:"bg-gradient-to-r from-pink-500 to-rose-500 text-white px-6 sm:px-8 py-2 sm:py-3 rounded-lg hover:opacity-90 transition-opacity font-medium inline-block",children:"Commencer ce module"}):s.jsx("button",{className:"bg-gray-400 text-white px-6 sm:px-8 py-2 sm:py-3 rounded-lg cursor-not-allowed font-medium",children:"Bientôt Disponible"})})]})]})}),s.jsx("section",{id:"testimonials",ref:j,className:"py-16 bg-gradient-to-r from-rose-50 to-pink-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Témoignages de nos clients"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Découvrez ce que nos clients disent de leur expérience chez Medicare Clinic"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{ref:x,className:"flex overflow-x-auto scrollbar-hide space-x-6 pb-4",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[g.map((C,$)=>s.jsxs("div",{className:"flex-none w-80 bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-pink-300 to-rose-300 flex items-center justify-center text-white font-bold",children:C.name.charAt(0)}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h4",{className:"font-bold text-gray-900",children:C.name}),s.jsx("div",{className:"flex",children:[...Array(5)].map((q,te)=>s.jsx(uo,{className:"h-4 w-4 text-yellow-400 fill-current"},te))})]})]}),s.jsxs("p",{className:"text-gray-700 italic text-sm leading-relaxed",children:['"',C.review,'"']})]},`original-${$}`)),g.map((C,$)=>s.jsxs("div",{className:"flex-none w-80 bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-pink-300 to-rose-300 flex items-center justify-center text-white font-bold",children:C.name.charAt(0)}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h4",{className:"font-bold text-gray-900",children:C.name}),s.jsx("div",{className:"flex",children:[...Array(5)].map((q,te)=>s.jsx(uo,{className:"h-4 w-4 text-yellow-400 fill-current"},te))})]})]}),s.jsxs("p",{className:"text-gray-700 italic text-sm leading-relaxed",children:['"',C.review,'"']})]},`duplicate-${$}`))]}),s.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-8 bg-gradient-to-r from-rose-50 to-transparent pointer-events-none"}),s.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-8 bg-gradient-to-l from-pink-50 to-transparent pointer-events-none"})]}),s.jsxs("div",{className:"text-center mt-6 flex items-center justify-center space-x-3",children:[s.jsx("div",{className:"text-2xl animate-bounce",children:s.jsx("span",{className:"inline-block animate-pulse",children:"👋🏻"})}),s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Faites défiler pour voir plus de témoignages"}),s.jsx("div",{className:"text-2xl animate-bounce animation-delay-500",children:s.jsx("span",{className:"inline-block animate-pulse",style:{animationDelay:"0.5s"},children:"👋🏻"})})]})]})}),s.jsx("section",{id:"contact",ref:p,className:"py-16 bg-white",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"bg-gradient-to-r from-pink-50 to-rose-50 rounded-2xl p-8 md:p-12",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Vous souhaitez en savoir plus ?"}),s.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Contactez notre équipe pour découvrir les options d'adhésion et les parcours de formation spécialisés."}),s.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[s.jsx("div",{className:"p-2 bg-pink-100 rounded-full",children:s.jsx(ht,{className:"h-6 w-6 text-pink-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-900",children:"Accompagnement personnalisé"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Bénéficiez d'un suivi individuel et de conseils adaptés à votre parcours"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"p-2 bg-pink-100 rounded-full",children:s.jsx(ln,{className:"h-6 w-6 text-pink-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-900",children:"Parcours de certification"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Suivez les cours et obtenez des certificats"})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Contactez-nous"}),i?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center p-2 bg-green-100 rounded-full mb-4",children:s.jsx(ze,{className:"h-8 w-8 text-green-600"})}),s.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-2",children:"Merci !"}),s.jsx("p",{className:"text-gray-600",children:"Nous avons bien reçu votre message et nous vous contacterons rapidement."})]}):s.jsxs("form",{onSubmit:_,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom complet"}),s.jsx("input",{type:"text",id:"name",name:"name",value:e.name,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500",required:!0}),r.name&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"}),r.email&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.email})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Téléphone"}),s.jsx("input",{type:"tel",id:"phone",name:"phone",value:e.phone,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"formation",className:"block text-sm font-medium text-gray-700 mb-1",children:"Type de formation"}),s.jsx("select",{id:"formation",name:"formation",value:K,onChange:C=>oe(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500",required:!0,children:ne.map(C=>s.jsx("option",{value:C,children:C},C))})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),s.jsx("textarea",{id:"message",name:"message",value:e.message,onChange:b,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500",required:!0}),r.message&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.message})]}),s.jsx("button",{type:"submit",disabled:a,className:"w-full bg-gradient-to-r from-pink-500 to-rose-500 text-white py-2 px-4 rounded-md hover:opacity-90 transition-opacity disabled:opacity-50 font-medium flex items-center justify-center",children:a?"Envoi en cours...":s.jsxs(s.Fragment,{children:["Envoyer sur WhatsApp",s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"})})]})})]})]})]})})})}),s.jsx("footer",{className:"bg-gray-900 text-white py-12",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"flex items-center justify-center p-2 bg-gradient-to-r from-pink-400 to-rose-400 rounded-full mr-2",children:s.jsx(su,{className:"h-5 w-5 text-white"})}),s.jsx("span",{className:"text-xl font-bold text-white",children:"MediCare Clinic"})]}),s.jsx("p",{className:"text-gray-400 mb-6 max-w-md",children:"Nous accompagnons les professionnels de la beauté avec des formations expertes en soins du visage, lasers et procédures esthétiques avancées."}),s.jsxs("div",{className:"space-y-4 mb-8",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-gray-800 rounded-full mr-3",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-pink-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),s.jsx("a",{href:"tel:+212524434640",className:"text-gray-300 hover:text-pink-400 transition-colors",children:"+212 524 434 640"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-gray-800 rounded-full mr-3",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-pink-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),s.jsx("a",{href:"https://wa.me/212661280787",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-pink-400 transition-colors",children:"+212 661 280 787"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-gray-800 rounded-full mr-3",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-pink-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),s.jsx("a",{href:"https://www.google.com/maps?q=31.6376501,+-8.0112558&z=17&hl=fr",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-pink-400 transition-colors",children:"N 9 Résidence Ahlam A, Entrée 1, 2ème étage, Av. Yacoub El Mansour, Marrakech 40000"})]})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("a",{href:"https://www.facebook.com/p/Medicare-Clinic-100083241855250/",target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-gray-800 rounded-full hover:bg-pink-500 transition-colors",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"})})}),s.jsx("a",{href:"https://www.instagram.com/medicare_clinic_marrakech/?hl=fr",target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-gray-800 rounded-full hover:bg-pink-500 transition-colors",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})}),s.jsx("a",{href:"https://wa.me/212661280787",target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-gray-800 rounded-full hover:bg-pink-500 transition-colors",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"})})})]})]}),s.jsx("div",{className:"h-64 md:h-auto",children:s.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3396.779924761284!2d-8.011255825060234!3d31.637650074571902!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMzHCsDM4JzE1LjYiTiA4wrAwMCczNi42Ilc!5e0!3m2!1sen!2sma!4v1628550897505!5m2!1sen!2sma",className:"w-full h-full rounded-lg",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]}),s.jsxs("div",{className:"border-t border-gray-800 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center",children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"© 2025 MediCare Clinic. Tous droits réservés."}),s.jsxs("div",{className:"flex mt-4 md:mt-0 space-x-6",children:[s.jsx("button",{onClick:()=>S(y),className:"text-gray-400 hover:text-pink-400 transition-colors text-sm",children:"Formations"}),s.jsx("button",{onClick:()=>S(j),className:"text-gray-400 hover:text-pink-400 transition-colors text-sm",children:"Témoignages"}),s.jsx("button",{onClick:()=>S(p),className:"text-gray-400 hover:text-pink-400 transition-colors text-sm",children:"Contact"})]})]})]})}),s.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed bottom-6 right-6 bg-pink-500 text-white p-3 rounded-full shadow-lg hover:bg-pink-600 transition-colors z-40","aria-label":"Retour en haut",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"})})}),s.jsx("style",{children:`
        .scrollbar-hide {
          -ms-overflow-style: none;
          scrollbar-width: none;
        }
        .scrollbar-hide::-webkit-scrollbar {
          display: none;
        }
        .animation-delay-500 {
          animation-delay: 0.5s;
        }
        @keyframes wave {
          0%, 100% { transform: rotate(0deg); }
          25% { transform: rotate(20deg); }
          75% { transform: rotate(-20deg); }
        }
        .animate-wave {
          animation: wave 2s ease-in-out infinite;
        }
      `})]})},O=m.forwardRef(({className:e="",variant:t="primary",size:r="md",isLoading:n,children:a,disabled:l,...i},o)=>{const c="inline-flex items-center justify-center rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",d={primary:"bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-600 hover:to-rose-600 text-white shadow-lg hover:shadow-xl focus:ring-pink-500",secondary:"bg-gray-100 hover:bg-gray-200 text-gray-900 focus:ring-gray-500",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500",ghost:"text-gray-600 hover:text-gray-900 hover:bg-gray-100 focus:ring-gray-500"},u={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};return s.jsx("button",{ref:o,className:`${c} ${d[t]} ${u[r]} ${e}`,disabled:l||n,...i,children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Loading..."]}):a})});O.displayName="Button";const up=({onMenuClick:e})=>{const{user:t,isAuthenticated:r,logout:n}=Ft(),a=Kt(),[l,i]=m.useState(0),[o,c]=m.useState(!1),[d,u]=m.useState([]),[h,v]=m.useState(!1),[N,y]=m.useState(!1),[f,j]=m.useState("all"),[p,x]=m.useState("all"),[g,S]=m.useState([]),[b,k]=m.useState(!1),_=m.useRef(null),w=m.useRef(null),M=G,T=(L,E="info")=>{const A=Date.now(),H={id:A,message:L,type:E};S(se=>[...se,H]),setTimeout(()=>{S(se=>se.filter(he=>he.id!==A))},4e3)};m.useEffect(()=>{const L=E=>{_.current&&!_.current.contains(E.target)&&k(!1),w.current&&!w.current.contains(E.target)&&c(!1)};return document.addEventListener("mousedown",L),()=>document.removeEventListener("mousedown",L)},[]);const D=async()=>{try{const L=await M.get("/notifications/unread-count");i(L.data.data.unread_count)}catch{}},I=async()=>{v(!0);try{let L="/notifications?per_page=50";f==="unread"&&(L+="&unread_only=true"),p!=="all"&&(L+=`&type=${p}`);const E=await M.get(L);u(E.data.data)}catch{T("Échec du chargement des notifications","error")}finally{v(!1)}},B=async L=>{try{await M.patch(`/notifications/${L}/read`),u(E=>E.map(A=>A.id===L?{...A,is_read:!0}:A)),D()}catch{T("Échec du marquage comme lu","error")}},U=async()=>{try{await M.patch("/notifications/mark-all-read"),u(L=>L.map(E=>({...E,is_read:!0}))),D(),T("Toutes les notifications ont été marquées comme lues","success")}catch{T("Échec du marquage de toutes les notifications","error")}},ne=async L=>{try{await M.delete(`/notifications/${L}`),u(E=>E.filter(A=>A.id!==L)),D(),T("Notification supprimée avec succès","success")}catch{T("Échec de la suppression de la notification","error")}},K=L=>{switch(L){case"urgent":return s.jsx($e,{className:"h-4 w-4 text-red-500"});case"high":return s.jsx($e,{className:"h-4 w-4 text-orange-500"});case"medium":return s.jsx(Uv,{className:"h-4 w-4 text-blue-500"});default:return s.jsx(ni,{className:"h-4 w-4 text-gray-500"})}},oe=L=>({video_added:"Nouvelle vidéo",comment_approved:"Commentaire approuvé",comment_rejected:"Commentaire rejeté",new_comment:"Nouveau commentaire",access_expiring:"Accès expirant",category_assigned:"Catégorie assignée",welcome:"Bienvenue"})[L]||L,C=L=>{var E,A;switch(L.type){case"video_added":return`/app/watch/${((E=L.data)==null?void 0:E.video_id)??""}`;case"comment_approved":case"comment_rejected":return`/app/watch/${((A=L.data)==null?void 0:A.video_id)??""}`;case"category_assigned":return"/app/dashboard";case"access_expiring":return"/app/profile";default:return"#"}},$=async()=>{o||await I(),c(!o),y(!1),k(!1)},q=async()=>{await I(),y(!0),c(!1)},te=()=>{y(!1)},ae=()=>{n(),a("/login")},_e=()=>{k(!b),c(!1)};return m.useEffect(()=>{if(r){D();const L=setInterval(D,3e4);return()=>clearInterval(L)}},[r]),r?N?s.jsxs("div",{className:"fixed inset-0 z-50 bg-white",children:[s.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Notifications"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("select",{value:f,onChange:L=>j(L.target.value),className:"border border-gray-300 rounded-md px-3 py-2",children:[s.jsx("option",{value:"all",children:"Tous"}),s.jsx("option",{value:"unread",children:"Non lus uniquement"}),s.jsx("option",{value:"read",children:"Lus uniquement"})]}),s.jsxs("select",{value:p,onChange:L=>x(L.target.value),className:"border border-gray-300 rounded-md px-3 py-2",children:[s.jsx("option",{value:"all",children:"Tous les types"}),s.jsx("option",{value:"video_added",children:"Nouvelles vidéos"}),s.jsx("option",{value:"comment_approved",children:"Commentaires approuvés"}),s.jsx("option",{value:"comment_rejected",children:"Commentaires rejetés"}),s.jsx("option",{value:"access_expiring",children:"Accès expirant"}),s.jsx("option",{value:"category_assigned",children:"Mises à jour de catégorie"})]}),s.jsx(O,{onClick:U,variant:"outline",children:"Tout marquer comme lu"}),s.jsx(O,{onClick:te,variant:"outline",children:"Fermer"})]})]}),s.jsx("div",{className:"space-y-4",children:h?s.jsx("div",{className:"text-center py-12 text-gray-500",children:"Chargement des notifications..."}):d.length===0?s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(ni,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),s.jsx("p",{children:"Aucune notification trouvée"})]}):d.map(L=>s.jsx("div",{className:`p-4 border rounded-lg ${L.is_read?"bg-white border-gray-200":"bg-blue-50 border-blue-200"}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:K(L.priority)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:L.title}),s.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full",children:oe(L.type)})]}),s.jsx("p",{className:"text-gray-700 mb-2",children:L.message}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[s.jsx("span",{children:new Date(L.created_at).toLocaleDateString()}),s.jsx("span",{className:"capitalize",children:L.priority})]}),s.jsx(Ne,{to:C(L),className:"inline-block mt-3 text-sm text-blue-600 hover:text-blue-800",onClick:()=>B(L.id),children:"Voir les détails →"})]})]}),s.jsxs("div",{className:"flex space-x-2 ml-4",children:[!L.is_read&&s.jsx("button",{onClick:()=>B(L.id),className:"p-1 text-gray-400 hover:text-green-600",title:"Marquer comme lu",children:s.jsx(ze,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>ne(L.id),className:"p-1 text-gray-400 hover:text-red-600",title:"Supprimer la notification",children:s.jsx(Es,{className:"h-5 w-5"})})]})]})},L.id))})]}),s.jsx("div",{className:"fixed bottom-4 right-4 space-y-2 z-60",children:g.map(L=>s.jsx("div",{className:`p-4 rounded-lg shadow-lg transition-all duration-300 ${L.type==="success"?"bg-green-500 text-white":L.type==="error"?"bg-red-500 text-white":"bg-blue-500 text-white"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:L.message}),s.jsx("button",{onClick:()=>S(E=>E.filter(A=>A.id!==L.id)),className:"ml-4 text-white hover:text-gray-200",children:"×"})]})},L.id))})]}):s.jsxs(s.Fragment,{children:[s.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-white/80 backdrop-blur-md border-b border-pink-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[(t==null?void 0:t.role)==="admin"&&e&&s.jsx("button",{onClick:e,className:"lg:hidden p-2 rounded-lg hover:bg-gray-100",children:s.jsx(op,{className:"h-5 w-5 text-gray-600"})}),s.jsx(Ne,{to:(t==null?void 0:t.role)==="admin"?"/admin/dashboard":"/app/dashboard",className:"flex items-center space-x-2",children:s.jsx("div",{className:"flex items-center mt-6",children:s.jsx("img",{src:dp,alt:"Logo Medicare Clinic",className:"h-24 md:h-28 lg:h-32 w-auto object-contain my-2"})})})]}),s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[s.jsxs("div",{className:"relative flex items-center",ref:w,children:[s.jsxs(O,{variant:"ghost",size:"sm",onClick:$,className:"relative",children:[s.jsx(ni,{className:"h-4 w-4"}),l>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:l>9?"9+":l})]}),s.jsx(Ne,{to:(t==null?void 0:t.role)==="admin"?"/admin/chat":"/app/chat",className:"ml-2",title:"Chat",children:s.jsx(O,{variant:"ghost",size:"sm",className:"relative",children:s.jsx(bt,{className:"h-4 w-4"})})}),o&&s.jsxs("div",{className:"fixed left-1/2 transform -translate-x-1/2 lg:left-auto lg:transform-none lg:right-48 xl:right-8 top-16 w-80 max-w-[calc(100vw-2rem)] bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[s.jsxs("div",{className:"p-3 sm:p-4 border-b border-gray-200 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 sm:gap-0",children:[s.jsx("h3",{className:"font-semibold text-gray-800 text-sm sm:text-base",children:"Notifications"}),d.some(L=>!L.is_read)&&s.jsx("button",{onClick:U,className:"text-xs sm:text-sm text-blue-600 hover:text-blue-800",children:"Tout marquer comme lu"})]}),s.jsx("div",{className:"max-h-60 sm:max-h-96 overflow-y-auto",children:h?s.jsx("div",{className:"p-3 sm:p-4 text-center text-gray-500 text-sm",children:"Chargement..."}):d.length===0?s.jsx("div",{className:"p-3 sm:p-4 text-center text-gray-500 text-sm",children:"Aucune notification"}):d.slice(0,5).map(L=>s.jsx("div",{className:`p-3 sm:p-4 border-b border-gray-100 hover:bg-gray-50 ${L.is_read?"":"bg-blue-50"}`,children:s.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:K(L.priority)}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs(Ne,{to:C(L),onClick:()=>B(L.id),className:"block hover:no-underline",children:[s.jsx("h4",{className:"text-xs sm:text-sm font-medium text-gray-900 leading-tight",children:L.title}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mt-1 leading-tight",children:L.message}),s.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400 mt-1 sm:mt-2",children:new Date(L.created_at).toLocaleDateString()})]})}),!L.is_read&&s.jsx("button",{onClick:()=>B(L.id),className:"flex-shrink-0 text-gray-400 hover:text-gray-600 p-1",title:"Marquer comme lu",children:s.jsx(lp,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})},L.id))}),s.jsx("div",{className:"p-2 sm:p-3 border-t border-gray-200 text-center",children:s.jsx("button",{onClick:q,className:"text-xs sm:text-sm text-blue-600 hover:text-blue-800",children:"Voir toutes les notifications"})})]})]}),s.jsxs("div",{className:"relative",ref:_,children:[s.jsxs("button",{onClick:_e,className:"flex items-center space-x-2 text-sm text-gray-600 hover:text-gray-900 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsx(eu,{className:"h-6 w-6"}),s.jsx("span",{className:"hidden md:inline",children:t==null?void 0:t.username}),s.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:t==null?void 0:t.role}),s.jsx(pc,{className:"h-3 w-3"})]}),b&&s.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(eu,{className:"h-8 w-8 text-gray-400 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-gray-900 truncate",children:(t==null?void 0:t.name)||(t==null?void 0:t.username)}),s.jsx("p",{className:"text-sm text-gray-500 truncate",title:t==null?void 0:t.email,children:t==null?void 0:t.email})]})]})}),s.jsx("div",{className:"py-2",children:(t==null?void 0:t.role)==="admin"?s.jsxs(s.Fragment,{children:[s.jsxs(Ne,{to:"/admin/profile",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>k(!1),children:[s.jsx(co,{className:"h-4 w-4 mr-3"}),"Paramètres du profil"]}),s.jsxs(Ne,{to:"/admin/dashboard",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>k(!1),children:[s.jsx(et,{className:"h-4 w-4 mr-3"}),"Tableau de bord admin"]}),s.jsxs(Ne,{to:"/admin/chat",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>k(!1),children:[s.jsx(bt,{className:"h-4 w-4 mr-3"}),"Chat admin"]})]}):s.jsxs(s.Fragment,{children:[s.jsxs(Ne,{to:"/app/dashboard",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>k(!1),children:[s.jsx(et,{className:"h-4 w-4 mr-3"}),"Tableau de bord"]}),s.jsxs(Ne,{to:"/app/profile",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>k(!1),children:[s.jsx(co,{className:"h-4 w-4 mr-3"}),"Paramètres du profil"]}),s.jsxs(Ne,{to:"/app/chat",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>k(!1),children:[s.jsx(bt,{className:"h-4 w-4 mr-3"}),"Support chat"]})]})}),s.jsx("div",{className:"border-t border-gray-200 py-2",children:s.jsxs("button",{onClick:()=>{k(!1),ae()},className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[s.jsx(qv,{className:"h-4 w-4 mr-3"}),"Se déconnecter"]})})]})]})]})]})})}),s.jsx("div",{className:"fixed bottom-4 right-4 space-y-2 z-60",children:g.map(L=>s.jsx("div",{className:`p-4 rounded-lg shadow-lg transition-all duration-300 ${L.type==="success"?"bg-green-500 text-white":L.type==="error"?"bg-red-500 text-white":"bg-blue-500 text-white"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:L.message}),s.jsx("button",{onClick:()=>S(E=>E.filter(A=>A.id!==L.id)),className:"ml-4 text-white hover:text-gray-200",children:"×"})]})},L.id))})]}):null},ty=()=>s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-rose-50 to-orange-50",children:[s.jsx(up,{}),s.jsx("main",{className:"pt-16",children:s.jsx(Rh,{})})]}),sy=({isOpen:e,onClose:t})=>{const r=Zs(),n=[{path:"/admin",icon:$v,label:"Tableau de bord",exact:!0},{path:"/admin/videos",icon:Ct,label:"Gestion des vidéos"},{path:"/admin/videos/new",icon:Vs,label:"Ajouter une vidéo"},{path:"/admin/categories",icon:Ga,label:"Catégories"},{path:"/admin/users",icon:Ze,label:"Gestion des utilisateurs"},{path:"/admin/progress",icon:_n,label:"Progression des utilisateurs"},{path:"/admin/chat",icon:bt,label:"Chat"},{path:"/admin/preview",icon:pt,label:"Aperçu du portail"}],a=(l,i)=>i?r.pathname===l:r.pathname.startsWith(l);return s.jsxs(s.Fragment,{children:[e&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:t}),s.jsxs("div",{className:`
        w-64 bg-white shadow-lg border-r border-gray-200 h-screen fixed left-0 top-16 z-50
        transform transition-transform duration-300 ease-in-out
        ${e?"translate-x-0":"-translate-x-full"}
        lg:translate-x-0
      `,children:[s.jsx("div",{className:"lg:hidden flex justify-end p-4",children:s.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100",children:s.jsx(Ue,{className:"h-5 w-5 text-gray-600"})})}),s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Panneau d'administration"}),s.jsx("nav",{className:"space-y-2",children:n.map(l=>{const i=l.icon;return s.jsxs(Ne,{to:l.path,onClick:t,className:`flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors duration-200 ${a(l.path,l.exact)?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[s.jsx(i,{className:"h-5 w-5 flex-shrink-0"}),s.jsx("span",{className:"font-medium",children:l.label})]},l.path)})})]})]})]})},ry=()=>{const[e,t]=m.useState(!1);return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-rose-50 to-orange-50",children:[s.jsx(up,{onMenuClick:()=>t(!e)}),s.jsx(sy,{isOpen:e,onClose:()=>t(!1)}),s.jsx("main",{className:"pt-16 lg:pl-64 transition-all duration-300",children:s.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:s.jsx(Rh,{})})})]})},iu=({children:e,requiredAuthType:t})=>{const{isAuthenticated:r,authType:n,isLoading:a}=Ft();return a?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r?t&&n!==t?s.jsx(bs,{to:"/unauthorized",replace:!0}):s.jsx(s.Fragment,{children:e}):s.jsx(bs,{to:"/login",replace:!0})},W=({className:e="",children:t,...r})=>s.jsx("div",{className:`bg-white/90 backdrop-blur-sm rounded-xl shadow-lg border border-pink-100 ${e}`,...r,children:t}),ny="/assets/MDClogo-aVz-vUkD.png",ay=()=>{var x,g;const[e,t]=m.useState(!1),[r,n]=m.useState(""),[a,l]=m.useState(""),[i,o]=m.useState(""),[c,d]=m.useState(!1),{login:u,isAuthenticated:h,user:v,isLoading:N}=Ft(),y=Kt(),j=((g=(x=Zs().state)==null?void 0:x.from)==null?void 0:g.pathname)||null;if(N)return s.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Vv,{className:"h-6 w-6 animate-spin text-pink-600"}),s.jsx("span",{className:"text-gray-600",children:"Checking authentication..."})]})});const p=async S=>{S.preventDefault(),o(""),d(!0);try{if(await u(r,a)){const k=localStorage.getItem("authType"),_=JSON.parse(localStorage.getItem("currentUser")||"{}");let w;j&&j!=="/login"?w=j:w=k==="admin"?"/admin":"/app/dashboard",y(w,{replace:!0})}else o("Invalid credentials or access expired")}catch{o("Login failed. Please try again.")}finally{d(!1)}};if(h&&v){const S=v.role==="admin"?"/admin":"/app/dashboard",b=j&&j!=="/login"?j:S;return s.jsx(bs,{to:b,replace:!0})}return s.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("img",{src:ny,alt:"Medicare Clinic Logo",className:"h-20 w-auto object-contain"})}),s.jsx("p",{className:"text-lg font-medium bg-gradient-to-r from-pink-600 to-rose-600 bg-clip-text text-transparent",children:"Accédez à votre portail d'apprentissage"})]}),s.jsxs(W,{className:"p-8",children:[s.jsxs("form",{onSubmit:p,className:"space-y-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx(et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",value:r,onChange:S=>n(S.target.value),placeholder:"Entrez votre nom d'utilisateur",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,disabled:c})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Bv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:e?"text":"password",value:a,onChange:S=>l(S.target.value),placeholder:"Entrez votre mot de passe",className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,disabled:c}),s.jsx("button",{type:"button",onClick:()=>t(!e),className:"absolute inset-y-0 right-0 pr-3 flex items-center",tabIndex:-1,children:e?s.jsx(At,{className:"h-5 w-5 text-gray-400"}):s.jsx(pt,{className:"h-5 w-5 text-gray-400"})})]}),i&&s.jsxs("div",{className:"flex items-center space-x-2 text-red-600 bg-red-50 p-3 rounded-lg",children:[s.jsx($e,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:i})]}),s.jsx(O,{type:"submit",className:"w-full",size:"lg",isLoading:c,disabled:c,children:"Sign In"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs(Ne,{to:"/",className:"flex items-center justify-center gap-2 text-pink-600 hover:text-pink-700 font-medium",children:[s.jsx(Ht,{className:"h-4 w-4"}),"Retour à la page d'accueil"]})})]})]})})},ly=()=>{const{user:e}=Ft(),[t,r]=m.useState([]),[n,a]=m.useState([]),[l,i]=m.useState(!0),[o,c]=m.useState(null),[d,u]=m.useState({totalWatchTime:0,favoriteCategory:"",lastWatched:null,achievements:0});m.useEffect(()=>{e!=null&&e.id&&(h(),v(),N())},[e==null?void 0:e.id]);const h=async()=>{var w,M;try{i(!0),c(null);const T=await G.get("/my-videos");T.data.success?a(T.data.data):c("Failed to load videos")}catch(T){c(((M=(w=T.response)==null?void 0:w.data)==null?void 0:M.message)||"Failed to load videos. Please try again.")}finally{i(!1)}},v=async()=>{var w;try{const M=await G.get(`/user-progress/${e==null?void 0:e.id}`);if(M.data.success){const T=M.data.data.progress_details||[];r(T)}else throw new Error("API response not successful")}catch{try{const T=[];for(let D=0;D<localStorage.length;D++){const I=localStorage.key(D);if(I&&I.startsWith(`progress_${e==null?void 0:e.id}_`)){const B=localStorage.getItem(I);if(B)try{const U=JSON.parse(B);(U.videoId||U.video_id)&&T.push({videoId:U.videoId||((w=U.video_id)==null?void 0:w.toString()),video_id:U.video_id||parseInt(U.videoId),progress:parseFloat(U.progress)||0,current_time:parseFloat(U.current_time)||0,completed:U.completed||U.progress>=95,last_updated:U.last_updated||new Date().toISOString()})}catch{}}}r(T)}catch{r([])}}},N=async()=>{try{const w=await G.get(`/user-stats/${e==null?void 0:e.id}`);w.data.success&&u(w.data.data)}catch{}},y=w=>{var T;const M=t.find(D=>{var U;const I=typeof D.videoId=="string"?parseInt(D.videoId):D.videoId,B=typeof D.video_id=="number"?D.video_id:parseInt(((U=D.video_id)==null?void 0:U.toString())||"0");return I===w||B===w});if(M){const D=parseFloat(((T=M.progress)==null?void 0:T.toString())||"0");return Math.max(0,Math.min(100,D))}return 0},f=w=>w.cover_cloudinary_url?w.cover_cloudinary_url:w.cover_url?w.cover_url:w.cover_image?w.cover_image.startsWith("http")?w.cover_image:`http://127.0.0.1:8000/storage/${w.cover_image}`:'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="400" height="200" viewBox="0 0 400 200"%3E%3Crect width="400" height="200" fill="%23f3f4f6"/%3E%3Ctext x="200" y="100" text-anchor="middle" dy="0.3em" font-family="Arial, sans-serif" font-size="16" fill="%236b7280"%3ENo Image%3C/text%3E%3C/svg%3E',j=w=>{if(!w)return"N/A";const M=Math.floor(w/3600),T=Math.floor(w%3600/60),D=Math.floor(w%60);return M>0?`${M}h ${T}m ${D}s`:`${T}m ${D}s`},p=w=>new Date(w).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),x=w=>{if(!w)return"N/A";const M=["Bytes","KB","MB","GB"];if(w===0)return"0 Bytes";const T=Math.floor(Math.log(w)/Math.log(1024));return Math.round(w/Math.pow(1024,T)*100)/100+" "+M[T]},g=n.filter(w=>w.is_published),S=g.map(w=>w.id),b=t.filter(w=>{var T;const M=parseFloat(((T=w.progress)==null?void 0:T.toString())||"0");return(w.completed===!0||M>=95)&&S.includes(typeof w.videoId=="string"?parseInt(w.videoId):w.videoId)}).length,k=g.length-b,_=t.length>0?Math.round(t.reduce((w,M)=>{var D;const T=parseFloat(((D=M.progress)==null?void 0:D.toString())||"0");return w+T},0)/t.length):0;return e?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 lg:py-8",children:[s.jsx("div",{className:"mb-6 md:mb-8",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl md:rounded-2xl p-4 md:p-6 text-white shadow-xl",children:s.jsxs("div",{className:"text-center md:text-left",children:[s.jsxs("h1",{className:"text-xl md:text-2xl lg:text-3xl font-bold mb-2",children:["Bienvenue, ",e.username," ! 👋"]}),s.jsx("p",{className:"text-blue-100 text-base md:text-lg mb-3 md:mb-2",children:"Prêt à poursuivre votre parcours d'apprentissage ?"}),s.jsxs("div",{className:"flex items-center justify-center md:justify-start",children:[s.jsx(et,{className:"h-4 w-4 mr-2"}),s.jsxs("span",{className:"text-blue-200 text-sm",children:["Membre depuis ",p(e.created_at||new Date().toISOString())]})]})]})})}),o&&s.jsx("div",{className:"mb-4 md:mb-6 p-3 md:p-4 border border-red-200 bg-red-50 rounded-xl shadow-sm",children:s.jsxs("div",{className:"flex items-center text-red-600",children:[s.jsx($e,{className:"h-5 w-5 mr-2"}),s.jsx("span",{className:"text-sm md:text-base",children:o}),s.jsx("button",{onClick:()=>c(null),className:"ml-auto text-red-600 hover:text-red-800 font-bold text-xl leading-none",children:"×"})]})}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3 md:gap-6 mb-6 md:mb-8",children:[s.jsx(W,{className:"p-3 md:p-6 bg-white shadow-lg hover:shadow-xl transition-shadow duration-300 border-0",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 md:p-3 bg-blue-100 rounded-lg md:rounded-xl",children:s.jsx(Er,{className:"h-4 w-4 md:h-6 md:w-6 text-blue-600"})}),s.jsxs("div",{className:"ml-2 md:ml-4",children:[s.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Vidéos publiées"}),s.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:g.length})]})]})}),s.jsx(W,{className:"p-3 md:p-6 bg-white shadow-lg hover:shadow-xl transition-shadow duration-300 border-0",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 md:p-3 bg-green-100 rounded-lg md:rounded-xl",children:s.jsx(an,{className:"h-4 w-4 md:h-6 md:w-6 text-green-600"})}),s.jsxs("div",{className:"ml-2 md:ml-4",children:[s.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Terminées"}),s.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:b})]})]})}),s.jsx(W,{className:"p-3 md:p-6 bg-white shadow-lg hover:shadow-xl transition-shadow duration-300 border-0",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 md:p-3 bg-gray-100 rounded-lg md:rounded-xl",children:s.jsx(wl,{className:"h-4 w-4 md:h-6 md:w-6 text-gray-600"})}),s.jsxs("div",{className:"ml-2 md:ml-4",children:[s.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Non terminée"}),s.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:k})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 mb-6 md:mb-8",children:[s.jsxs(W,{className:"p-4 md:p-6 bg-white shadow-lg border-0",children:[s.jsxs("h3",{className:"text-base md:text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(_n,{className:"h-4 w-4 md:h-5 md:w-5 mr-2 text-indigo-600"}),"Progression d'apprentissage"]}),s.jsxs("div",{className:"space-y-3 md:space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-xs md:text-sm mb-1",children:[s.jsx("span",{className:"text-gray-600",children:"Terminées"}),s.jsxs("span",{className:"font-medium",children:[b," vidéos"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"h-2 rounded-full bg-green-500",style:{width:`${g.length>0?b/g.length*100:0}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-xs md:text-sm mb-1",children:[s.jsx("span",{className:"text-gray-600",children:"Non terminée"}),s.jsxs("span",{className:"font-medium",children:[k," vidéos"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"h-2 rounded-full bg-gray-400",style:{width:`${g.length>0?k/g.length*100:0}%`}})})]})]})]}),s.jsxs(W,{className:"p-4 md:p-6 bg-white shadow-lg border-0",children:[s.jsxs("h3",{className:"text-base md:text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(Xv,{className:"h-4 w-4 md:h-5 md:w-5 mr-2 text-indigo-600"}),"Statistiques d'apprentissage"]}),s.jsxs("div",{className:"space-y-2 md:space-y-3",children:[d.favoriteCategory&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-xs md:text-sm text-gray-600",children:"Catégorie préférée :"}),s.jsx("span",{className:"text-xs md:text-sm font-medium",children:d.favoriteCategory})]}),d.totalWatchTime>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-xs md:text-sm text-gray-600",children:"Temps total de visionnage :"}),s.jsx("span",{className:"text-xs md:text-sm font-medium",children:j(d.totalWatchTime)})]}),d.lastWatched&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-xs md:text-sm text-gray-600",children:"Dernière vidéo vue :"}),s.jsx("span",{className:"text-xs md:text-sm font-medium text-right",children:d.lastWatched.title})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-xs md:text-sm text-gray-600",children:"Progression moyenne :"}),s.jsxs("span",{className:"text-xs md:text-sm font-medium",children:[_,"%"]})]})]})]})]}),s.jsx("div",{className:"mb-4 md:mb-6",children:s.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[s.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Votre contenu d'apprentissage"}),s.jsxs("div",{className:"text-xs md:text-sm text-gray-600",children:[n.length," vidéo",n.length!==1?"s":""," disponibles • ",b," terminées"]})]})}),l?s.jsxs("div",{className:"text-center py-12 md:py-16",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),s.jsx("p",{className:"text-gray-600 text-base md:text-lg",children:"Chargement de vos vidéos..."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:n.map(w=>{const M=y(w.id),T=M>=95,D=M>0;return s.jsx(iy,{video:w,videoProgress:M,isCompleted:T,hasStarted:D,getCoverImageUrl:f,formatDate:p,formatDuration:j,formatFileSize:x},w.id)})}),!l&&n.length===0&&s.jsxs("div",{className:"text-center py-12 md:py-16",children:[s.jsx("div",{className:"inline-flex items-center justify-center p-4 bg-blue-100 rounded-full mb-6",children:s.jsx(Er,{className:"h-12 w-12 text-blue-600"})}),s.jsx("h3",{className:"text-lg md:text-xl font-semibold text-gray-900 mb-3",children:"Aucune vidéo disponible pour le moment"}),s.jsx("p",{className:"text-sm md:text-base text-gray-600 max-w-md mx-auto",children:"Il semble qu'aucun contenu d'apprentissage ne vous ait encore été attribué. Revenez plus tard ou contactez votre instructeur pour plus d'informations."})]})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"Loading your dashboard..."})]})})},iy=({video:e,videoProgress:t,isCompleted:r,hasStarted:n,getCoverImageUrl:a,formatDate:l,formatDuration:i,formatFileSize:o})=>s.jsxs(W,{className:"overflow-hidden hover:shadow-lg transition-shadow duration-200 bg-white h-full flex flex-col",children:[s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:a(e),alt:e.title,className:"w-full h-36 md:h-48 object-cover cursor-pointer",onError:c=>{c.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="400" height="200" viewBox="0 0 400 200"%3E%3Crect width="400" height="200" fill="%23f3f4f6"/%3E%3Ctext x="200" y="100" text-anchor="middle" dy="0.3em" font-family="Arial, sans-serif" font-size="16" fill="%236b7280"%3ENo Image%3C/text%3E%3C/svg%3E'}}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",children:s.jsx(Ne,{to:`/app/watch/${e.id}`,className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 bg-white bg-opacity-90 hover:bg-opacity-100 rounded-full p-2 md:p-3 transform hover:scale-110 transition-transform",title:"Watch video",children:s.jsx(St,{className:"h-5 w-5 md:h-6 md:w-6 text-gray-700 ml-1"})})}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${e.is_published?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:e.is_published?"Publiée":"Brouillon"})}),e.category&&s.jsx("div",{className:"absolute top-2 left-2",children:s.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:e.category.name})}),r&&s.jsx("div",{className:"absolute top-12 right-2",children:s.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-500 text-white",children:"✓ Terminée"})}),e.average_rating&&e.average_rating>0&&s.jsx("div",{className:"absolute bottom-2 left-2",children:s.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800 flex items-center",children:[s.jsx(uo,{className:"h-3 w-3 mr-1 fill-yellow-500 text-yellow-500"}),e.average_rating.toFixed(1)]})}),e.views_count!==void 0&&s.jsx("div",{className:"absolute bottom-2 right-2",children:s.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-800 flex items-center",children:[s.jsx(pt,{className:"h-3 w-3 mr-1"}),e.views_count]})})]}),s.jsxs("div",{className:"p-3 md:p-4 flex-grow flex flex-col",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2 text-sm md:text-base",title:e.title,children:e.title}),s.jsx("p",{className:"text-xs md:text-sm text-gray-600 mb-3 line-clamp-2 flex-grow",title:e.description,children:e.description||"Aucune description fournie"}),s.jsxs("div",{className:"space-y-2 text-xs text-gray-500 mb-3 md:mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(wt,{className:"h-3 w-3 mr-1"}),s.jsx("span",{children:i(e.duration)})]}),s.jsx("div",{children:s.jsx("span",{children:o(e.file_size)})})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(ht,{className:"h-3 w-3 mr-1"}),s.jsxs("span",{children:["Ajoutée le ",l(e.created_at)]})]})]}),n&&s.jsxs("div",{className:"mb-3 md:mb-4",children:[s.jsxs("div",{className:"flex justify-between text-xs md:text-sm mb-2",children:[s.jsx("span",{className:"text-gray-600",children:"Votre progression"}),s.jsxs("span",{className:"font-medium text-gray-900",children:[Math.round(t),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${r?"bg-gradient-to-r from-green-500 to-emerald-500":"bg-gradient-to-r from-blue-500 to-indigo-500"}`,style:{width:`${t}%`}})})]}),s.jsx(Ne,{to:`/app/watch/${e.id}`,className:"mt-auto",children:s.jsxs(O,{size:"sm",variant:r?"secondary":"primary",className:"w-full text-xs md:text-sm",children:[s.jsx(St,{className:"h-3 w-3 md:h-4 md:w-4 mr-2"}),r?"Revoir la vidéo":n?"Continuer l'apprentissage":"Commencer l'apprentissage"]})})]})]}),ou=[{id:"1",title:"React Fundamentals",description:"Learn the core concepts of React including components, props, state, and hooks.",thumbnail:"https://images.pexels.com/photos/11035380/pexels-photo-11035380.jpeg?auto=compress&cs=tinysrgb&w=500",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",duration:"45:30",category:"Frontend",isPublished:!0,publishedAt:"2024-01-15T10:00:00Z",createdAt:"2024-01-10T10:00:00Z"},{id:"2",title:"TypeScript Mastery",description:"Master TypeScript from basics to advanced concepts with practical examples.",thumbnail:"https://images.pexels.com/photos/574071/pexels-photo-574071.jpeg?auto=compress&cs=tinysrgb&w=500",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4",duration:"38:15",category:"Programming",isPublished:!0,publishedAt:"2024-01-20T10:00:00Z",createdAt:"2024-01-15T10:00:00Z"},{id:"3",title:"Node.js Backend Development",description:"Build scalable backend applications with Node.js, Express, and databases.",thumbnail:"https://images.pexels.com/photos/1181675/pexels-photo-1181675.jpeg?auto=compress&cs=tinysrgb&w=500",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4",duration:"52:45",category:"Backend",isPublished:!1,createdAt:"2024-01-25T10:00:00Z"},{id:"4",title:"Modern CSS Techniques",description:"Explore advanced CSS features including Grid, Flexbox, and CSS animations.",thumbnail:"https://images.pexels.com/photos/1779487/pexels-photo-1779487.jpeg?auto=compress&cs=tinysrgb&w=500",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4",duration:"41:20",category:"Design",isPublished:!0,publishedAt:"2024-01-30T10:00:00Z",createdAt:"2024-01-28T10:00:00Z"}],oy=()=>{const e=localStorage.getItem("courses");return e?JSON.parse(e):(localStorage.setItem("courses",JSON.stringify(ou)),ou)},cy=({courseId:e})=>{const{user:t}=Ft(),[r,n]=m.useState([]),[a,l]=m.useState("");m.useEffect(()=>{const d=localStorage.getItem(`comments_${e}`);d&&n(JSON.parse(d))},[e]);const i=d=>{n(d),localStorage.setItem(`comments_${e}`,JSON.stringify(d))},o=d=>{if(d.preventDefault(),!a.trim()||!t)return;const h=[{id:Date.now().toString(),courseId:e,userId:t.id,username:t.username,content:a.trim(),timestamp:Date.now(),createdAt:new Date().toISOString()},...r];i(h),l("")},c=d=>{const h=Date.now()-d,v=Math.floor(h/(1e3*60)),N=Math.floor(h/(1e3*60*60)),y=Math.floor(h/(1e3*60*60*24));return y>0?`il y a ${y}j`:N>0?`il y a ${N}h`:v>0?`il y a ${v}min`:"À l'instant"};return s.jsxs(W,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[s.jsx(bt,{className:"h-5 w-5 text-blue-600"}),s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Discussion (",r.length,")"]})]}),s.jsx("form",{onSubmit:o,className:"mb-6",children:s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(et,{className:"h-4 w-4 text-blue-600"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("textarea",{value:a,onChange:d=>l(d.target.value),placeholder:"Partagez vos idées sur ce cours...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"}),s.jsx("div",{className:"flex justify-end mt-2",children:s.jsxs(O,{type:"submit",size:"sm",disabled:!a.trim(),children:[s.jsx(Ja,{className:"h-3 w-3 mr-1"}),"Publier un commentaire"]})})]})]})}),s.jsx("div",{className:"space-y-4",children:r.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(bt,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),s.jsx("p",{children:"Aucun commentaire pour le moment. Soyez le premier à partager vos idées !"})]}):r.map(d=>s.jsxs("div",{className:"flex space-x-3 p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(et,{className:"h-4 w-4 text-blue-600"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx("span",{className:"font-medium text-gray-900",children:d.username}),s.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[s.jsx(wt,{className:"h-3 w-3 mr-1"}),c(d.timestamp)]})]}),s.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:d.content})]})]},d.id))})]})},dy=()=>{const{courseId:e}=Rn(),{user:t,checkAccess:r}=Ft(),n=m.useRef(null),[a,l]=m.useState(!1),[i,o]=m.useState(0),[c,d]=m.useState(0),[u,h]=m.useState(1),[v,N]=m.useState([]),f=oy().find(k=>k.id===e&&k.isPublished);if(m.useEffect(()=>{if(!t)return;const k=localStorage.getItem(`progress_${t.id}`);k&&N(JSON.parse(k))},[t]),m.useEffect(()=>{const k=n.current;if(!k)return;const _=()=>o(k.currentTime),w=()=>d(k.duration),M=()=>l(!0),T=()=>l(!1);return k.addEventListener("timeupdate",_),k.addEventListener("loadedmetadata",w),k.addEventListener("play",M),k.addEventListener("pause",T),()=>{k.removeEventListener("timeupdate",_),k.removeEventListener("loadedmetadata",w),k.removeEventListener("play",M),k.removeEventListener("pause",T)}},[]),m.useEffect(()=>{if(!t||!f)return;const _=setInterval(()=>{const w=c>0?i/c*100:0,M=[...v],T=M.findIndex(I=>I.courseId===f.id&&I.userId===t.id),D={userId:t.id,courseId:f.id,progress:Math.round(w),lastWatched:new Date().toISOString(),completed:w>=90,timeSpent:i};T>=0?M[T]=D:M.push(D),N(M),localStorage.setItem(`progress_${t.id}`,JSON.stringify(M))},5e3);return()=>clearInterval(_)},[i,c,t,f,v]),!r())return s.jsx(bs,{to:"/access-expired",replace:!0});if(!f)return s.jsx(bs,{to:"/dashboard",replace:!0});const j=()=>{const k=n.current;k&&(a?k.pause():k.play())},p=k=>{const _=n.current;if(!_)return;const w=parseFloat(k.target.value)*c/100;_.currentTime=w,o(w)},x=k=>{const _=n.current;if(!_)return;const w=parseFloat(k.target.value);_.volume=w,h(w)},g=()=>{const k=n.current;k&&(document.fullscreenElement?document.exitFullscreen():k.requestFullscreen())},S=k=>{const _=Math.floor(k/60),w=Math.floor(k%60);return`${_}:${w.toString().padStart(2,"0")}`},b=c>0?i/c*100:0;return s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6 lg:py-8",children:[s.jsxs("div",{className:"mb-4 lg:mb-6",children:[s.jsxs(O,{variant:"ghost",onClick:()=>window.history.back(),className:"mb-4",children:[s.jsx(Ht,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:f.title}),s.jsx("p",{className:"text-gray-600 mt-2",children:f.description})]}),s.jsx("div",{className:"bg-black rounded-xl overflow-hidden shadow-2xl mb-6 lg:mb-8",children:s.jsxs("div",{className:"relative",children:[s.jsx("video",{ref:n,className:"w-full aspect-video",src:f.videoUrl,poster:f.thumbnail}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-2 lg:p-4",children:s.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-4",children:[s.jsx(O,{variant:"ghost",size:"sm",onClick:j,className:"text-white hover:text-gray-300",children:a?s.jsx(oo,{className:"h-4 w-4 lg:h-5 lg:w-5"}):s.jsx(St,{className:"h-4 w-4 lg:h-5 lg:w-5"})}),s.jsx("div",{className:"flex-1",children:s.jsx("input",{type:"range",min:"0",max:"100",value:b,onChange:p,className:"w-full h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer slider"})}),s.jsxs("span",{className:"text-white text-xs lg:text-sm font-mono",children:[S(i)," / ",S(c)]}),s.jsxs("div",{className:"hidden sm:flex items-center space-x-2",children:[s.jsx(cp,{className:"h-4 w-4 text-white"}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:u,onChange:x,className:"w-12 lg:w-16 h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer slider"})]}),s.jsx(O,{variant:"ghost",size:"sm",onClick:g,className:"text-white hover:text-gray-300",children:s.jsx(ip,{className:"h-4 w-4"})})]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs("div",{className:"bg-white rounded-xl p-4 lg:p-6 shadow-lg mb-6 lg:mb-8",children:[s.jsx("h2",{className:"text-lg lg:text-xl font-semibold mb-4",children:"Course Progress"}),s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Progress"}),s.jsxs("span",{className:"text-sm font-medium",children:[Math.round(b),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 h-3 rounded-full transition-all duration-300",style:{width:`${b}%`}})}),b>=90&&s.jsx("div",{className:"mt-4 p-3 bg-green-50 rounded-lg",children:s.jsx("p",{className:"text-green-800 font-medium",children:"🎉 Congratulations! You've completed this course!"})})]}),s.jsx(cy,{courseId:f.id})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-white rounded-xl p-4 lg:p-6 shadow-lg sticky top-24",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Course Details"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Duration:"}),s.jsx("span",{className:"font-medium",children:f.duration})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Category:"}),s.jsx("span",{className:"font-medium",children:f.category})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Published:"}),s.jsx("span",{className:"font-medium",children:f.publishedAt?new Date(f.publishedAt).toLocaleDateString():"N/A"})]})]})]})})]})]})},uy=({isOpen:e,onClose:t,title:r,message:n,type:a="success"})=>{if(!e)return null;const l=a==="success"?"text-green-500":"text-red-500",i=a==="success"?ze:Ue;return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 shadow-xl",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(i,{className:`h-8 w-8 ${l}`})}),s.jsx("div",{className:"ml-3",children:s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:r})})]}),s.jsx("div",{className:"mb-6",children:s.jsx("p",{className:"text-gray-600",children:n})}),s.jsx("div",{className:"flex justify-end",children:s.jsx(O,{onClick:t,className:"px-4 py-2",children:"OK"})})]})})},cu=()=>{const{id:e}=Rn(),t=Kt(),{user:r}=Ft(),[n,a]=m.useState(null),[l,i]=m.useState(!0),[o,c]=m.useState(null),[d,u]=m.useState(""),[h,v]=m.useState(!1),[N,y]=m.useState({}),[f,j]=m.useState(null),p=m.useRef(null),x=m.useRef(null),[g,S]=m.useState(!1),[b,k]=m.useState(0),[_,w]=m.useState(0),[M,T]=m.useState(1),[D,I]=m.useState(!1),[B,U]=m.useState(1),[ne,K]=m.useState(!0),[oe,C]=m.useState(!1),[$,q]=m.useState(!1),[te,ae]=m.useState(!0),[_e,L]=m.useState(null),[E,A]=m.useState(0),H=m.useRef(null),se=m.useRef(!1),he=m.useRef(null),Z=m.useRef(0),[ee,de]=m.useState(0),[R,J]=m.useState({isOpen:!1,title:"",message:"",type:"success"}),Y=(P,V,re="success")=>J({isOpen:!0,title:P,message:V,type:re}),pe=()=>J({isOpen:!1,title:"",message:"",type:"success"});m.useEffect(()=>{e&&Re(parseInt(e,10)),xe()},[e,r]);const xe=()=>{const P=localStorage.getItem("currentUser"),V=localStorage.getItem("authType");if(P&&V){const re=JSON.parse(P);j({...re,role:V==="admin"?"admin":"student"})}else r&&j({id:r.id,name:r.name||r.username,email:r.email,username:r.username,role:"student"})},Re=async P=>{var V,re,ue,we;try{i(!0),c(null);const ie=await G.get(`/videos/${P}`);(V=ie.data)!=null&&V.success?a(ie.data.data):c(((re=ie.data)==null?void 0:re.message)||"Failed to fetch video")}catch(ie){c(((we=(ue=ie.response)==null?void 0:ue.data)==null?void 0:we.message)||ie.message||"Failed to fetch video")}finally{i(!1)}};m.useEffect(()=>{const P=p.current;if(!P||!f||!n)return;const V=()=>{he.current&&clearTimeout(he.current),he.current=setTimeout(()=>{P.duration&&zs(n.id,P.currentTime,P.duration)},1500)},re=()=>{if(!P.duration)return;const Dr=performance.now();Dr-Z.current>250&&(Z.current=Dr,k(P.currentTime),A(P.currentTime/P.duration*100)),V()},ue=()=>{P.duration&&(zs(n.id,P.duration,P.duration),S(!1))},we=()=>{L("Failed to load video. Please try refreshing the page."),ae(!1)},ie=async()=>{var Dr;if(w(P.duration||0),ae(!1),!se.current){se.current=!0;try{const Cl=await G.get(`/user-progress/${f.id}/${n.id}`),Jt=(Dr=Cl==null?void 0:Cl.data)==null?void 0:Dr.data;if(Jt!=null&&Jt.current_time&&Jt.current_time>30&&Jt.current_time<(P.duration??1/0))P.currentTime=Jt.current_time,k(Jt.current_time),A(Jt.progress??Jt.current_time/P.duration*100);else{const kp=`progress_${f.id}_${n.id}`,bc=localStorage.getItem(kp);if(bc){const as=JSON.parse(bc);(as==null?void 0:as.current_time)>30&&as.current_time<(P.duration??1/0)&&(P.currentTime=as.current_time,k(as.current_time),A(as.progress??as.current_time/P.duration*100))}}}catch{}}},Oe=()=>S(!0),vt=()=>S(!1);return P.addEventListener("timeupdate",re),P.addEventListener("ended",ue),P.addEventListener("error",we),P.addEventListener("loadedmetadata",ie),P.addEventListener("play",Oe),P.addEventListener("pause",vt),()=>{he.current&&clearTimeout(he.current),P.removeEventListener("timeupdate",re),P.removeEventListener("ended",ue),P.removeEventListener("error",we),P.removeEventListener("loadedmetadata",ie),P.removeEventListener("play",Oe),P.removeEventListener("pause",vt)}},[n,f]),m.useEffect(()=>{se.current=!1},[n==null?void 0:n.id]),m.useEffect(()=>{const P=()=>C(!!document.fullscreenElement);return document.addEventListener("fullscreenchange",P),()=>document.removeEventListener("fullscreenchange",P)},[]),m.useEffect(()=>{const P=V=>{if(!(V.target instanceof HTMLInputElement||V.target instanceof HTMLTextAreaElement||V.target instanceof HTMLSelectElement))switch(V.code){case"Space":V.preventDefault(),Un();break;case"ArrowLeft":V.preventDefault(),fc();break;case"ArrowRight":V.preventDefault(),xc();break;case"ArrowUp":V.preventDefault(),vc(.1);break;case"ArrowDown":V.preventDefault(),vc(-.1);break;case"KeyM":V.preventDefault(),yc();break;case"KeyF":V.preventDefault(),bl();break}};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[g]),m.useEffect(()=>{const P=p.current;if(!P)return;const V=()=>{const re=Date.now(),ue=300;re-ee<ue?bl():setTimeout(()=>{Date.now()-ee>=ue&&Un()},ue),de(re)};return P.addEventListener("touchend",V,{passive:!0}),()=>P.removeEventListener("touchend",V)},[ee]);const Ys=()=>{H.current&&clearTimeout(H.current),K(!0),H.current=setTimeout(()=>{g&&!$&&K(!1)},3e3)},zs=async(P,V,re)=>{if(!(f!=null&&f.id)||!P||!re||re<=0)return;const ue=Math.min(100,Math.max(0,V/re*100));if(isFinite(ue))try{await G.post("/progress",{video_id:P,user_id:f.id,progress:ue,current_time:V,duration:re});const we=`progress_${f.id}_${P}`;localStorage.setItem(we,JSON.stringify({videoId:String(P),video_id:P,progress:ue,current_time:V,duration:re,completed:ue>=95,last_updated:new Date().toISOString()}))}catch{const we=`progress_${f.id}_${P}`;localStorage.setItem(we,JSON.stringify({videoId:String(P),video_id:P,progress:ue,current_time:V,duration:re,completed:ue>=95,last_updated:new Date().toISOString()}))}},Nl=()=>{const P=p.current;!P||!n||(he.current&&clearTimeout(he.current),P.duration&&zs(n.id,P.currentTime,P.duration))},Un=()=>{const P=p.current;P&&(g?P.pause():P.play().catch(()=>L("Failed to play video. Please try again.")))},xc=()=>{const P=p.current;!P||P.readyState<2||(P.currentTime=Math.min((P.currentTime||0)+10,P.duration||P.currentTime+10),k(P.currentTime),g&&P.play(),Nl())},fc=()=>{const P=p.current;!P||P.readyState<2||(P.currentTime=Math.max((P.currentTime||0)-10,0),k(P.currentTime),g&&P.play(),Nl())},gc=P=>{const V=p.current;if(!V||!_||V.readyState<2)return;const re=Math.max(0,Math.min(_*(P/100),_));V.currentTime=re,k(re),g&&V.play(),Nl()},vc=P=>{const V=p.current;if(!V)return;const re=Math.max(0,Math.min(1,M+P));T(re),V.volume=re,re>0&&D&&I(!1)},yc=()=>{const P=p.current;if(!P)return;const V=!D;I(V),P.muted=V},hp=P=>{const V=p.current;V&&(U(P),V.playbackRate=P,q(!1))},bl=()=>{const P=x.current,V=p.current;if(!(!P||!V))try{document.fullscreenElement?(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen(),C(!1)):(P.requestFullscreen?P.requestFullscreen():P.webkitRequestFullscreen?P.webkitRequestFullscreen():V.webkitEnterFullscreen&&V.webkitEnterFullscreen(),C(!0))}catch{Y("Fullscreen Error","Unable to toggle fullscreen mode on this device.","error")}},jc=()=>n?n.cloudinary_url?n.cloudinary_url:n.video_url?n.video_url:n.video_path?`http://127.0.0.1:8000/storage/${n.video_path}`:"":"",pp=()=>n?n.cover_cloudinary_url?n.cover_cloudinary_url:n.cover_url?n.cover_url:n.cover_image?`http://127.0.0.1:8000/storage/${n.cover_image}`:"":"",kl=P=>{const V=Math.floor(P/3600),re=Math.floor(P%3600/60),ue=Math.floor(P%60);return V>0?`${V}:${String(re).padStart(2,"0")}:${String(ue).padStart(2,"0")}`:`${re}:${String(ue).padStart(2,"0")}`},wc=P=>new Date(P).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),xp=async P=>{var V,re,ue,we;if(P.preventDefault(),!(!d.trim()||!f||!n))try{v(!0);const ie=await G.post(`/videos/${n.id}/comments`,{content:d.trim()});(V=ie.data)!=null&&V.success?(await Re(n.id),u(""),f.role==="admin"?Y("Commentaire ajouté","Votre commentaire a été ajouté avec succès et est maintenant visible pour tous les utilisateurs.","success"):Y("Commentaire soumis","Votre commentaire a été soumis avec succès ! Il apparaîtra après validation par un administrateur.","success")):Y("Erreur",((re=ie.data)==null?void 0:re.message)||"Échec de l'ajout du commentaire","error")}catch(ie){Y("Erreur",((we=(ue=ie.response)==null?void 0:ue.data)==null?void 0:we.message)||"Échec de l'ajout du commentaire","error")}finally{v(!1)}},fp=async P=>{var V,re,ue,we;if(window.confirm("Are you sure you want to delete this comment?"))try{const ie=await G.delete(`/comments/${P}`);(V=ie.data)!=null&&V.success?(a(Oe=>Oe?{...Oe,comments:Oe.comments.filter(vt=>vt.id!==P)}:null),Y("Commentaire supprimé","Le commentaire a été supprimé avec succès et retiré de la vidéo.","success")):Y("Erreur",((re=ie.data)==null?void 0:re.message)||"Échec de la suppression du commentaire","error")}catch(ie){Y("Erreur",((we=(ue=ie.response)==null?void 0:ue.data)==null?void 0:we.message)||"Échec de la suppression du commentaire","error")}},gp=async P=>{var V,re,ue,we;try{y(Oe=>({...Oe,[P]:"approving"}));const ie=await G.patch(`/comments/${P}/approve`);(V=ie.data)!=null&&V.success?(a(Oe=>Oe?{...Oe,comments:Oe.comments.map(vt=>vt.id===P?{...vt,is_approved:!0}:vt)}:null),Y("Commentaire approuvé","Le commentaire a été approuvé avec succès et est maintenant visible pour tous les utilisateurs.","success")):Y("Erreur",((re=ie.data)==null?void 0:re.message)||"Échec de l'approbation du commentaire","error")}catch(ie){Y("Erreur",((we=(ue=ie.response)==null?void 0:ue.data)==null?void 0:we.message)||"Échec de l'approbation du commentaire","error")}finally{y(ie=>({...ie,[P]:null}))}},vp=async P=>{var V,re,ue,we;if(window.confirm("Are you sure you want to reject this comment?"))try{y(Oe=>({...Oe,[P]:"rejecting"}));const ie=await G.patch(`/comments/${P}/reject`);(V=ie.data)!=null&&V.success?(a(Oe=>Oe?{...Oe,comments:Oe.comments.map(vt=>vt.id===P?{...vt,is_approved:!1}:vt)}:null),Y("Commentaire rejeté","Le commentaire a été rejeté et n'est plus visible pour les utilisateurs réguliers.","success")):Y("Erreur",((re=ie.data)==null?void 0:re.message)||"Échec du rejet du commentaire","error")}catch(ie){Y("Erreur",((we=(ue=ie.response)==null?void 0:ue.data)==null?void 0:we.message)||"Échec du rejet du commentaire","error")}finally{y(ie=>({...ie,[P]:null}))}},yp=()=>n!=null&&n.comments?localStorage.getItem("authType")==="admin"?n.comments:n.comments.filter(V=>V.is_approved||f&&V.user_id===f.id):[],jp=P=>P.admin_id&&P.admin?{name:P.admin.name||"Admin",role:"admin"}:P.user_id&&P.user?{name:P.user.name||P.user.username||"User",role:"student"}:{name:"Unknown User",role:"user"},wp=P=>localStorage.getItem("authType")==="admin"?!0:!!f&&P.user_id===f.id,Np=()=>{p.current&&jc()&&(p.current.load(),L(null),ae(!0))};if(l)return s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-gray-600",children:"Chargement de la vidéo..."})})});if(o||!n)return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs(O,{onClick:()=>t(-1),variant:"secondary",className:"mb-6",children:[s.jsx(Ht,{className:"h-4 w-4 mr-2"})," Retour"]}),s.jsx(W,{className:"p-6 bg-red-50 border-red-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ue,{className:"h-6 w-6 text-red-500 mr-3"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-red-900",children:"Erreur lors du chargement de la vidéo"}),s.jsx("p",{className:"text-red-700 text-sm mt-1",children:o||"Vidéo introuvable"})]})]})})]});const Sl=yp(),Nc=jc(),bp=pp();return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[s.jsxs(O,{onClick:()=>t(-1),variant:"secondary",className:"mb-6",children:[s.jsx(Ht,{className:"h-4 w-4 mr-2"})," Retour"]}),s.jsxs(W,{className:"overflow-hidden mb-8",children:[_e?s.jsx("div",{className:"aspect-video bg-gray-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ue,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),s.jsx("p",{className:"text-red-600 font-medium",children:"Erreur de chargement de la vidéo"}),s.jsx("p",{className:"text-gray-600 text-sm mt-1",children:_e}),s.jsx(O,{onClick:Np,className:"mt-4",size:"sm",children:"Réessayer"})]})}):Nc?s.jsxs("div",{ref:x,className:"relative group",onMouseMove:Ys,onMouseEnter:()=>K(!0),onTouchStart:Ys,children:[te&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black z-10",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}),s.jsx("video",{ref:p,className:"w-full aspect-video bg-black",src:Nc,poster:bp,preload:"metadata",playsInline:!0,controls:!1}),s.jsxs("div",{className:`absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-black/30 transition-opacity duration-300 ${ne||!g?"opacity-100":"opacity-0"}`,children:[s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("button",{onClick:Un,className:"p-4 bg-black/50 hover:bg-black/70 rounded-full text-white transition-all duration-200 hover:scale-110 touch-manipulation",children:g?s.jsx(oo,{className:"h-8 w-8"}):s.jsx(St,{className:"h-8 w-8 ml-1"})})}),s.jsx("div",{className:"absolute top-4 left-4 md:hidden",children:s.jsx("div",{className:"bg-black/50 rounded-full p-2 text-white text-xs",children:"Double-tap for fullscreen"})}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[s.jsx("div",{className:"mb-4",children:s.jsx("div",{className:"w-full h-2 bg-white/30 rounded-full cursor-pointer group/progress touch-manipulation",onClick:P=>{const V=P.currentTarget.getBoundingClientRect(),re=(P.clientX-V.left)/V.width*100;gc(re)},onTouchEnd:P=>{const V=P.currentTarget.getBoundingClientRect(),ue=(P.changedTouches[0].clientX-V.left)/V.width*100;gc(ue)},children:s.jsx("div",{className:"h-full bg-blue-500 rounded-full transition-all duration-150 group-hover/progress:bg-blue-400",style:{width:`${b/(_||1)*100}%`}})})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:fc,className:"p-2 hover:bg-white/20 rounded-full text-white touch-manipulation",title:"Skip backward 10s",children:s.jsx(Jv,{className:"h-5 w-5"})}),s.jsx("button",{onClick:Un,className:"p-2 hover:bg-white/20 rounded-full text-white touch-manipulation",children:g?s.jsx(oo,{className:"h-5 w-5"}):s.jsx(St,{className:"h-5 w-5"})}),s.jsx("button",{onClick:xc,className:"p-2 hover:bg-white/20 rounded-full text-white touch-manipulation",title:"Skip forward 10s",children:s.jsx(Qv,{className:"h-5 w-5"})}),s.jsxs("div",{className:"hidden md:flex items-center space-x-2 group/volume",children:[s.jsx("button",{onClick:yc,className:"p-2 hover:bg-white/20 rounded-full text-white",children:D||M===0?s.jsx(Zv,{className:"h-5 w-5"}):s.jsx(cp,{className:"h-5 w-5"})}),s.jsx("div",{className:"w-20 opacity-0 group-hover/volume:opacity-100 transition-opacity",children:s.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:D?0:M,onChange:P=>{const V=parseFloat(P.target.value);T(V),I(V===0),p.current&&(p.current.volume=V,p.current.muted=V===0)},className:"w-full h-1 bg-white/30 rounded-lg appearance-none cursor-pointer"})})]}),s.jsxs("span",{className:"text-white text-sm font-mono hidden sm:block",children:[kl(b)," / ",kl(_||0)]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"relative hidden md:block",children:[s.jsx("button",{onClick:()=>q(!$),className:"p-2 hover:bg-white/20 rounded-full text-white",title:"Settings",children:s.jsx(co,{className:"h-5 w-5"})}),$&&s.jsxs("div",{className:"absolute bottom-full right-0 mb-2 bg-black/90 rounded-lg p-3 min-w-[160px]",children:[s.jsx("div",{className:"text-white text-sm font-medium mb-2",children:"Playback Speed"}),s.jsx("div",{className:"space-y-1",children:[.5,.75,1,1.25,1.5,1.75,2].map(P=>s.jsx("button",{onClick:()=>hp(P),className:`w-full text-left px-3 py-1 rounded text-sm transition-colors ${B===P?"bg-blue-500 text-white":"text-gray-300 hover:bg-white/20"}`,children:P===1?"Normal":`${P}x`},P))})]})]}),s.jsx("button",{onClick:bl,className:"p-2 hover:bg-white/20 rounded-full text-white touch-manipulation",title:"Fullscreen",children:s.jsx(ip,{className:"h-5 w-5"})})]})]})]})]})]}):s.jsx("div",{className:"aspect-video bg-gray-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(St,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Vidéo non disponible"})]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n.title}),n.category&&s.jsx("span",{className:"px-3 py-1 text-sm font-medium rounded-full bg-blue-100 text-blue-800",children:n.category.name})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-4 space-x-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ht,{className:"h-4 w-4 mr-2"}),s.jsxs("span",{children:["Publié le ",wc(n.created_at)]})]}),n.duration&&s.jsx("div",{className:"flex items-center",children:s.jsxs("span",{children:["Durée : ",kl(n.duration)]})})]}),s.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Contrôles"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-xs text-gray-600",children:[s.jsxs("div",{className:"md:hidden",children:[s.jsx("strong",{children:"Mobile:"})," Tap to play/pause • Double-tap for fullscreen"]}),s.jsxs("div",{className:"hidden md:block",children:[s.jsx("kbd",{className:"px-1 py-0.5 bg-white rounded border text-gray-800",children:"Espace"})," Lecture/Pause"]}),s.jsxs("div",{className:"hidden md:block",children:[s.jsx("kbd",{className:"px-1 py-0.5 bg-white rounded border text-gray-800",children:"←/→"})," Reculer/Avancer 10s"]}),s.jsxs("div",{className:"hidden md:block",children:[s.jsx("kbd",{className:"px-1 py-0.5 bg-white rounded border text-gray-800",children:"↑/↓"})," Volume"]}),s.jsxs("div",{className:"hidden md:block",children:[s.jsx("kbd",{className:"px-1 py-0.5 bg-white rounded border text-gray-800",children:"F"})," Plein écran"]}),s.jsxs("div",{className:"hidden md:block",children:[s.jsx("kbd",{className:"px-1 py-0.5 bg-white rounded border text-gray-800",children:"M"})," Muet"]})]})]}),n.description&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Description"}),s.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:n.description})]})]})]}),s.jsx("div",{className:"max-w-2xl",children:s.jsxs(W,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(bt,{className:"h-5 w-5 mr-2"}),s.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Commentaires (",Sl.length,")"]})]}),f?s.jsxs("form",{onSubmit:xp,className:"mb-6",children:[s.jsx("div",{className:"mb-3",children:s.jsx("textarea",{value:d,onChange:P=>u(P.target.value),placeholder:"Ajouter un commentaire…",className:"w-full p-3 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,disabled:h})}),s.jsxs(O,{type:"submit",size:"sm",disabled:!d.trim()||h,className:"w-full",children:[s.jsx(Ja,{className:"h-4 w-4 mr-2"}),h?"Publication...":"Publier le commentaire"]})]}):s.jsx("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg text-center",children:s.jsx("p",{className:"text-gray-600 text-sm",children:"Veuillez vous connecter pour ajouter des commentaires"})}),s.jsx("div",{className:"space-y-4",children:Sl.length>0?Sl.map(P=>{const V=jp(P),re=(f==null?void 0:f.role)==="admin"&&P.admin_id===(f==null?void 0:f.id)||(f==null?void 0:f.role)==="student"&&P.user_id===(f==null?void 0:f.id),we=localStorage.getItem("authType")==="admin",ie=N[P.id];return s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex items-center bg-white rounded-full p-2 mr-3 shadow-sm",children:s.jsx(et,{className:"h-4 w-4 text-gray-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-gray-900 text-sm",children:[V.name,V.role==="admin"&&s.jsx(Qs,{className:"h-3 w-3 text-blue-500 ml-1 inline"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:wc(P.created_at)})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[we&&s.jsx(s.Fragment,{children:P.is_approved?s.jsxs("button",{onClick:()=>vp(P.id),disabled:ie==="rejecting",className:"flex items-center px-3 py-1 text-xs bg-yellow-100 hover:bg-yellow-200 text-yellow-800 rounded-full transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Reject comment",children:[ie==="rejecting"?s.jsx("div",{className:"w-3 h-3 border border-yellow-600 border-t-transparent rounded-full animate-spin mr-1"}):s.jsx(Ue,{className:"h-3 w-3 mr-1"}),ie==="rejecting"?"Rejecting...":"Reject"]}):s.jsxs("button",{onClick:()=>gp(P.id),disabled:ie==="approving",className:"flex items-center px-3 py-1 text-xs bg-green-100 hover:bg-green-200 text-green-800 rounded-full transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Approve comment",children:[ie==="approving"?s.jsx("div",{className:"w-3 h-3 border border-green-600 border-t-transparent rounded-full animate-spin mr-1"}):s.jsx(lp,{className:"h-3 w-3 mr-1"}),ie==="approving"?"Approving...":"Approve"]})}),wp(P)&&s.jsx("button",{onClick:()=>fp(P.id),className:"p-1 hover:bg-red-100 rounded text-red-600 transition-colors",title:"Delete comment",children:s.jsx(Es,{className:"h-4 w-4"})})]})]}),s.jsx("p",{className:"text-gray-700 text-sm mb-3 bg-white p-3 rounded border-l-4 border-l-blue-200",children:P.content}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[P.is_approved?s.jsxs("span",{className:"flex items-center px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full",children:[s.jsx(ze,{className:"h-3 w-3 mr-1"}),"Approuvé"]}):s.jsxs("span",{className:"flex items-center px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-full",children:[s.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full mr-1 animate-pulse"}),"En attente d'approbation"]}),re&&s.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",children:"Votre commentaire"})]}),we&&!P.is_approved&&s.jsx("div",{className:"text-xs text-gray-500 bg-white px-2 py-1 rounded border",children:"Action requise"})]})]},P.id)}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(bt,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Aucun commentaire pour le moment"}),s.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Soyez le premier à partager vos idées !"})]})})]})})]}),s.jsx(uy,{isOpen:R.isOpen,onClose:pe,title:R.title,message:R.message,type:R.type})]})},du=()=>{const{user:e}=Ft(),[t,r]=m.useState([]),[n,a]=m.useState([]),[l,i]=m.useState(null),[o,c]=m.useState(!0),[d,u]=m.useState(null);m.useEffect(()=>{(async()=>{var j,p;try{const x=await G.get("/admin/dashboard/stats");i(x.data);const g=await G.get("/admin/users"),S=await G.get("/admin/videos"),b=Array.isArray(g.data)?g.data:[],k=Array.isArray(S.data)?S.data:[];r(b),a(k),c(!1)}catch(x){u(`Failed to load dashboard data: ${((p=(j=x.response)==null?void 0:j.data)==null?void 0:p.message)||x.message}`),c(!1)}})()},[]);const h=()=>{if(l)return{totalUsers:l.total_students,activeUsers:l.active_students,publishedVideos:l.active_published_videos,totalVideos:l.total_videos};{const f=Array.isArray(t)?t:[],j=Array.isArray(n)?n:[];return{totalUsers:f.length,activeUsers:f.filter(p=>p.is_active).length,publishedVideos:j.filter(p=>p.is_published).length,totalVideos:j.length}}},v=f=>new Date(f).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),N=h(),y=(l==null?void 0:l.recent_videos)||n.slice(0,5);return e?o?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 lg:py-8",children:s.jsx("div",{className:"flex justify-center items-center h-full p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"Chargement du tableau de bord..."})]})})})}):d?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 lg:py-8",children:s.jsxs("div",{className:"p-8 text-center text-red-600 font-semibold",children:[d,s.jsx("div",{className:"mt-4",children:s.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Réessayer"})})]})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 lg:py-8",children:[s.jsx("div",{className:"mb-6 md:mb-8",children:s.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 rounded-xl md:rounded-2xl p-4 md:p-6 text-white shadow-xl",children:s.jsxs("div",{className:"text-center md:text-left",children:[s.jsxs("h1",{className:"text-xl md:text-2xl lg:text-3xl font-bold mb-2 flex items-center justify-center md:justify-start",children:[s.jsx(Qs,{className:"h-6 w-6 md:h-8 md:w-8 mr-2 md:mr-3"}),"Bienvenue, Admin ",e.username," ! 👩🏻‍⚕"]}),s.jsx("p",{className:"text-purple-100 text-base md:text-lg mb-3 md:mb-2",children:"Gérez votre plateforme d'apprentissage en toute simplicité"}),s.jsxs("div",{className:"flex items-center justify-center md:justify-start",children:[s.jsx(et,{className:"h-4 w-4 mr-2"}),s.jsxs("span",{className:"text-purple-200 text-sm",children:["Administrateur depuis ",v(e.created_at||new Date().toISOString())]})]})]})})}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-6",children:[s.jsx(W,{className:"p-3 md:p-6 bg-white shadow-lg hover:shadow-xl transition-shadow duration-300 border-0",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 md:p-3 bg-blue-100 rounded-lg md:rounded-xl",children:s.jsx(Ze,{className:"h-4 w-4 md:h-6 md:w-6 text-blue-600"})}),s.jsxs("div",{className:"ml-2 md:ml-4",children:[s.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Étudiants totaux"}),s.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:N.totalUsers})]})]})}),s.jsx(W,{className:"p-3 md:p-6 bg-white shadow-lg hover:shadow-xl transition-shadow duration-300 border-0",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 md:p-3 bg-green-100 rounded-lg md:rounded-xl",children:s.jsx(wl,{className:"h-4 w-4 md:h-6 md:w-6 text-green-600"})}),s.jsxs("div",{className:"ml-2 md:ml-4",children:[s.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Étudiants actifs"}),s.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:N.activeUsers})]})]})}),s.jsx(W,{className:"p-3 md:p-6 bg-white shadow-lg hover:shadow-xl transition-shadow duration-300 border-0",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 md:p-3 bg-purple-100 rounded-lg md:rounded-xl",children:s.jsx(Ct,{className:"h-4 w-4 md:h-6 md:w-6 text-purple-600"})}),s.jsxs("div",{className:"ml-2 md:ml-4",children:[s.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Vidéos publiées"}),s.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:N.publishedVideos})]})]})}),s.jsx(W,{className:"p-3 md:p-6 bg-white shadow-lg hover:shadow-xl transition-shadow duration-300 border-0",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 md:p-3 bg-yellow-100 rounded-lg md:rounded-xl",children:s.jsx(_n,{className:"h-4 w-4 md:h-6 md:w-6 text-yellow-600"})}),s.jsxs("div",{className:"ml-2 md:ml-4",children:[s.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Vidéos totales"}),s.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:N.totalVideos})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-8",children:[s.jsxs(W,{className:"bg-white shadow-lg border-0",children:[s.jsx("div",{className:"px-4 md:px-6 py-3 md:py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-base md:text-lg font-semibold text-gray-900",children:"Vidéos récentes"})}),s.jsx("div",{className:"p-4 md:p-6 space-y-3 md:space-y-4 max-h-80 md:max-h-96 overflow-y-auto",children:y.length===0?s.jsx("p",{className:"text-gray-500 text-sm",children:"Aucune vidéo récente disponible."}):y.map(f=>s.jsxs("div",{className:"flex items-center space-x-3 p-2 md:p-3 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:`w-2 h-2 md:w-3 md:h-3 rounded-full ${f.is_published?"bg-green-500":"bg-yellow-500"}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-900 truncate",children:f.title}),s.jsxs("p",{className:"text-xs md:text-sm text-gray-500",children:[f.is_published?"Publiée":"Brouillon"," • ",v(f.created_at)]})]})]},f.id))})]}),s.jsxs(W,{className:"bg-white shadow-lg border-0",children:[s.jsx("div",{className:"px-4 md:px-6 py-3 md:py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-base md:text-lg font-semibold text-gray-900",children:"Actions rapides"})}),s.jsx("div",{className:"p-4 md:p-6",children:s.jsxs("div",{className:"grid grid-cols-2 gap-2 md:gap-4",children:[s.jsxs("a",{href:"/admin/videos/new",className:"p-3 md:p-4 border border-gray-200 rounded-lg hover:bg-blue-50 hover:border-blue-300 transition-all duration-200 text-center group",children:[s.jsx(Ct,{className:"h-5 w-5 md:h-6 md:w-6 mx-auto mb-1 md:mb-2 text-blue-600 group-hover:scale-110 transition-transform"}),s.jsx("span",{className:"text-xs md:text-sm font-medium text-gray-900",children:"Ajouter une vidéo"})]}),s.jsxs("a",{href:"/admin/users",className:"p-3 md:p-4 border border-gray-200 rounded-lg hover:bg-green-50 hover:border-green-300 transition-all duration-200 text-center group",children:[s.jsx(Ze,{className:"h-5 w-5 md:h-6 md:w-6 mx-auto mb-1 md:mb-2 text-green-600 group-hover:scale-110 transition-transform"}),s.jsx("span",{className:"text-xs md:text-sm font-medium text-gray-900",children:"Gérer les utilisateurs"})]}),s.jsxs("a",{href:"/admin/progress",className:"p-3 md:p-4 border border-gray-200 rounded-lg hover:bg-purple-50 hover:border-purple-300 transition-all duration-200 text-center group",children:[s.jsx(_n,{className:"h-5 w-5 md:h-6 md:w-6 mx-auto mb-1 md:mb-2 text-purple-600 group-hover:scale-110 transition-transform"}),s.jsx("span",{className:"text-xs md:text-sm font-medium text-gray-900",children:"Voir la progression"})]}),s.jsxs("a",{href:"/admin/videos",className:"p-3 md:p-4 border border-gray-200 rounded-lg hover:bg-yellow-50 hover:border-yellow-300 transition-all duration-200 text-center group",children:[s.jsx(Ct,{className:"h-5 w-5 md:h-6 md:w-6 mx-auto mb-1 md:mb-2 text-yellow-600 group-hover:scale-110 transition-transform"}),s.jsx("span",{className:"text-xs md:text-sm font-medium text-gray-900",children:"Gérer les vidéos"})]})]})})]})]})]})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"Chargement de votre tableau de bord..."})]})})},my=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,confirmText:l="Confirmer",isDestructive:i=!1})=>e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx($e,{className:`h-6 w-6 mr-3 ${i?"text-red-500":"text-blue-500"}`}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:n})]}),s.jsx("p",{className:"text-gray-600 mb-6",children:a}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx(O,{onClick:t,variant:"secondary",className:"flex-1",children:"Annuler"}),s.jsx(O,{onClick:r,variant:i?"danger":"primary",className:"flex-1",children:l})]})]})}):null,hy=({isOpen:e,onClose:t,title:r,message:n,type:a})=>{if(!e)return null;const l=()=>{switch(a){case"success":return s.jsx(ze,{className:"h-12 w-12 text-green-500 mx-auto mb-4"});case"error":return s.jsx(Ue,{className:"h-12 w-12 text-red-500 mx-auto mb-4"});default:return s.jsx($e,{className:"h-12 w-12 text-blue-500 mx-auto mb-4"})}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:s.jsxs("div",{className:"text-center",children:[l(),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:r}),s.jsx("p",{className:"text-gray-600 mb-6",children:n}),s.jsx(O,{onClick:t,className:"w-full",children:"OK"})]})})})},py=()=>{const e=Kt(),[t,r]=m.useState([]),[n,a]=m.useState(!0),[l,i]=m.useState(null),[o,c]=m.useState(!1),[d,u]=m.useState({title:"",message:"",type:"info"}),[h,v]=m.useState({isOpen:!1,action:null,videoId:null,videoTitle:""}),N=(_,w,M="info")=>{u({title:_,message:w,type:M}),c(!0)};m.useEffect(()=>{try{y()}catch{i("Échec de l'initialisation du composant"),a(!1)}},[]);const y=async()=>{var _,w,M;try{a(!0),i(null);const T=await G.get("/admin/videos");T.data&&T.data.success?r(T.data.data||[]):i(((_=T.data)==null?void 0:_.message)||"Impossible de charger les vidéos")}catch(T){i(((M=(w=T.response)==null?void 0:w.data)==null?void 0:M.message)||T.message||"Impossible de charger les vidéos")}finally{a(!1)}},f=async _=>{var w,M;try{const T=await G.patch(`/admin/videos/${_}/toggle-publish`);T.data.success?(r(D=>D.map(I=>I.id===_?{...I,is_published:!I.is_published}:I)),N("Succès",T.data.message,"success")):N("Erreur",T.data.message||"Échec de la mise à jour du statut de publication","error")}catch(T){N("Erreur",((M=(w=T.response)==null?void 0:w.data)==null?void 0:M.message)||"Échec de la mise à jour du statut de publication","error")}v({isOpen:!1,action:null,videoId:null,videoTitle:""})},j=async _=>{var w,M;try{const T=await G.delete(`/admin/videos/${_}`);T.data.success?(r(D=>D.filter(I=>I.id!==_)),N("Succès",T.data.message,"success")):N("Erreur",T.data.message||"Échec de la suppression de la vidéo","error")}catch(T){N("Erreur",((M=(w=T.response)==null?void 0:w.data)==null?void 0:M.message)||"Échec de la suppression de la vidéo","error")}v({isOpen:!1,action:null,videoId:null,videoTitle:""})},p=(_,w,M)=>{v({isOpen:!0,action:_,videoId:w,videoTitle:M})},x=_=>{e(`/admin/videos/watch/${_}`)},g=()=>{h.videoId&&h.action&&(h.action==="delete"?j(h.videoId):f(h.videoId))},S=()=>{switch(h.action){case"delete":return{title:"Supprimer la vidéo",message:`Êtes-vous sûr de vouloir supprimer "${h.videoTitle}" ? Cette action ne peut pas être annulée.`,confirmText:"Supprimer",isDestructive:!0};case"publish":return{title:"Publier la vidéo",message:`Êtes-vous sûr de vouloir publier "${h.videoTitle}" ? Elle sera visible par les étudiants.`,confirmText:"Publier",isDestructive:!1};case"unpublish":return{title:"Dépublier la vidéo",message:`Êtes-vous sûr de vouloir dépublier "${h.videoTitle}" ? Elle ne sera plus visible par les étudiants.`,confirmText:"Dépublier",isDestructive:!1};default:return{title:"",message:"",confirmText:"Confirmer",isDestructive:!1}}};if(l&&t.length===0&&!n)return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestion des vidéos"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Gérez vos vidéos de cours et leur statut de publication"})]}),s.jsx(Ne,{to:"/admin/videos/new",children:s.jsxs(O,{children:[s.jsx(Vs,{className:"h-4 w-4 mr-2"}),"Ajouter une nouvelle vidéo"]})})]}),s.jsxs(W,{className:"p-6 bg-red-50 border-red-200",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx($e,{className:"h-6 w-6 text-red-500 mr-3"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-red-900",children:"Erreur lors du chargement des vidéos"}),s.jsx("p",{className:"text-red-700 text-sm mt-1",children:l})]})]}),s.jsx(O,{onClick:y,variant:"secondary",className:"mt-4",children:"Réessayer"})]})]});if(n)return s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestion des vidéos"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Chargement des vidéos..."})]})}),s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"text-gray-600",children:"Chargement des vidéos..."})})]});const b=t.filter(_=>_.is_published),k=t.filter(_=>!_.is_published);return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestion des vidéos"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Gérez vos vidéos de cours et leur statut de publication"})]}),s.jsx(Ne,{to:"/admin/videos/new",children:s.jsxs(O,{children:[s.jsx(Vs,{className:"h-4 w-4 mr-2"}),"Ajouter une nouvelle vidéo"]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(W,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(Ct,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Vidéos totales"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.length})]})]})}),s.jsx(W,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(pt,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Publiées"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.length})]})]})}),s.jsx(W,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:s.jsx(At,{className:"h-6 w-6 text-yellow-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Brouillons"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:k.length})]})]})})]}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:["Vidéos publiées (",b.length,")"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[b.map(_=>s.jsx(uu,{video:_,onTogglePublish:(w,M)=>p("unpublish",w,M),onDelete:(w,M)=>p("delete",w,M),onImageClick:w=>x(w)},_.id)),b.length===0&&s.jsxs("div",{className:"col-span-full text-center py-12",children:[s.jsx(pt,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune vidéo publiée"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Vos vidéos publiées apparaîtront ici lorsque vous les publierez."})]})]})]}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:["Vidéos brouillon (",k.length,")"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[k.map(_=>s.jsx(uu,{video:_,onTogglePublish:(w,M)=>p("publish",w,M),onDelete:(w,M)=>p("delete",w,M),onImageClick:w=>x(w)},_.id)),k.length===0&&s.jsxs("div",{className:"col-span-full text-center py-12",children:[s.jsx(At,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune vidéo brouillon"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Vos vidéos brouillon apparaîtront ici avant que vous ne les publiiez."})]})]})]}),t.length===0&&!n&&s.jsxs(W,{className:"p-12 text-center",children:[s.jsx(Ct,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Aucune vidéo pour le moment"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Commencez par créer votre première vidéo de cours."}),s.jsx(Ne,{to:"/admin/videos/new",children:s.jsxs(O,{children:[s.jsx(Vs,{className:"h-4 w-4 mr-2"}),"Créer votre première vidéo"]})})]}),s.jsx(my,{isOpen:h.isOpen,onClose:()=>v({isOpen:!1,action:null,videoId:null,videoTitle:""}),onConfirm:g,...S()}),s.jsx(hy,{isOpen:o,onClose:()=>c(!1),title:d.title,message:d.message,type:d.type})]})},uu=({video:e,onTogglePublish:t,onDelete:r,onImageClick:n})=>{const a=i=>new Date(i).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric"}),l=()=>e.cover_url?e.cover_url:e.cover_image?`http://127.0.0.1:8000/storage/${e.cover_image}`:'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="400" height="200" viewBox="0 0 400 200"%3E%3Crect width="400" height="200" fill="%23f3f4f6"/%3E%3Ctext x="200" y="100" text-anchor="middle" dy="0.3em" font-family="Arial, sans-serif" font-size="16" fill="%236b7280"%3EAucune image%3C/text%3E%3C/svg%3E';return s.jsxs(W,{className:"overflow-hidden hover:shadow-lg transition-shadow duration-200",children:[s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:l(),alt:e.title,className:"w-full h-48 object-cover cursor-pointer",onClick:()=>n(e.id),onError:i=>{i.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="400" height="200" viewBox="0 0 400 200"%3E%3Crect width="400" height="200" fill="%23f3f4f6"/%3E%3Ctext x="200" y="100" text-anchor="middle" dy="0.3em" font-family="Arial, sans-serif" font-size="16" fill="%236b7280"%3EAucune image%3C/text%3E%3C/svg%3E'}}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>n(e.id),children:s.jsx("button",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 bg-white bg-opacity-90 hover:bg-opacity-100 rounded-full p-3 transform hover:scale-110 transition-transform",title:"Regarder la vidéo",children:s.jsx(St,{className:"h-6 w-6 text-gray-700 ml-1"})})}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${e.is_published?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:e.is_published?"Publiée":"Brouillon"})}),e.category&&s.jsx("div",{className:"absolute top-2 left-2",children:s.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:e.category.name})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2",title:e.title,children:e.title}),s.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",title:e.description,children:e.description||"Aucune description fournie"}),s.jsxs("div",{className:"flex items-center text-xs text-gray-500 mb-4",children:[s.jsx(ht,{className:"h-3 w-3 mr-1"}),s.jsxs("span",{children:["Créée le ",a(e.created_at)]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(O,{size:"sm",variant:e.is_published?"secondary":"primary",onClick:()=>t(e.id,e.title),className:"col-span-1",children:e.is_published?s.jsxs(s.Fragment,{children:[s.jsx(At,{className:"h-3 w-3 mr-1"}),"Dépublier"]}):s.jsxs(s.Fragment,{children:[s.jsx(pt,{className:"h-3 w-3 mr-1"}),"Publier"]})}),s.jsx(Ne,{to:`/admin/videos/edit/${e.id}`,className:"col-span-1",children:s.jsxs(O,{size:"sm",variant:"ghost",className:"w-full",title:"Modifier la vidéo",children:[s.jsx(Qa,{className:"h-3 w-3 mr-1"}),"Modifier"]})}),s.jsxs(O,{size:"sm",variant:"danger",onClick:()=>r(e.id,e.title),title:"Supprimer la vidéo",className:"col-span-2",children:[s.jsx(Es,{className:"h-3 w-3 mr-1"}),"Supprimer"]})]})]})]})},Je=m.forwardRef(({className:e="",label:t,error:r,...n},a)=>s.jsxs("div",{className:"space-y-1",children:[t&&s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:t}),s.jsx("input",{ref:a,className:`
            w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm
            focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
            placeholder-gray-400 transition-colors duration-200
            ${r?"border-red-500 focus:ring-red-500":""}
            ${e}
          `,...n}),r&&s.jsx("p",{className:"text-sm text-red-600",children:r})]}));Je.displayName="Input";const xy=({isOpen:e,onClose:t,title:r,message:n,type:a})=>{if(!e)return null;const l=()=>{switch(a){case"error":return s.jsx(Ue,{className:"h-12 w-12 text-red-500"});case"warning":return s.jsx(jl,{className:"h-12 w-12 text-yellow-500"});default:return s.jsx(ze,{className:"h-12 w-12 text-blue-500"})}},i=()=>{switch(a){case"error":return"text-red-800";case"warning":return"text-yellow-800";default:return"text-blue-800"}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mb-4 flex justify-center",children:l()}),s.jsx("h3",{className:`text-lg font-semibold ${i()} mb-2`,children:r}),s.jsx("p",{className:"text-gray-600 mb-6",children:n}),s.jsx(O,{onClick:t,className:"w-full",children:"Fermer"})]})})})},fy=({isOpen:e,onClose:t,videoTitle:r})=>e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ze,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Vidéo téléchargée avec succès !"}),s.jsxs("p",{className:"text-gray-600 mb-6",children:['"',r,'" a été ajoutée à votre bibliothèque de vidéos.']}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx(O,{onClick:t,className:"flex-1",children:"Voir les vidéos"}),s.jsx(O,{variant:"secondary",onClick:()=>window.location.reload(),className:"flex-1",children:"Ajouter une autre"})]})]})})}):null,gy=({isOpen:e,onClose:t,error:r})=>{if(!e||!r)return null;const[n,a]=m.useState(!1),l=async()=>{const i={timestamp:new Date().toISOString(),message:r.message,status:r.status,details:r.details,validationErrors:r.validationErrors,requestData:r.requestData};try{await navigator.clipboard.writeText(JSON.stringify(i,null,2)),a(!0),setTimeout(()=>a(!1),2e3)}catch{const c=document.createElement("textarea");c.value=JSON.stringify(i,null,2),document.body.appendChild(c),c.select(),document.execCommand("copy"),document.body.removeChild(c),a(!0),setTimeout(()=>a(!1),2e3)}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-96 overflow-y-auto",children:s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ue,{className:"h-8 w-8 text-red-500 mr-3"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Échec du téléchargement"})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(Ue,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"Message d'erreur :"}),s.jsx("p",{className:"text-red-700 text-sm",children:r.message})]}),r.status&&s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Statut HTTP :"}),s.jsx("p",{className:"text-gray-700 text-sm",children:r.status})]}),r.validationErrors&&s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"Erreurs de validation :"}),s.jsx("div",{className:"space-y-1",children:Object.entries(r.validationErrors).map(([i,o])=>s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"font-medium text-yellow-700",children:[i,":"]}),s.jsx("ul",{className:"list-disc list-inside ml-4 text-yellow-600",children:Array.isArray(o)?o.map((c,d)=>s.jsx("li",{children:c},d)):s.jsx("li",{children:o})})]},i))})]}),r.details&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Détails de la réponse :"}),s.jsx("pre",{className:"text-xs text-blue-700 whitespace-pre-wrap overflow-x-auto",children:JSON.stringify(r.details,null,2)})]}),r.requestData&&s.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-purple-800 mb-2",children:"Données de la requête envoyées :"}),s.jsxs("div",{className:"text-xs text-purple-700 space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Title:"})," ",r.requestData.title||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Description:"})," ",r.requestData.description||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Category ID:"})," ",r.requestData.category_id||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Is Published:"})," ",r.requestData.is_published?"Yes":"No"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Video File:"})," ",r.requestData.video_file?`${r.requestData.video_file.name} (${(r.requestData.video_file.size/(1024*1024)).toFixed(2)} MB)`:"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Cover Image:"})," ",r.requestData.cover_image?`${r.requestData.cover_image.name} (${(r.requestData.cover_image.size/(1024*1024)).toFixed(2)} MB)`:"N/A"]})]})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx(O,{onClick:l,variant:"secondary",className:"flex-1 relative",disabled:n,children:n?"Copié !":"Copier les détails de l'erreur"}),s.jsx(O,{onClick:t,className:"flex-1",children:"Fermer"})]})]})})})},vy=()=>{const e=Kt(),t=m.useRef(null),r=m.useRef(null),n=m.useRef(null),[a,l]=m.useState([]),[i,o]=m.useState([]),[c,d]=m.useState(!0),[u,h]=m.useState(!1),[v,N]=m.useState(0),[y,f]=m.useState("preparing"),[j,p]=m.useState(!1),[x,g]=m.useState(!1),[S,b]=m.useState(!1),[k,_]=m.useState({title:"",message:"",type:"info"}),[w,M]=m.useState(null),[T,D]=m.useState(!1),[I,B]=m.useState(""),[U,ne]=m.useState(null),[K,oe]=m.useState({title:"",description:"",video_file:null,cover_image:null,category_id:"",is_published:!1}),C=(Z,ee,de="info")=>{_({title:Z,message:ee,type:de}),b(!0)};m.useEffect(()=>{$()},[]),m.useEffect(()=>{const Z=a.filter(ee=>ee.name.toLowerCase().includes(I.toLowerCase()));o(Z)},[a,I]),m.useEffect(()=>{const Z=ee=>{n.current&&!n.current.contains(ee.target)&&D(!1)};return document.addEventListener("mousedown",Z),()=>document.removeEventListener("mousedown",Z)},[]);const $=async()=>{var Z,ee;try{const de=await G.get("/admin/categories/select-options");de.data.success?(l(de.data.data),o(de.data.data)):C("Erreur","Échec du chargement des catégories","error")}catch(de){const R=((ee=(Z=de.response)==null?void 0:Z.data)==null?void 0:ee.message)||"Échec du chargement des catégories";C("Erreur",R,"error")}finally{d(!1)}},q=()=>{switch(y){case"preparing":return"Préparation du téléchargement...";case"uploading":return`Téléchargement... ${v}%`;case"processing":return"Traitement de la vidéo...";case"finalizing":return"Finalisation...";default:return"Téléchargement..."}},te=async Z=>{var ee,de,R,J,Y,pe;if(Z.preventDefault(),!U){C("Attention","Veuillez sélectionner une catégorie","warning");return}if(!K.video_file){C("Attention","Veuillez sélectionner un fichier vidéo","warning");return}if(!K.cover_image){C("Attention","Veuillez sélectionner une image de couverture","warning");return}h(!0),N(0),f("preparing");try{const xe=new FormData;xe.append("title",K.title),xe.append("description",K.description||""),xe.append("video_file",K.video_file),xe.append("cover_image",K.cover_image),xe.append("category_id",U.id.toString()),xe.append("is_published",K.is_published?"1":"0"),f("uploading");const Re=await G.post("/admin/videos",xe,{headers:{"Content-Type":"multipart/form-data"},timeout:6e5,onUploadProgress:Ys=>{if(Ys.total){const zs=Math.round(Ys.loaded*100/Ys.total);N(zs),zs<80?f("uploading"):zs<95?f("processing"):f("finalizing")}}});Re.data.success?(N(100),f("finalizing"),setTimeout(()=>{p(!0)},500)):(M({message:Re.data.message||"Échec du téléchargement de la vidéo",status:Re.status,details:Re.data,requestData:{title:K.title,description:K.description,category_id:U.id,is_published:K.is_published,video_file:K.video_file,cover_image:K.cover_image}}),g(!0))}catch(xe){const Re={message:xe.code==="ECONNABORTED"?"Délai de téléchargement dépassé - le téléchargement a pris trop de temps. Veuillez essayer avec un fichier plus petit ou vérifier votre connexion.":((de=(ee=xe.response)==null?void 0:ee.data)==null?void 0:de.message)||xe.message||"Une erreur inconnue s'est produite pendant le téléchargement",status:(R=xe.response)==null?void 0:R.status,details:(J=xe.response)==null?void 0:J.data,validationErrors:(pe=(Y=xe.response)==null?void 0:Y.data)==null?void 0:pe.errors,requestData:{title:K.title,description:K.description,category_id:U.id,is_published:K.is_published,video_file:K.video_file,cover_image:K.cover_image}};M(Re),g(!0)}finally{h(!1),N(0),f("preparing")}},ae=Z=>{const{name:ee,value:de,type:R}=Z.target;oe(J=>({...J,[ee]:R==="checkbox"?Z.target.checked:de}))},_e=Z=>{var de;const ee=(de=Z.target.files)==null?void 0:de[0];if(ee){const R=["video/mp4","video/avi","video/mov","video/wmv","video/webm","video/flv","video/mkv","video/m4v","video/3gp","video/3gpp","video/quicktime","video/x-msvideo","video/x-ms-wmv"],J=ee.name.toLowerCase().split(".").pop(),Y=["mp4","avi","mov","wmv","webm","flv","mkv","m4v","3gp","3gpp"],pe=R.includes(ee.type)||Y.includes(J||"");if(ee.type&&!pe&&ee.type!==""){C("Format invalide","Veuillez sélectionner un fichier vidéo valide (MP4, AVI, MOV, WMV, WebM, FLV, MKV, M4V, 3GP)","warning");return}if(!ee.type&&!Y.includes(J||"")){C("Format invalide","Veuillez sélectionner un fichier vidéo valide (MP4, AVI, MOV, WMV, WebM, FLV, MKV, M4V, 3GP)","warning");return}const xe=2*1024*1024*1024;if(ee.size>xe){C("Fichier trop volumineux","La taille du fichier doit être inférieure à 2GB pour une meilleure compatibilité mobile","warning");return}if(ee.size<1024){C("Fichier invalide","Le fichier sélectionné semble être invalide ou corrompu","error");return}oe(Re=>({...Re,video_file:ee}))}},L=Z=>{var de;const ee=(de=Z.target.files)==null?void 0:de[0];if(ee){const R=["image/jpeg","image/jpg","image/png","image/webp","image/gif","image/heic","image/heif"],J=ee.name.toLowerCase().split(".").pop(),Y=["jpg","jpeg","png","webp","gif","heic","heif"],pe=R.includes(ee.type)||Y.includes(J||"");if(ee.type&&!pe&&ee.type!==""){C("Format invalide","Veuillez sélectionner un fichier image valide (JPEG, JPG, PNG, WebP, GIF, HEIC)","warning");return}if(!ee.type&&!Y.includes(J||"")){C("Format invalide","Veuillez sélectionner un fichier image valide (JPEG, JPG, PNG, WebP, GIF, HEIC)","warning");return}const xe=50*1024*1024;if(ee.size>xe){C("Fichier trop volumineux","La taille de l'image doit être inférieure à 50MB","warning");return}if(ee.size<100){C("Fichier invalide","Le fichier image sélectionné semble être invalide ou corrompu","error");return}oe(Re=>({...Re,cover_image:ee}))}},E=Z=>{ne(Z),oe(ee=>({...ee,category_id:Z.id.toString()})),B(""),D(!1)},A=()=>{p(!1),e("/admin/videos")},H=()=>{oe(Z=>({...Z,video_file:null})),t.current&&(t.current.value="")},se=()=>{oe(Z=>({...Z,cover_image:null})),r.current&&(r.current.value="")},he=Z=>{if(Z===0)return"0 Bytes";const ee=1024,de=["Bytes","KB","MB","GB"],R=Math.floor(Math.log(Z)/Math.log(ee));return parseFloat((Z/Math.pow(ee,R)).toFixed(2))+" "+de[R]};return c?s.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"text-gray-600",children:"Chargement des catégories..."})})}):s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(O,{variant:"ghost",onClick:()=>e("/admin/videos"),children:[s.jsx(Ht,{className:"h-4 w-4 mr-2"}),"Retour aux vidéos"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Ajouter une nouvelle vidéo"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Téléchargez une vidéo sur Cloudinary et créez un nouveau contenu de cours"})]})]}),s.jsx(W,{className:"p-8",children:s.jsxs("form",{onSubmit:te,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(Je,{label:"Titre de la vidéo",name:"title",value:K.title,onChange:ae,placeholder:"Entrez le titre de la vidéo",required:!0}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Catégorie *"}),s.jsxs("div",{className:"relative",ref:n,children:[s.jsxs("div",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white cursor-pointer flex items-center justify-between",onClick:()=>D(!T),children:[s.jsx("span",{className:U?"text-gray-900":"text-gray-500",children:U?U.name:"Sélectionnez une catégorie"}),s.jsx(pc,{className:`h-4 w-4 text-gray-400 transform transition-transform ${T?"rotate-180":""}`})]}),T&&s.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg",children:[s.jsx("div",{className:"p-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(Cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Rechercher une catégorie...",value:I,onChange:Z=>B(Z.target.value),onClick:Z=>Z.stopPropagation()})]})}),s.jsx("div",{className:"max-h-60 overflow-y-auto",children:i.length>0?i.map(Z=>s.jsx("div",{className:"px-4 py-2 hover:bg-gray-100 cursor-pointer",onClick:()=>E(Z),children:Z.name},Z.id)):s.jsx("div",{className:"px-4 py-2 text-gray-500 text-sm",children:"Aucune catégorie trouvée"})})]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{name:"description",value:K.description,onChange:ae,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Entrez la description de la vidéo"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image de couverture *"}),s.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-lg hover:border-blue-400 transition-colors",children:s.jsxs("div",{className:"space-y-1 text-center",children:[s.jsx(ru,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsxs("div",{className:"flex text-sm text-gray-600",children:[s.jsxs("label",{htmlFor:"cover-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[s.jsx("span",{children:"Télécharger une image de couverture"}),s.jsx("input",{id:"cover-upload",name:"cover-upload",type:"file",className:"sr-only",accept:"image/*,image/jpeg,image/png,image/heic,image/heif",onChange:L,ref:r})]}),s.jsx("p",{className:"pl-1",children:"ou glissez-déposez"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"JPEG, PNG, WebP, GIF, HEIC jusqu'à 50MB"}),K.cover_image&&s.jsx("div",{className:"mt-2 relative bg-green-50 border border-green-200 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(ru,{className:"h-4 w-4 text-green-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[s.jsx("p",{className:"text-sm text-green-700 font-medium break-all",children:K.cover_image.name}),s.jsx("div",{className:"flex items-center space-x-4 text-xs text-green-600 mt-1",children:s.jsxs("span",{className:"flex items-center",children:[s.jsx(tu,{className:"h-3 w-3 mr-1 flex-shrink-0"}),he(K.cover_image.size)]})})]}),s.jsx("button",{type:"button",onClick:se,className:"bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors flex-shrink-0",children:s.jsx(Ue,{className:"h-3 w-3"})})]})})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fichier vidéo *"}),s.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-lg hover:border-blue-400 transition-colors",children:s.jsxs("div",{className:"space-y-1 text-center",children:[s.jsx(au,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsxs("div",{className:"flex text-sm text-gray-600",children:[s.jsxs("label",{htmlFor:"video-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[s.jsx("span",{children:"Télécharger une vidéo"}),s.jsx("input",{id:"video-upload",name:"video-upload",type:"file",className:"sr-only",accept:"video/*,video/mp4,video/quicktime,video/x-msvideo,video/3gpp",onChange:_e,ref:t})]}),s.jsx("p",{className:"pl-1",children:"ou glissez-déposez"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"MP4, AVI, MOV, WMV, WebM et plus jusqu'à 2GB"}),K.video_file&&s.jsx("div",{className:"mt-2 relative bg-green-50 border border-green-200 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(Ct,{className:"h-4 w-4 text-green-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[s.jsx("p",{className:"text-sm text-green-700 font-medium break-all",children:K.video_file.name}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-4 space-y-1 sm:space-y-0 text-xs text-green-600 mt-1",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(tu,{className:"h-3 w-3 mr-1 flex-shrink-0"}),he(K.video_file.size)]}),s.jsx("span",{className:"text-blue-600",children:"Prêt pour le téléchargement"})]})]}),s.jsx("button",{type:"button",onClick:H,className:"bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors flex-shrink-0",children:s.jsx(Ue,{className:"h-3 w-3"})})]})})]})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"is_published",name:"is_published",checked:K.is_published,onChange:ae,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"is_published",className:"text-sm font-medium text-gray-700",children:"Publier immédiatement après le téléchargement"})]}),s.jsxs("div",{className:"flex space-x-4 pt-6",children:[s.jsxs(O,{type:"submit",className:"flex-1",disabled:u,children:[s.jsx(Ct,{className:"h-4 w-4 mr-2"}),u?q():"Télécharger sur Cloudinary"]}),s.jsx(O,{type:"button",variant:"secondary",onClick:()=>e("/admin/videos"),className:"flex-1",disabled:u,children:"Annuler"})]}),u&&s.jsxs("div",{className:"space-y-3 mt-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:q()}),s.jsxs("span",{className:"text-blue-600 font-medium",children:[v,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-3 rounded-full transition-all duration-300 ease-out",style:{width:`${v}%`},children:s.jsx("div",{className:"w-full h-full bg-white opacity-20 animate-pulse"})})}),s.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("span",{className:`flex items-center ${y==="preparing"?"text-blue-600 font-medium":v>0?"text-green-600":"text-gray-400"}`,children:[s.jsx(wt,{className:"h-3 w-3 mr-1"}),"Préparation"]}),s.jsxs("span",{className:`flex items-center ${y==="uploading"?"text-blue-600 font-medium":v>=80?"text-green-600":"text-gray-400"}`,children:[s.jsx(au,{className:"h-3 w-3 mr-1"}),"Téléchargement"]}),s.jsxs("span",{className:`flex items-center ${y==="processing"?"text-blue-600 font-medium":v>=95?"text-green-600":"text-gray-400"}`,children:[s.jsx(Ct,{className:"h-3 w-3 mr-1"}),"Traitement"]})]}),s.jsxs("p",{className:"text-center text-gray-500",children:[y==="uploading"&&"Téléchargement des fichiers sur Cloudinary...",y==="processing"&&"Cloudinary traite votre vidéo...",y==="finalizing"&&"Enregistrement des informations de la vidéo dans la base de données..."]})]})]})]})}),a.length===0&&s.jsxs(W,{className:"p-6 bg-yellow-50 border-yellow-200",children:[s.jsx("h3",{className:"font-semibold text-yellow-900 mb-2",children:"Aucune catégorie disponible"}),s.jsx("p",{className:"text-yellow-800 text-sm mb-3",children:"Vous devez créer des catégories avant d'ajouter des vidéos."}),s.jsx(O,{variant:"secondary",onClick:()=>e("/admin/categories"),className:"text-sm",children:"Aller aux catégories"})]}),s.jsx(fy,{isOpen:j,onClose:A,videoTitle:K.title}),s.jsx(gy,{isOpen:x,onClose:()=>g(!1),error:w}),s.jsx(xy,{isOpen:S,onClose:()=>b(!1),title:k.title,message:k.message,type:k.type})]})},yy=({isOpen:e,onClose:t,videoTitle:r})=>e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ze,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Vidéo mise à jour avec succès !"}),s.jsxs("p",{className:"text-gray-600 mb-6",children:['"',r,'" a été mise à jour avec succès.']}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx(O,{onClick:t,className:"flex-1",children:"Voir les vidéos"}),s.jsx(O,{variant:"secondary",onClick:()=>window.location.reload(),className:"flex-1",children:"Continuer la modification"})]})]})})}):null,jy=({isOpen:e,onClose:t,error:r})=>{if(!e||!r)return null;const n=()=>{const a={timestamp:new Date().toISOString(),message:r.message,status:r.status,details:r.details,validationErrors:r.validationErrors,requestData:r.requestData};navigator.clipboard.writeText(JSON.stringify(a,null,2))};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-96 overflow-y-auto",children:s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ue,{className:"h-8 w-8 text-red-500 mr-3"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Échec de la mise à jour"})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(Ue,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"Message d'erreur :"}),s.jsx("p",{className:"text-red-700 text-sm",children:r.message})]}),r.status&&s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Statut HTTP :"}),s.jsx("p",{className:"text-gray-700 text-sm",children:r.status})]}),r.validationErrors&&s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"Erreurs de validation :"}),s.jsx("div",{className:"space-y-1",children:Object.entries(r.validationErrors).map(([a,l])=>s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"font-medium text-yellow-700",children:[a,":"]}),s.jsx("ul",{className:"list-disc list-inside ml-4 text-yellow-600",children:Array.isArray(l)?l.map((i,o)=>s.jsx("li",{children:i},o)):s.jsx("li",{children:l})})]},a))})]}),r.details&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Détails de la réponse :"}),s.jsx("pre",{className:"text-xs text-blue-700 whitespace-pre-wrap overflow-x-auto",children:JSON.stringify(r.details,null,2)})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx(O,{onClick:n,variant:"secondary",className:"flex-1",children:"Copier les détails de l'erreur"}),s.jsx(O,{onClick:t,className:"flex-1",children:"Fermer"})]})]})})})},wy=({isOpen:e,onClose:t,title:r,message:n,type:a})=>{if(!e)return null;const l=()=>{switch(a){case"error":return s.jsx(Ue,{className:"h-12 w-12 text-red-500 mx-auto mb-4"});case"warning":return s.jsx($e,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"});default:return s.jsx($e,{className:"h-12 w-12 text-blue-500 mx-auto mb-4"})}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:s.jsxs("div",{className:"text-center",children:[l(),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:r}),s.jsx("p",{className:"text-gray-600 mb-6",children:n}),s.jsx(O,{onClick:t,className:"w-full",children:"OK"})]})})})},Ny=()=>{const e=Kt(),{id:t}=Rn(),r=m.useRef(null),[n,a]=m.useState(null),[l,i]=m.useState([]),[o,c]=m.useState([]),[d,u]=m.useState(!0),[h,v]=m.useState(!1),[N,y]=m.useState(!1),[f,j]=m.useState(!1),[p,x]=m.useState(!1),[g,S]=m.useState({title:"",message:"",type:"info"}),[b,k]=m.useState(null),[_,w]=m.useState(!1),[M,T]=m.useState(""),[D,I]=m.useState(null),[B,U]=m.useState({title:"",description:"",category_id:"",is_published:!1}),ne=(L,E,A="info")=>{S({title:L,message:E,type:A}),x(!0)};m.useEffect(()=>{t&&(K(),oe())},[t]),m.useEffect(()=>{const L=l.filter(E=>E.name.toLowerCase().includes(M.toLowerCase()));c(L)},[l,M]),m.useEffect(()=>{const L=E=>{r.current&&!r.current.contains(E.target)&&w(!1)};return document.addEventListener("mousedown",L),()=>document.removeEventListener("mousedown",L)},[]);const K=async()=>{var L,E;try{const A=await G.get(`/admin/videos/${t}/edit`);if(A.data.success){const H=A.data.data;a(H),U({title:H.title,description:H.description||"",category_id:H.category_id.toString(),is_published:H.is_published}),H.category&&I({id:H.category.id,name:H.category.name})}else ne("Erreur","Impossible de charger les détails de la vidéo","error"),e("/admin/videos")}catch(A){const H=((E=(L=A.response)==null?void 0:L.data)==null?void 0:E.message)||"Impossible de charger les détails de la vidéo";ne("Erreur",H,"error"),e("/admin/videos")}},oe=async()=>{var L,E;try{const A=await G.get("/admin/categories/select-options");A.data.success?(i(A.data.data),c(A.data.data)):ne("Erreur","Impossible de charger les catégories","error")}catch(A){const H=((E=(L=A.response)==null?void 0:L.data)==null?void 0:E.message)||"Impossible de charger les catégories";ne("Erreur",H,"error")}finally{u(!1)}},C=async L=>{var E,A,H,se,he,Z;if(L.preventDefault(),!D){ne("Attention","Veuillez sélectionner une catégorie","warning");return}v(!0);try{const ee={title:B.title,description:B.description||"",category_id:D.id,is_published:B.is_published},de=await G.put(`/admin/videos/${t}`,ee,{headers:{"Content-Type":"application/json"}});de.data.success?y(!0):(k({message:de.data.message||"Échec de la mise à jour de la vidéo",status:de.status,details:de.data,requestData:ee}),j(!0))}catch(ee){const de={message:((A=(E=ee.response)==null?void 0:E.data)==null?void 0:A.message)||ee.message||"Une erreur inconnue s'est produite lors de la mise à jour de la vidéo",status:(H=ee.response)==null?void 0:H.status,details:(se=ee.response)==null?void 0:se.data,validationErrors:(Z=(he=ee.response)==null?void 0:he.data)==null?void 0:Z.errors,requestData:{title:B.title,description:B.description,category_id:D.id,is_published:B.is_published}};k(de),j(!0)}finally{v(!1)}},$=L=>{const{name:E,value:A,type:H}=L.target;U(se=>({...se,[E]:H==="checkbox"?L.target.checked:A}))},q=L=>{I(L),U(E=>({...E,category_id:L.id.toString()})),T(""),w(!1)},te=()=>{y(!1),e("/admin/videos")},ae=L=>{if(!L)return"Taille inconnue";const E=1024,A=["Octets","KB","MB","GB"],H=Math.floor(Math.log(L)/Math.log(E));return parseFloat((L/Math.pow(E,H)).toFixed(2))+" "+A[H]},_e=L=>{if(!L)return"Durée inconnue";const E=Math.floor(L/60),A=Math.floor(L%60);return`${E}:${A.toString().padStart(2,"0")}`};return d?s.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"text-gray-600",children:"Chargement des détails de la vidéo..."})})}):n?s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(O,{variant:"ghost",onClick:()=>e("/admin/videos"),children:[s.jsx(Ht,{className:"h-4 w-4 mr-2"}),"Retour aux vidéos"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Modifier la vidéo"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Mettre à jour les détails de la vidéo"})]})]}),s.jsxs(W,{className:"p-6 bg-blue-50 border-blue-200",children:[s.jsxs("h3",{className:"font-semibold text-blue-900 mb-4 flex items-center",children:[s.jsx(Ct,{className:"h-5 w-5 mr-2"}),"Informations actuelles de la vidéo"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-blue-800",children:"Durée :"}),s.jsx("span",{className:"text-blue-700 ml-2",children:_e(n.duration)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-blue-800",children:"Taille du fichier :"}),s.jsx("span",{className:"text-blue-700 ml-2",children:ae(n.file_size)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-blue-800",children:"Statut :"}),s.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs ${n.is_published?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:n.is_published?"Publié":"Brouillon"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-blue-800",children:"URL de la vidéo :"}),s.jsx("div",{className:"text-blue-700 text-xs break-all",children:n.video_url})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-blue-800",children:"URL de la couverture :"}),s.jsx("div",{className:"text-blue-700 text-xs break-all",children:n.cover_url})]})]})]})]}),s.jsx(W,{className:"p-8",children:s.jsxs("form",{onSubmit:C,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(Je,{label:"Titre de la vidéo",name:"title",value:B.title,onChange:$,placeholder:"Entrez le titre de la vidéo",required:!0}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Catégorie *"}),s.jsxs("div",{className:"relative",ref:r,children:[s.jsxs("div",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white cursor-pointer flex items-center justify-between",onClick:()=>w(!_),children:[s.jsx("span",{className:D?"text-gray-900":"text-gray-500",children:D?D.name:"Sélectionnez une catégorie"}),s.jsx(pc,{className:`h-4 w-4 text-gray-400 transform transition-transform ${_?"rotate-180":""}`})]}),_&&s.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg",children:[s.jsx("div",{className:"p-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(Cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Rechercher des catégories...",value:M,onChange:L=>T(L.target.value),onClick:L=>L.stopPropagation()})]})}),s.jsx("div",{className:"max-h-60 overflow-y-auto",children:o.length>0?o.map(L=>s.jsx("div",{className:"px-4 py-2 hover:bg-gray-100 cursor-pointer",onClick:()=>q(L),children:L.name},L.id)):s.jsx("div",{className:"px-4 py-2 text-gray-500 text-sm",children:"Aucune catégorie trouvée"})})]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{name:"description",value:B.description,onChange:$,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Entrez la description de la vidéo"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"is_published",name:"is_published",checked:B.is_published,onChange:$,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"is_published",className:"text-sm font-medium text-gray-700",children:"Publiée"})]}),s.jsxs("div",{className:"flex space-x-4 pt-6",children:[s.jsxs(O,{type:"submit",className:"flex-1",disabled:h,children:[s.jsx(In,{className:"h-4 w-4 mr-2"}),h?"Mise à jour...":"Enregistrer les modifications"]}),s.jsx(O,{type:"button",variant:"secondary",onClick:()=>e("/admin/videos"),className:"flex-1",disabled:h,children:"Annuler"})]})]})}),l.length===0&&s.jsxs(W,{className:"p-6 bg-yellow-50 border-yellow-200",children:[s.jsx("h3",{className:"font-semibold text-yellow-900 mb-2",children:"Aucune catégorie disponible"}),s.jsx("p",{className:"text-yellow-800 text-sm mb-3",children:"Vous devez créer des catégories avant de modifier des vidéos."}),s.jsx(O,{variant:"secondary",onClick:()=>e("/admin/categories"),className:"text-sm",children:"Aller aux catégories"})]}),s.jsx(W,{className:"p-6 bg-green-50 border-green-200",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(ze,{className:"h-4 w-4 text-green-600"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:"Fichiers vidéo"}),s.jsxs("div",{className:"text-green-800 text-sm space-y-1",children:[s.jsx("p",{children:"• La vidéo et l'image de couverture sont stockées sur Cloudinary"}),s.jsx("p",{children:"• Pour remplacer les fichiers vidéo, vous devez télécharger une nouvelle vidéo"}),s.jsx("p",{children:"• Ce formulaire met à jour uniquement les métadonnées (titre, description, catégorie, statut de publication)"}),s.jsx("p",{children:"• Tous les fichiers médias restent accessibles via leurs URLs Cloudinary"})]})]})]})}),s.jsx(yy,{isOpen:N,onClose:te,videoTitle:B.title}),s.jsx(jy,{isOpen:f,onClose:()=>j(!1),error:b}),s.jsx(wy,{isOpen:p,onClose:()=>x(!1),title:g.title,message:g.message,type:g.type})]}):s.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"text-red-600",children:"Vidéo introuvable"})})})},by=({type:e,message:t,onClose:r})=>{const n=()=>{switch(e){case"success":return s.jsx(ze,{className:"h-5 w-5 text-green-600"});case"error":return s.jsx(_r,{className:"h-5 w-5 text-red-600"});case"warning":return s.jsx(jl,{className:"h-5 w-5 text-yellow-600"})}},a=()=>{switch(e){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800"}};return s.jsx("div",{className:"fixed top-4 right-4 z-50 animate-slide-in",children:s.jsxs("div",{className:`flex items-center p-4 border rounded-lg shadow-lg ${a()}`,children:[n(),s.jsx("span",{className:"ml-3 text-sm font-medium",children:t}),s.jsx("button",{onClick:r,className:"ml-4 text-gray-400 hover:text-gray-600",children:"×"})]})})},ky=({isOpen:e,title:t,message:r,onConfirm:n,onCancel:a,confirmText:l="Confirmer",cancelText:i="Annuler",type:o="warning"})=>e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:`p-2 rounded-full ${o==="danger"?"bg-red-100":"bg-yellow-100"}`,children:s.jsx(jl,{className:`h-6 w-6 ${o==="danger"?"text-red-600":"text-yellow-600"}`})}),s.jsx("h2",{className:"text-xl font-semibold ml-3",children:t})]}),s.jsx("p",{className:"text-gray-600 mb-6",children:r}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx(O,{onClick:n,variant:o==="danger"?"danger":"primary",className:"flex-1",children:l}),s.jsx(O,{variant:"secondary",onClick:a,className:"flex-1",children:i})]})]})}):null,Sy=()=>{var w;const[e,t]=m.useState([]),[r,n]=m.useState(null),[a,l]=m.useState(!0),[i,o]=m.useState(""),[c,d]=m.useState(!1),[u,h]=m.useState(""),[v,N]=m.useState(!1),[y,f]=m.useState(null),[j,p]=m.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}});m.useEffect(()=>{g(),S()},[]),m.useEffect(()=>{if(y){const M=setTimeout(()=>{f(null)},5e3);return()=>clearTimeout(M)}},[y]);const x=(M,T)=>{f({type:M,message:T})},g=async()=>{try{const M=await G.get("/admin/categories");M.data.success&&t(M.data.data)}catch{}finally{l(!1)}},S=async()=>{try{const M=await G.get("/admin/categories/statistics");M.data.success&&n(M.data.data)}catch{}},b=async()=>{var M,T;if(u.trim()){N(!0);try{const D=await G.post("/admin/categories",{name:u});D.data.success?(await g(),await S(),h(""),d(!1),x("success","Catégorie créée avec succès")):x("error",D.data.message||"Échec de la création de la catégorie")}catch(D){const I=((T=(M=D.response)==null?void 0:M.data)==null?void 0:T.message)||"Échec de la création de la catégorie";x("error",I)}finally{N(!1)}}},k=(M,T)=>{p({isOpen:!0,title:"Supprimer la catégorie",message:`Êtes-vous sûr de vouloir supprimer la catégorie "${T}" ? Cette action ne peut pas être annulée.`,onConfirm:async()=>{var D,I;p(B=>({...B,isOpen:!1}));try{const B=await G.delete(`/admin/categories/${M}`);B.data.success?(await g(),await S(),x("success","Catégorie supprimée avec succès")):x("error",B.data.message||"Échec de la suppression de la catégorie")}catch(B){const U=((I=(D=B.response)==null?void 0:D.data)==null?void 0:I.message)||"Échec de la suppression de la catégorie";x("error",U)}}})},_=e.filter(M=>M.name.toLowerCase().includes(i.toLowerCase()));return a?s.jsx("div",{className:"space-y-8",children:s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"text-gray-600",children:"Chargement des catégories..."})})}):s.jsxs("div",{className:"space-y-8",children:[y&&s.jsx(by,{type:y.type,message:y.message,onClose:()=>f(null)}),s.jsx(ky,{isOpen:j.isOpen,title:j.title,message:j.message,onConfirm:j.onConfirm,onCancel:()=>p({...j,isOpen:!1}),confirmText:"Supprimer",cancelText:"Annuler",type:"danger"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestion des catégories"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Gérez les catégories de vidéos et l'attribution des utilisateurs"})]}),s.jsxs(O,{onClick:()=>d(!0),children:[s.jsx(Vs,{className:"h-4 w-4 mr-2"}),"Ajouter une catégorie"]})]}),r&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx(W,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(Ga,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Catégories totales"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.total_categories})]})]})}),s.jsx(W,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(Ze,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avec utilisateurs"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.categories_with_users})]})]})}),s.jsx(W,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(Ct,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avec vidéos"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.categories_with_videos})]})]})}),s.jsx(W,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:s.jsx(Ga,{className:"h-6 w-6 text-orange-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"La plus populaire"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:((w=r.most_popular_category)==null?void 0:w.name)||"Aucune"})]})]})})]}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(Cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Rechercher une catégorie...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-full",value:i,onChange:M=>o(M.target.value)})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[_.map(M=>s.jsx(Cy,{category:M,onDelete:k},M.id)),_.length===0&&s.jsx("div",{className:"col-span-full text-center py-8 text-gray-500",children:i?"Aucune catégorie trouvée correspondant à votre recherche.":"Aucune catégorie créée pour le moment."})]}),c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Ajouter une catégorie"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom de la catégorie"}),s.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Entrez le nom de la catégorie...",value:u,onChange:M=>h(M.target.value),onKeyPress:M=>M.key==="Enter"&&b()})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx(O,{onClick:b,disabled:!u.trim()||v,className:"flex-1",children:v?"Création...":"Créer la catégorie"}),s.jsx(O,{variant:"secondary",onClick:()=>{d(!1),h("")},className:"flex-1",children:"Annuler"})]})]})]})}),s.jsx("style",{jsx:!0,children:`
        @keyframes slide-in {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
        .animate-slide-in {
          animation: slide-in 0.3s ease-out;
        }
      `})]})},Cy=({category:e,onDelete:t})=>s.jsxs(W,{className:"p-6 hover:shadow-lg transition-shadow",children:[s.jsx("div",{className:"flex items-start justify-between mb-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Ga,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:e.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Créée le ",new Date(e.created_at).toLocaleDateString("fr-FR")]})]})]})}),s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.users_count}),s.jsx("p",{className:"text-xs text-gray-500",children:"Utilisateurs"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.videos_count}),s.jsx("p",{className:"text-xs text-gray-500",children:"Vidéos"})]})]})}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(Ne,{to:`/admin/categories/edit/${e.id}`,className:"flex-1",children:s.jsxs(O,{size:"sm",variant:"secondary",className:"w-full",children:[s.jsx(Qa,{className:"h-3 w-3 mr-1"}),"Modifier"]})}),s.jsx(O,{size:"sm",variant:"danger",onClick:()=>t(e.id,e.name),children:s.jsx(Es,{className:"h-3 w-3"})})]})]}),Ey=({isOpen:e,onClose:t,title:r,message:n,type:a="info"})=>{if(!e)return null;const l=()=>{switch(a){case"success":return"text-green-500";case"error":return"text-red-500";default:return"text-blue-500"}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[s.jsx("h3",{className:`text-lg font-semibold ${l()}`,children:r}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(Ue,{className:"h-5 w-5"})})]}),s.jsx("div",{className:"p-4",children:s.jsx("p",{className:"text-gray-700",children:n})}),s.jsx("div",{className:"flex justify-end p-4 border-t",children:s.jsx(O,{onClick:t,children:"D'accord"})})]})})},_y=()=>{const{categoryId:e}=Rn(),t=Kt(),[r,n]=m.useState(null),[a,l]=m.useState(""),[i,o]=m.useState(!0),[c,d]=m.useState(!1),[u,h]=m.useState({isOpen:!1,title:"",message:"",type:"info"});m.useEffect(()=>{y()},[e]);const v=(j,p,x="info")=>{h({isOpen:!0,title:j,message:p,type:x})},N=()=>{h({isOpen:!1,title:"",message:"",type:"info"})},y=async()=>{try{const j=await G.get(`/admin/categories/${e}`);j.data.success?(n(j.data.data),l(j.data.data.name)):(v("Erreur","Impossible de charger les détails de la catégorie","error"),setTimeout(()=>t("/admin/categories"),2e3))}catch{v("Erreur","Impossible de charger les détails de la catégorie","error"),setTimeout(()=>t("/admin/categories"),2e3)}finally{o(!1)}},f=async()=>{var j,p;if(!a.trim()){v("Attention","Veuillez saisir un nom de catégorie valide","error");return}d(!0);try{const x=await G.put(`/admin/categories/${e}`,{name:a});x.data.success?(v("Succès","Catégorie mise à jour avec succès!","success"),setTimeout(()=>t("/admin/categories"),1500)):v("Erreur",x.data.message||"Échec de la mise à jour de la catégorie","error")}catch(x){const g=((p=(j=x.response)==null?void 0:j.data)==null?void 0:p.message)||"Échec de la mise à jour de la catégorie";v("Erreur",g,"error")}finally{d(!1)}};return i?s.jsx("div",{className:"space-y-8",children:s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"text-gray-600",children:"Chargement des détails de la catégorie..."})})}):r?s.jsxs("div",{className:"space-y-8",children:[s.jsx(Ey,{isOpen:u.isOpen,onClose:N,title:u.title,message:u.message,type:u.type}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(O,{variant:"ghost",onClick:()=>t("/admin/categories"),children:[s.jsx(Ht,{className:"h-4 w-4 mr-2"}),"Retour aux catégories"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Modifier la catégorie"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Mettre à jour les informations de la catégorie"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs(W,{className:"p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Détails de la catégorie"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom de la catégorie"}),s.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:a,onChange:j=>l(j.target.value),placeholder:"Entrez le nom de la catégorie..."})]}),s.jsx("div",{className:"flex space-x-3",children:s.jsxs(O,{onClick:f,disabled:!a.trim()||c||a===r.name,className:"flex-1",children:[s.jsx(In,{className:"h-4 w-4 mr-2"}),c?"Mise à jour...":"Mettre à jour la catégorie"]})})]})]}),s.jsxs(W,{className:"p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistiques de la catégorie"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[s.jsx("span",{className:"text-gray-600",children:"Utilisateurs assignés"}),s.jsx("span",{className:"font-semibold",children:r.users.length})]}),s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[s.jsx("span",{className:"text-gray-600",children:"Vidéos associées"}),s.jsx("span",{className:"font-semibold",children:r.videos.length})]}),s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[s.jsx("span",{className:"text-gray-600",children:"Date de création"}),s.jsx("span",{className:"font-semibold",children:new Date(r.created_at).toLocaleDateString("fr-FR")})]}),s.jsxs("div",{className:"flex justify-between items-center py-2",children:[s.jsx("span",{className:"text-gray-600",children:"Dernière modification"}),s.jsx("span",{className:"font-semibold",children:new Date(r.updated_at).toLocaleDateString("fr-FR")})]})]})]})]}),r.users.length>0&&s.jsxs(W,{className:"p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Utilisateurs assignés"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.users.map(j=>s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:j.name}),s.jsx("p",{className:"text-sm text-gray-600",children:j.email})]},j.id))})]}),s.jsxs(W,{className:"p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Vidéos associées"}),r.videos.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.videos.map(j=>s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:j.title}),s.jsx("p",{className:"text-sm text-gray-600",children:j.description})]},j.id))}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Ct,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),s.jsx("p",{children:"Aucune vidéo disponible dans cette catégorie"}),s.jsx("p",{className:"text-sm mt-1",children:"Les vidéos apparaîtront ici lorsqu'elles seront assignées à cette catégorie"})]})]})]}):s.jsx("div",{className:"space-y-8",children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Catégorie introuvable"}),s.jsx(O,{onClick:()=>t("/admin/categories"),children:"Retour aux catégories"})]})})},Ty=({isOpen:e,onClose:t,title:r,message:n,type:a="info"})=>{if(!e)return null;const l=()=>{switch(a){case"success":return s.jsx(ze,{className:"h-16 w-16 text-green-500 mx-auto mb-4"});case"error":return s.jsx(_r,{className:"h-16 w-16 text-red-500 mx-auto mb-4"});default:return null}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[s.jsx("h3",{className:`text-lg font-semibold ${a==="success"?"text-green-600":a==="error"?"text-red-600":"text-blue-600"}`,children:r}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(Ue,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"p-6",children:[l(),s.jsx("p",{className:"text-gray-700 text-center",children:n})]}),s.jsx("div",{className:"flex justify-end p-4 border-t",children:s.jsx(O,{onClick:t,children:"D'accord"})})]})})},Py=()=>{const{categoryId:e}=Rn(),t=Kt(),[r,n]=m.useState(null),[a,l]=m.useState([]),[i,o]=m.useState([]),[c,d]=m.useState(""),[u,h]=m.useState(!0),[v,N]=m.useState(!1),[y,f]=m.useState({isOpen:!1,title:"",message:"",type:"info"});m.useEffect(()=>{x()},[e]);const j=(k,_,w="info")=>{f({isOpen:!0,title:k,message:_,type:w})},p=()=>{f({isOpen:!1,title:"",message:"",type:"info"})},x=async()=>{var k,_,w,M;try{const[T,D]=await Promise.all([G.get(`/admin/categories/${e}`),G.get("/admin/users")]);T.data.success&&D.data.success?(n(T.data.data),l(D.data.data),o(T.data.data.users.map(I=>I.id))):(j("Erreur","Impossible de charger les données","error"),setTimeout(()=>t("/admin/categories"),2e3))}catch(T){((k=T.response)==null?void 0:k.status)===404?j("Erreur","Endpoint non trouvé. Veuillez vérifier votre configuration API.","error"):((_=T.response)==null?void 0:_.status)===401?(j("Erreur","Authentification échouée. Veuillez vous reconnecter.","error"),setTimeout(()=>t("/login"),2e3)):j("Erreur",`Impossible de charger les données: ${((M=(w=T.response)==null?void 0:w.data)==null?void 0:M.message)||T.message}`,"error"),setTimeout(()=>t("/admin/categories"),2e3)}finally{h(!1)}},g=k=>{o(_=>_.includes(k)?_.filter(w=>w!==k):[..._,k])},S=async()=>{var k,_;N(!0);try{const w=await G.post(`/admin/categories/${e}/assign-users`,{user_ids:i});w.data.success?(j("Succès","Utilisateurs assignés avec succès!","success"),setTimeout(()=>t("/admin/categories"),1500)):j("Erreur",w.data.message||"Échec de l'assignation des utilisateurs","error")}catch(w){const M=((_=(k=w.response)==null?void 0:k.data)==null?void 0:_.message)||"Échec de l'assignation des utilisateurs";j("Erreur",M,"error")}finally{N(!1)}},b=a.filter(k=>k.name.toLowerCase().includes(c.toLowerCase())||k.email.toLowerCase().includes(c.toLowerCase()));return u?s.jsx("div",{className:"space-y-8",children:s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"text-gray-600",children:"Chargement..."})})}):r?s.jsxs("div",{className:"space-y-8",children:[s.jsx(Ty,{isOpen:y.isOpen,onClose:p,title:y.title,message:y.message,type:y.type}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(O,{variant:"ghost",onClick:()=>t("/admin/categories"),children:[s.jsx(Ht,{className:"h-4 w-4 mr-2"}),"Retour aux catégories"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Assigner des utilisateurs"}),s.jsxs("p",{className:"text-gray-600 mt-1",children:["Catégorie : ",s.jsx("span",{className:"font-medium",children:r.name})]})]})]}),s.jsx(W,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(Ze,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Assignation des utilisateurs"}),s.jsxs("p",{className:"text-gray-600",children:[i.length," sur ",a.length," utilisateurs sélectionnés"]})]})]}),s.jsxs(O,{onClick:S,disabled:v,children:[s.jsx(In,{className:"h-4 w-4 mr-2"}),v?"Enregistrement...":"Enregistrer l'assignation"]})]})}),s.jsxs("div",{className:"relative max-w-md",children:[s.jsx(Cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Rechercher des utilisateurs...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-full",value:c,onChange:k=>d(k.target.value)})]}),s.jsxs(W,{className:"p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sélectionner les utilisateurs"}),s.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[b.map(k=>s.jsx("div",{className:`p-3 rounded-lg border cursor-pointer transition-colors ${i.includes(k.id)?"bg-blue-50 border-blue-200":"bg-white border-gray-200 hover:bg-gray-50"}`,onClick:()=>g(k.id),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:i.includes(k.id),onChange:()=>g(k.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:k.name}),s.jsx("p",{className:"text-sm text-gray-600",children:k.email})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${k.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:k.is_active?"Actif":"Inactif"}),new Date(k.access_expires_at)<new Date&&s.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:"Expiré"})]})]})},k.id)),b.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:c?"Aucun utilisateur trouvé correspondant à votre recherche.":"Aucun utilisateur disponible."})]})]})]}):s.jsx("div",{className:"space-y-8",children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Catégorie introuvable"}),s.jsx(O,{onClick:()=>t("/admin/categories"),children:"Retour aux catégories"})]})})},My=({isOpen:e,onClose:t,title:r,message:n,type:a="info"})=>{if(!e)return null;const l=()=>{switch(a){case"success":return"text-green-500";case"error":return"text-red-500";default:return"text-blue-500"}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[s.jsx("h3",{className:`text-lg font-semibold ${l()}`,children:r}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"p-6",children:s.jsx("p",{className:"text-gray-700",children:n})}),s.jsx("div",{className:"flex justify-end p-4 border-t",children:s.jsx(O,{onClick:t,children:"D'accord"})})]})})},zy=({isOpen:e,onClose:t,user:r,categories:n,onSave:a,loading:l})=>{const[i,o]=m.useState([]),[c,d]=m.useState("");m.useEffect(()=>{r&&r.categories&&o(r.categories.map(N=>N.id))},[r]);const u=n.filter(N=>N.name.toLowerCase().includes(c.toLowerCase())),h=N=>{o(y=>y.includes(N)?y.filter(f=>f!==N):[...y,N])},v=()=>{r&&a(r.id,i)};return!e||!r?null:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg w-full max-w-5xl max-h-[95vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 truncate",children:["Assigner des catégories à ",r.username]}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1 truncate",children:[r.name&&`${r.name} • `,r.email]})]}),s.jsx("button",{onClick:t,className:"ml-4 text-gray-400 hover:text-gray-600 p-2 hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col p-4 sm:p-6",children:[s.jsxs("div",{className:"relative mb-4",children:[s.jsx(Cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Rechercher des catégories...",value:c,onChange:N=>d(N.target.value)}),c&&s.jsx("button",{onClick:()=>d(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:"×"})]}),s.jsx("div",{className:"border border-gray-200 rounded-lg bg-gray-50 p-3 sm:p-4 flex-1 overflow-y-auto",children:u.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-2 sm:gap-3",children:u.map(N=>{const y=i.includes(N.id);return s.jsx("div",{className:`
                        relative flex items-center p-3 sm:p-4 rounded-lg border-2 cursor-pointer transition-all duration-200 hover:shadow-md
                        ${y?"border-blue-500 bg-blue-50 shadow-sm":"border-gray-200 bg-white hover:border-gray-300"}
                      `,onClick:()=>h(N.id),children:s.jsxs("div",{className:"flex items-center w-full min-w-0",children:[s.jsxs("div",{className:"relative flex-shrink-0",children:[s.jsx("input",{type:"checkbox",id:`modal-category-${N.id}`,checked:y,onChange:()=>h(N.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded transition-colors",onClick:f=>f.stopPropagation()}),y&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("svg",{className:"h-3 w-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),s.jsx("div",{className:"ml-3 flex-1 min-w-0",children:s.jsx("label",{htmlFor:`modal-category-${N.id}`,className:`text-sm font-medium cursor-pointer select-none block truncate ${y?"text-blue-900":"text-gray-700"}`,children:N.name})}),y&&s.jsx("div",{className:"ml-2 flex-shrink-0",children:s.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full animate-pulse"})})]})},N.id)})}):s.jsxs("div",{className:"text-center py-12 sm:py-16",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-200 rounded-full mb-4",children:s.jsx(ya,{className:"h-8 w-8 text-gray-400"})}),s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-1",children:c?"Aucune catégorie trouvée":"Aucune catégorie disponible"}),s.jsx("p",{className:"text-xs text-gray-500",children:c?`Aucun résultat pour "${c}"`:"Veuillez d'abord créer des catégories"})]})}),u.length>0&&s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mt-4 pt-4 border-t border-gray-200 gap-3 sm:gap-0",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:[i.length," sur ",n.length," catégorie",n.length!==1?"s":""]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.length!==n.length&&s.jsx("button",{type:"button",onClick:()=>o(n.map(N=>N.id)),className:"text-xs px-3 py-1.5 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors font-medium",children:"Tout sélectionner"}),i.length>0&&s.jsx("button",{type:"button",onClick:()=>o([]),className:"text-xs px-3 py-1.5 bg-red-100 text-red-700 rounded-md hover:bg-red-200 transition-colors font-medium",children:"Tout désélectionner"})]})]}),i.length>0&&s.jsxs("div",{className:"mt-4 p-3 sm:p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsxs("div",{className:"text-sm font-medium text-blue-900 mb-3",children:["Catégories sélectionnées (",i.length,") :"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(N=>{const y=n.find(f=>f.id===N);return y?s.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-xs font-medium bg-white text-blue-800 border border-blue-300 shadow-sm",children:[s.jsx("span",{className:"mr-2",children:y.name}),s.jsx("button",{type:"button",className:"inline-flex items-center justify-center w-4 h-4 text-blue-500 hover:text-blue-700 hover:bg-blue-100 rounded-full transition-colors",onClick:()=>h(N),children:s.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},N):null})})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-4 sm:p-6 border-t border-gray-200 gap-3 sm:gap-0",children:[s.jsx("div",{className:"text-sm text-gray-600 order-2 sm:order-1",children:i.length===0?"Aucune catégorie sélectionnée":`${i.length} catégorie${i.length>1?"s":""} sélectionnée${i.length>1?"s":""}`}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-3 order-1 sm:order-2",children:[s.jsx(O,{variant:"secondary",onClick:t,disabled:l,className:"w-full sm:w-auto",children:"Annuler"}),s.jsx(O,{onClick:v,disabled:l,className:"w-full sm:w-auto min-w-[140px]",children:l?s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Enregistrement..."]}):"Enregistrer les catégories"})]})]})]})})},Ly=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState([]),[a,l]=m.useState([]),[i,o]=m.useState(null),[c,d]=m.useState(!1),[u,h]=m.useState(null),[v,N]=m.useState(!1),[y,f]=m.useState(null),[j,p]=m.useState(!1),[x,g]=m.useState(!1),[S,b]=m.useState(null),[k,_]=m.useState(""),[w,M]=m.useState(""),[T,D]=m.useState({username:"",name:"",email:"",password:"",access_start:"",access_end:"",is_active:!0,category_ids:[]}),[I,B]=m.useState({isOpen:!1,title:"",message:"",type:"info"}),[U,ne]=m.useState("");m.useEffect(()=>{C(),q(),$()},[k,w]);const K=(R,J,Y="info")=>{B({isOpen:!0,title:R,message:J,type:Y})},oe=()=>{B({isOpen:!1,title:"",message:"",type:"info"})},C=async()=>{var R,J;try{p(!0),b(null);const Y=new URLSearchParams;k&&Y.append("search",k),w&&Y.append("status",w);const pe=await G.get(`/admin/users?${Y.toString()}`);n(pe.data.data||pe.data)}catch(Y){b(((J=(R=Y.response)==null?void 0:R.data)==null?void 0:J.error)||"Échec du chargement des utilisateurs")}finally{p(!1)}},$=async()=>{try{const R=await G.get("/admin/categories/select-options");R.data.success&&l(R.data.data)}catch{b("Échec du chargement des catégories. Veuillez vérifier si l'API admin est en cours d'exécution.")}},q=async()=>{try{const R=await G.get("/admin/users/statistics");o(R.data)}catch{}},te=async R=>{var J,Y;R.preventDefault();try{p(!0),b(null);const pe={...T};if(u)if(pe.password)await G.put(`/admin/users/${u.id}`,pe);else{const{password:xe,...Re}=pe;await G.put(`/admin/users/${u.id}`,Re)}else await G.post("/admin/users",pe);await C(),await q(),ae(),K("Succès",u?"Utilisateur mis à jour avec succès!":"Utilisateur créé avec succès!","success")}catch(pe){b(((Y=(J=pe.response)==null?void 0:J.data)==null?void 0:Y.error)||"Échec de la sauvegarde de l'utilisateur")}finally{p(!1)}},ae=()=>{D({username:"",name:"",email:"",password:"",access_start:"",access_end:"",is_active:!0,category_ids:[]}),d(!1),h(null),b(null),ne("")},_e=R=>{h(R),D({username:R.username,name:R.name||"",email:R.email||"",password:"",access_start:R.access_start,access_end:R.access_end,is_active:R.is_active,category_ids:R.categories?R.categories.map(J=>J.id):[]}),d(!0)},L=async R=>{var J,Y;if(window.confirm("Êtes-vous sûr de vouloir supprimer cet utilisateur ? Cette action ne peut pas être annulée."))try{p(!0),await G.delete(`/admin/users/${R}`),await C(),await q(),K("Succès","Utilisateur supprimé avec succès!","success")}catch(pe){b(((Y=(J=pe.response)==null?void 0:J.data)==null?void 0:Y.error)||"Échec de la suppression de l'utilisateur")}finally{p(!1)}},E=async R=>{var J,Y;try{p(!0),await G.patch(`/admin/users/${R}/toggle-status`),await C(),await q()}catch(pe){b(((Y=(J=pe.response)==null?void 0:J.data)==null?void 0:Y.error)||"Échec de la mise à jour du statut de l'utilisateur")}finally{p(!1)}},A=async(R,J)=>{var Y,pe;try{p(!0),await G.patch(`/admin/users/${R}/extend-access`,{extend_days:J}),await C(),await q(),K("Succès",`Accès prolongé de ${J} jours avec succès!`,"success")}catch(xe){b(((pe=(Y=xe.response)==null?void 0:Y.data)==null?void 0:pe.error)||"Échec de la prolongation de l'accès")}finally{p(!1)}},H=R=>{const{name:J,value:Y,type:pe,checked:xe}=R.target;D(Re=>({...Re,[J]:pe==="checkbox"?xe:Y}))},se=R=>{f(R),N(!0)},he=async(R,J)=>{var Y,pe;try{g(!0),await G.post(`/admin/users/${R}/assign-categories`,{category_ids:J}),await C(),N(!1),f(null),K("Succès","Catégories assignées avec succès!","success")}catch(xe){b(((pe=(Y=xe.response)==null?void 0:Y.data)==null?void 0:pe.error)||"Échec de l'assignation des catégories")}finally{g(!1)}},Z=R=>{D(J=>({...J,category_ids:J.category_ids.includes(R)?J.category_ids.filter(Y=>Y!==R):[...J.category_ids,R]}))},ee=R=>{const J={active:{status:"Actif",color:"text-green-600",bg:"bg-green-100"},inactive:{status:"Inactif",color:"text-gray-500",bg:"bg-gray-100"},expired:{status:"Expiré",color:"text-red-600",bg:"bg-red-100"},expiring_soon:{status:R.days_remaining!==null?`${R.days_remaining}j restant`:"Expire bientôt",color:"text-yellow-600",bg:"bg-yellow-100"}};return J[R.access_status]||J.inactive},de=a.filter(R=>R.name.toLowerCase().includes(U.toLowerCase()));return s.jsxs("div",{className:"space-y-6 lg:space-y-8",children:[s.jsx(My,{isOpen:I.isOpen,onClose:oe,title:I.title,message:I.message,type:I.type}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Gestion des utilisateurs"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Gérez les comptes étudiants et les autorisations d'accès"})]}),s.jsxs(O,{onClick:()=>d(!0),disabled:j,className:"w-full sm:w-auto",children:[s.jsx(Vs,{className:"h-4 w-4 mr-2"}),"Ajouter un nouvel étudiant"]})]}),S&&s.jsx(W,{className:"p-4 border-red-200 bg-red-50",children:s.jsxs("div",{className:"flex items-center text-red-600",children:[s.jsx($e,{className:"h-5 w-5 mr-2"}),s.jsx("span",{children:S}),s.jsx(O,{size:"sm",variant:"ghost",onClick:()=>b(null),className:"ml-auto text-red-600 hover:text-red-800",children:"×"})]})}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4 lg:gap-6",children:[s.jsx(W,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 lg:p-3 bg-blue-100 rounded-lg",children:s.jsx(Ze,{className:"h-5 w-5 lg:h-6 lg:w-6 text-blue-600"})}),s.jsxs("div",{className:"ml-3 lg:ml-4",children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-gray-600",children:"Total"}),s.jsx("p",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:(i==null?void 0:i.total_students)||0})]})]})}),s.jsx(W,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 lg:p-3 bg-green-100 rounded-lg",children:s.jsx(ln,{className:"h-5 w-5 lg:h-6 lg:w-6 text-green-600"})}),s.jsxs("div",{className:"ml-3 lg:ml-4",children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-gray-600",children:"Actifs"}),s.jsx("p",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:(i==null?void 0:i.active_students)||0})]})]})}),s.jsx(W,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 lg:p-3 bg-yellow-100 rounded-lg",children:s.jsx(ht,{className:"h-5 w-5 lg:h-6 lg:w-6 text-yellow-600"})}),s.jsxs("div",{className:"ml-3 lg:ml-4",children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-gray-600",children:"Expirant bientôt"}),s.jsx("p",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:(i==null?void 0:i.expiring_soon)||0})]})]})}),s.jsx(W,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 lg:p-3 bg-red-100 rounded-lg",children:s.jsx(li,{className:"h-5 w-5 lg:h-6 lg:w-6 text-red-600"})}),s.jsxs("div",{className:"ml-3 lg:ml-4",children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-gray-600",children:"Expirés"}),s.jsx("p",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:(i==null?void 0:i.expired_students)||0})]})]})}),s.jsx(W,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 lg:p-3 bg-gray-100 rounded-lg",children:s.jsx(Ze,{className:"h-5 w-5 lg:h-6 lg:w-6 text-gray-600"})}),s.jsxs("div",{className:"ml-3 lg:ml-4",children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-gray-600",children:"Inactifs"}),s.jsx("p",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:(i==null?void 0:i.inactive_students)||0})]})]})})]}),s.jsx(W,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx(Je,{placeholder:"Rechercher par nom d'utilisateur, nom ou email...",value:k,onChange:R=>_(R.target.value)})}),s.jsx("div",{className:"sm:w-48",children:s.jsxs("select",{value:w,onChange:R=>M(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Tous les statuts"}),s.jsx("option",{value:"active",children:"Actif"}),s.jsx("option",{value:"inactive",children:"Inactif"}),s.jsx("option",{value:"expired",children:"Expiré"}),s.jsx("option",{value:"expiring_soon",children:"Expire bientôt"})]})})]})}),c&&s.jsxs(W,{className:"p-4 lg:p-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6",children:[s.jsx("h2",{className:"text-lg lg:text-xl font-semibold text-gray-900",children:u?"Modifier l'étudiant":"Ajouter un nouvel étudiant"}),s.jsx(O,{variant:"ghost",onClick:ae,children:"Annuler"})]}),s.jsxs("form",{onSubmit:te,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(Je,{label:"Nom d'utilisateur",name:"username",value:T.username,onChange:H,placeholder:"Entrez le nom d'utilisateur",required:!0}),s.jsx(Je,{label:"Nom complet",name:"name",value:T.name,onChange:H,placeholder:"Entrez le nom complet",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(Je,{label:"Email",name:"email",type:"email",value:T.email,onChange:H,placeholder:"Entrez l'email",required:!0}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:u?"Nouveau mot de passe (laisser vide pour conserver l'actuel)":"Mot de passe"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{name:"password",type:e?"text":"password",value:T.password,onChange:H,placeholder:"Entrez le mot de passe",required:!u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10"}),s.jsx("button",{type:"button",onClick:()=>t(!e),className:"absolute inset-y-0 right-0 pr-3 flex items-center",tabIndex:-1,children:e?s.jsx(At,{className:"h-4 w-4 text-gray-400"}):s.jsx(pt,{className:"h-4 w-4 text-gray-400"})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(Je,{label:"Date de début d'accès",name:"access_start",type:"date",value:T.access_start,onChange:H,required:!0}),s.jsx(Je,{label:"Date de fin d'accès",name:"access_end",type:"date",value:T.access_end,onChange:H,required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Assigner des catégories",s.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",T.category_ids.length," sélectionnée",T.category_ids.length!==1?"s":"",")"]})]}),s.jsxs("div",{className:"relative mb-3",children:[s.jsx(Cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Rechercher des catégories...",value:U,onChange:R=>ne(R.target.value)}),U&&s.jsx("button",{type:"button",onClick:()=>ne(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:"×"})]}),s.jsx("div",{className:"border border-gray-200 rounded-lg bg-gray-50 p-4 max-h-64 overflow-y-auto",children:de.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:de.map(R=>{const J=T.category_ids.includes(R.id);return s.jsx("div",{className:`
                            relative flex items-center p-3 rounded-lg border-2 cursor-pointer transition-all duration-200 hover:shadow-md
                            ${J?"border-blue-500 bg-blue-50 shadow-sm":"border-gray-200 bg-white hover:border-gray-300"}
                          `,onClick:()=>Z(R.id),children:s.jsxs("div",{className:"flex items-center w-full",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"checkbox",checked:J,onChange:()=>Z(R.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded transition-colors",onClick:Y=>Y.stopPropagation()}),J&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("svg",{className:"h-3 w-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),s.jsx("div",{className:"ml-3 flex-1",children:s.jsx("span",{className:`text-sm font-medium select-none ${J?"text-blue-900":"text-gray-700"}`,children:R.name})}),J&&s.jsx("div",{className:"ml-2",children:s.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full animate-pulse"})})]})},R.id)})}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-200 rounded-full mb-4",children:s.jsx(ya,{className:"h-8 w-8 text-gray-400"})}),s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-1",children:U?"Aucune catégorie trouvée":"Aucune catégorie disponible"}),s.jsx("p",{className:"text-xs text-gray-500",children:U?`Aucun résultat pour "${U}"`:"Veuillez d'abord créer des catégories"})]})}),de.length>0&&s.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-gray-200",children:[s.jsxs("div",{className:"text-xs text-gray-600",children:[T.category_ids.length," sur ",a.length," catégorie",a.length!==1?"s":""]}),s.jsxs("div",{className:"flex space-x-2",children:[T.category_ids.length<de.length&&s.jsx("button",{type:"button",onClick:()=>{const R=de.map(J=>J.id);D(J=>({...J,category_ids:[...new Set([...J.category_ids,...R])]}))},className:"text-xs px-3 py-1.5 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors font-medium",children:"Tout sélectionner"}),T.category_ids.length>0&&s.jsx("button",{type:"button",onClick:()=>D(R=>({...R,category_ids:[]})),className:"text-xs px-3 py-1.5 bg-red-100 text-red-700 rounded-md hover:bg-red-200 transition-colors font-medium",children:"Tout désélectionner"})]})]}),T.category_ids.length>0&&s.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx("div",{className:"text-xs font-medium text-blue-900 mb-2",children:"Catégories sélectionnées :"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:T.category_ids.map(R=>{const J=a.find(Y=>Y.id===R);return J?s.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-xs font-medium bg-white text-blue-800 border border-blue-300 shadow-sm",children:[s.jsx("span",{className:"mr-2",children:J.name}),s.jsx("button",{type:"button",className:"inline-flex items-center justify-center w-4 h-4 text-blue-500 hover:text-blue-700 hover:bg-blue-100 rounded-full transition-colors",onClick:()=>Z(R),children:s.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},R):null})})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:T.is_active,onChange:H,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-gray-700",children:"Compte actif"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx(O,{type:"submit",disabled:j,className:"flex-1",children:j?"Enregistrement...":u?"Mettre à jour l'étudiant":"Créer l'étudiant"}),s.jsx(O,{type:"button",variant:"secondary",onClick:ae,className:"flex-1",children:"Annuler"})]})]})]}),s.jsxs(W,{children:[s.jsx("div",{className:"px-4 lg:px-6 py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Comptes étudiants"})}),j&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Chargement..."})]}),!j&&r.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-gray-100 rounded-full mb-4",children:s.jsx(Ze,{className:"h-8 w-8 text-gray-400"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun étudiant trouvé"}),s.jsx("p",{className:"text-gray-600 mb-4",children:k||w?"Essayez de modifier vos critères de recherche ou de filtre.":"Créez votre premier compte étudiant pour commencer."}),!k&&!w&&s.jsxs(O,{onClick:()=>d(!0),children:[s.jsx(Vs,{className:"h-4 w-4 mr-2"}),"Ajouter le premier étudiant"]})]}),!j&&r.length>0&&s.jsx("div",{className:"lg:hidden",children:r.map(R=>{const J=ee(R);return s.jsxs("div",{className:"p-4 border-b border-gray-200 last:border-b-0",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center mr-3",children:s.jsx(Ze,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.username}),s.jsx("div",{className:"text-xs text-gray-500",children:R.name}),s.jsx("div",{className:"text-xs text-gray-500",children:R.email}),R.categories&&R.categories.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[R.categories.slice(0,2).map(Y=>s.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:Y.name},Y.id)),R.categories.length>2&&s.jsxs("span",{className:"text-xs text-gray-500",children:["+",R.categories.length-2," de plus"]})]})]})]}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${J.bg} ${J.color}`,children:J.status})]}),s.jsxs("div",{className:"text-xs text-gray-600 mb-3",children:[s.jsxs("div",{children:["Début : ",new Date(R.access_start).toLocaleDateString("fr-FR")]}),s.jsxs("div",{children:["Fin : ",new Date(R.access_end).toLocaleDateString("fr-FR")]}),s.jsxs("div",{children:["Créé : ",new Date(R.created_at).toLocaleDateString("fr-FR")]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(O,{size:"sm",variant:"ghost",onClick:()=>_e(R),disabled:j,children:[s.jsx(Qa,{className:"h-3 w-3 mr-1"}),"Modifier"]}),s.jsxs(O,{size:"sm",variant:"secondary",onClick:()=>se(R),disabled:j,children:[s.jsx(ya,{className:"h-3 w-3 mr-1"}),"Catégories"]}),s.jsxs(O,{size:"sm",variant:R.is_active?"secondary":"primary",onClick:()=>E(R.id),disabled:j,children:[R.is_active?s.jsx(li,{className:"h-3 w-3 mr-1"}):s.jsx(ln,{className:"h-3 w-3 mr-1"}),R.is_active?"Désactiver":"Activer"]}),R.access_status==="expiring_soon"&&s.jsxs(O,{size:"sm",variant:"primary",onClick:()=>A(R.id,30),disabled:j,children:[s.jsx(ht,{className:"h-3 w-3 mr-1"}),"+30j"]}),s.jsx(O,{size:"sm",variant:"danger",onClick:()=>L(R.id),disabled:j,children:s.jsx(Es,{className:"h-3 w-3"})})]})]},R.id)})}),!j&&r.length>0&&s.jsx("div",{className:"hidden lg:block overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Étudiant"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Catégories"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Période d'accès"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(R=>{const J=ee(R);return s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(Ze,{className:"h-5 w-5 text-blue-600"})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.username}),s.jsx("div",{className:"text-sm text-gray-500",children:R.name})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:R.email||"Aucun email"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"flex flex-wrap gap-1",children:R.categories&&R.categories.length>0?s.jsxs(s.Fragment,{children:[R.categories.slice(0,2).map(Y=>s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:Y.name},Y.id)),R.categories.length>2&&s.jsxs("span",{className:"text-xs text-gray-500",children:["+",R.categories.length-2," de plus"]})]}):s.jsx("span",{className:"text-xs text-gray-500",children:"Aucune catégorie assignée"})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.jsxs("div",{children:[s.jsxs("div",{children:["Début : ",new Date(R.access_start).toLocaleDateString("fr-FR")]}),s.jsxs("div",{children:["Fin : ",new Date(R.access_end).toLocaleDateString("fr-FR")]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${J.bg} ${J.color}`,children:J.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(O,{size:"sm",variant:"ghost",onClick:()=>_e(R),disabled:j,title:"Modifier l'utilisateur",children:s.jsx(Qa,{className:"h-3 w-3"})}),s.jsx(O,{size:"sm",variant:"secondary",onClick:()=>se(R),disabled:j,title:"Gérer les catégories",children:s.jsx(ya,{className:"h-3 w-3"})}),s.jsx(O,{size:"sm",variant:R.is_active?"secondary":"primary",onClick:()=>E(R.id),disabled:j,title:R.is_active?"Désactiver l'utilisateur":"Activer l'utilisateur",children:R.is_active?s.jsx(li,{className:"h-3 w-3"}):s.jsx(ln,{className:"h-3 w-3"})}),R.access_status==="expiring_soon"&&s.jsx(O,{size:"sm",variant:"primary",onClick:()=>A(R.id,30),disabled:j,title:"Prolonger l'accès de 30 jours",children:s.jsx(ht,{className:"h-3 w-3"})}),s.jsx(O,{size:"sm",variant:"danger",onClick:()=>L(R.id),disabled:j,title:"Supprimer l'utilisateur",children:s.jsx(Es,{className:"h-3 w-3"})})]})})]},R.id)})})]})})]}),s.jsx(zy,{isOpen:v,onClose:()=>{N(!1),f(null)},user:y,categories:a,onSave:he,loading:x})]})},Ry=()=>{const[e,t]=m.useState([]),[r,n]=m.useState(!0),[a,l]=m.useState(null),[i,o]=m.useState(""),[c,d]=m.useState(null),[u,h]=m.useState(!1),[v,N]=m.useState(null);m.useEffect(()=>{y()},[]),m.useEffect(()=>{const b=setTimeout(()=>{i!==""&&y()},500);return()=>clearTimeout(b)},[i]);const y=async()=>{var b,k;try{n(!0),l(null);const _=new URLSearchParams;i.trim()&&_.append("search",i.trim());const w=await G.get(`/admin/progress/all-users?${_.toString()}`);w.data.success?t(w.data.data||[]):w.data.data?t(w.data.data):t([])}catch(_){l(((k=(b=_.response)==null?void 0:b.data)==null?void 0:k.message)||"Failed to load user progress"),console.error("Error loading user progress:",_),t([])}finally{n(!1)}},f=async b=>{var k,_;try{n(!0);const w=await G.get(`/admin/progress/users/${b}`);if(w.data.success){const T=(w.data.data.progress_details||[]).map(D=>{var I;return{videoId:D.videoId||((I=D.video_id)==null?void 0:I.toString()),video_id:D.video_id,video_title:D.video_title,video_category:D.video_category||"Uncategorized",progress:parseFloat(D.progress)||0,current_time:parseFloat(D.current_time)||0,duration:parseFloat(D.duration)||0,completed:D.completed||!1,last_watched:D.last_watched}});d({...w.data.data,progress_details:T}),h(!0)}else console.error("API returned success: false"),l("Failed to load user details: API returned success: false")}catch(w){const M="Failed to load user details: "+(((_=(k=w.response)==null?void 0:k.data)==null?void 0:_.message)||w.message);console.error("Error in loadUserDetails:",w),l(M)}finally{n(!1)}},j=async(b,k)=>{var w,M;const _=k?"Are you sure you want to reset progress for this specific video?":"Are you sure you want to reset ALL progress for this user?";if(window.confirm(_))try{N(b),k?await G.delete(`/admin/user-progress/${b}/${k}/reset`,{data:{confirm:!0}}):await G.delete(`/admin/user-progress/${b}/reset-all`,{data:{confirm:!0}}),await y(),u&&(c==null?void 0:c.user.id)===b&&await f(b),l(null),alert("Progress reset successfully!")}catch(T){l("Failed to reset progress: "+(((M=(w=T.response)==null?void 0:w.data)==null?void 0:M.message)||T.message))}finally{N(null)}},p=async b=>{var k,_;if(window.confirm("This will recalculate progress based on current video positions. Continue?"))try{N(b),await G.post(`/admin/user-progress/${b}/recalculate`),await y(),u&&(c==null?void 0:c.user.id)===b&&await f(b),alert("Progress recalculated successfully!")}catch(w){console.error("Error in recalculateUserProgress:",w),l("Failed to recalculate progress: "+(((_=(k=w.response)==null?void 0:k.data)==null?void 0:_.message)||w.message))}finally{N(null)}},x=b=>b?new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",S=(()=>{const b=e.length,k=e.filter(M=>M.last_activity).length,_=e.reduce((M,T)=>M+T.videos_completed,0),w=e.length>0?Math.round(e.reduce((M,T)=>M+T.overall_progress,0)/e.length):0;return{totalUsers:b,activeUsers:k,completedCourses:_,avgProgress:w}})();return r&&e.length===0?s.jsxs("div",{className:"flex items-center justify-center h-64",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Loading user progress..."})]}):s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Suivi de la progression des utilisateurs"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Surveillez la progression et l'engagement des étudiants"})]}),s.jsx("div",{className:"flex space-x-2",children:s.jsxs(O,{onClick:y,disabled:r,variant:"secondary",size:"sm",children:[s.jsx(Wv,{className:`h-4 w-4 mr-2 ${r?"animate-spin":""}`}),"Actualiser"]})})]}),a&&s.jsx(W,{className:"p-4 border-red-200 bg-red-50",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx($e,{className:"h-5 w-5 text-red-500 mr-2"}),s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"text-red-700 text-sm",children:a})}),s.jsx("button",{onClick:()=>l(null),className:"text-red-500 hover:text-red-700",children:"×"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx(W,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(et,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Étudiants totaux"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:S.totalUsers})]})]})}),s.jsx(W,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(wl,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Learners"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:S.activeUsers})]})]})}),s.jsx(W,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(an,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Vidéos complétées"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:S.completedCourses})]})]})}),s.jsx(W,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:s.jsx(_n,{className:"h-6 w-6 text-yellow-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Progression moyenne"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[S.avgProgress,"%"]})]})]})})]}),s.jsx(W,{className:"p-6",children:s.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:s.jsx("div",{className:"flex-1",children:s.jsx(Je,{placeholder:"Rechercher des utilisateurs par nom, email ou nom d'utilisateur...",value:i,onChange:b=>o(b.target.value)})})})}),s.jsxs(W,{children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Progression individuelle"})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Étudiant"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Vidéos assignées"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Commencées"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Complétées"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Progression"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(b=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(et,{className:"h-5 w-5 text-blue-600"})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:b.name}),s.jsx("div",{className:"text-sm text-gray-500",children:b.email}),s.jsxs("div",{className:"text-xs text-gray-400",children:["@",b.username]})]})]})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 text-center",children:b.total_videos_assigned}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:b.videos_started})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:b.videos_completed})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:s.jsx("div",{className:`h-2 rounded-full ${b.overall_progress>=80?"bg-green-500":b.overall_progress>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(100,Math.max(0,b.overall_progress))}%`}})}),s.jsxs("span",{className:"text-sm text-gray-900 min-w-[3rem]",children:[Math.round(b.overall_progress),"%"]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(O,{size:"sm",variant:"secondary",onClick:()=>f(b.id),children:"Détails"}),s.jsx(O,{size:"sm",variant:"secondary",onClick:()=>p(b.id),disabled:v===b.id,title:"Recalculate progress",children:s.jsx(Kv,{className:`h-4 w-4 ${v===b.id?"animate-spin":""}`})})]})})]},b.id))})]}),e.length===0&&!r&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:i?"Aucun utilisateur trouvé pour cette recherche.":"Aucun utilisateur trouvé."})]})]}),u&&c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full mx-2 sm:mx-4 max-h-[90vh] overflow-y-auto p-4 sm:p-6 max-w-sm sm:max-w-lg md:max-w-2xl lg:max-w-4xl xl:max-w-6xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Détails de la progression pour ",c.user.name]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(O,{size:"sm",variant:"secondary",onClick:()=>j(c.user.id),className:"text-red-600 hover:text-red-800",children:[s.jsx(Es,{className:"h-4 w-4 mr-1"}),"Réinitialiser tout"]}),s.jsx(O,{onClick:()=>h(!1),children:"Fermer"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[s.jsxs(W,{className:"p-4",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Progression globale"}),s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[Math.round(c.overall_progress),"%"]})]}),s.jsxs(W,{className:"p-4",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Vidéos complétées"}),s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[c.videos_completed," / ",c.total_videos_assigned]})]}),s.jsxs(W,{className:"p-4",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Informations utilisateur"}),s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsxs("div",{children:["Email: ",c.user.email]}),s.jsxs("div",{children:["Username: @",c.user.username]})]})]})]}),s.jsx("h4",{className:"font-medium mb-4",children:"Détails de progression des vidéos"}),s.jsx("div",{className:"space-y-3",children:c.progress_details.length>0?c.progress_details.map(b=>s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-4 border rounded-lg hover:bg-gray-50 gap-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium",children:b.video_title}),s.jsxs("div",{className:"text-sm text-gray-500",children:[b.video_category,b.last_watched&&s.jsxs("span",{className:"ml-2",children:["• Dernière vue: ",x(b.last_watched)]})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-full sm:w-24 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full ${b.progress>=95?"bg-green-500":b.progress>=50?"bg-blue-500":"bg-gray-400"}`,style:{width:`${Math.min(100,Math.max(0,b.progress))}%`}})}),s.jsxs("div",{className:"text-sm font-medium min-w-[3rem] text-right",children:[Math.round(b.progress),"%"]}),b.completed&&s.jsx(ze,{className:"h-5 w-5 text-green-500"}),s.jsx(O,{size:"sm",variant:"secondary",onClick:()=>j(c.user.id,b.video_id),className:"text-red-600 hover:text-red-800",title:"Reset progress for this video",children:s.jsx(Es,{className:"h-4 w-4"})})]})]},b.video_id)):s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucune progression trouvée pour cet utilisateur."})})]})})]})},tr={id:1,username:"Étudiant Demo",email:"student@example.com",access_end:new Date(Date.now()+30*24*60*60*1e3).toISOString(),created_at:"2024-01-15T10:00:00Z"},Ay=[{id:1,title:"Introduction aux Concepts de Base",description:"Une introduction complète aux concepts fondamentaux que vous devez maîtriser",video_path:"/videos/intro.mp4",cover_image:"https://images.unsplash.com/photo-1516321318423-f06f85e504b3?w=400",duration:1800,file_size:104857600,is_published:!0,category:{id:1,name:"Débutant"},created_at:"2024-01-15T10:00:00Z",updated_at:"2024-01-15T10:00:00Z"},{id:2,title:"Techniques Avancées et Pratiques",description:"Approfondissez vos connaissances avec des techniques avancées et des exercices pratiques",video_path:"/videos/advanced.mp4",cover_image:"https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=400",duration:2700,file_size:157286400,is_published:!0,category:{id:2,name:"Avancé"},created_at:"2024-01-20T14:00:00Z",updated_at:"2024-01-20T14:00:00Z"},{id:3,title:"Études de Cas et Applications",description:"Découvrez comment appliquer vos connaissances à travers des études de cas réels",video_path:"/videos/case-studies.mp4",cover_image:"https://images.unsplash.com/photo-1553877522-43269d4ea984?w=400",duration:3600,file_size:209715200,is_published:!0,category:{id:3,name:"Pratique"},created_at:"2024-01-25T09:00:00Z",updated_at:"2024-01-25T09:00:00Z"}],Dy=()=>{const[e]=m.useState(Ay);m.useState(!1);const t=()=>{if(!(tr!=null&&tr.access_end))return 0;const i=new Date,c=new Date(tr.access_end).getTime()-i.getTime();return Math.ceil(c/(1e3*60*60*24))},r=i=>i.cover_cloudinary_url?i.cover_cloudinary_url:i.cover_url?i.cover_url:i.cover_image?i.cover_image.startsWith("http")?i.cover_image:`http://127.0.0.1:8000/storage/${i.cover_image}`:'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="400" height="200" viewBox="0 0 400 200"%3E%3Crect width="400" height="200" fill="%23f3f4f6"/%3E%3Ctext x="200" y="100" text-anchor="middle" dy="0.3em" font-family="Arial, sans-serif" font-size="16" fill="%236b7280"%3ENo Image%3C/text%3E%3C/svg%3E',n=i=>{if(!i)return"N/A";const o=Math.floor(i/3600),c=Math.floor(i%3600/60),d=Math.floor(i%60);return o>0?`${o}h ${c}m ${d}s`:`${c}m ${d}s`},a=i=>new Date(i).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric"}),l=i=>{if(!i)return"N/A";const o=["Bytes","KB","MB","GB"];if(i===0)return"0 Bytes";const c=Math.floor(Math.log(i)/Math.log(1024));return Math.round(i/Math.pow(1024,c)*100)/100+" "+o[c]};return s.jsxs("div",{className:"space-y-6 px-2 md:px-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Aperçu du Portail Étudiant"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Voici ce que vos étudiants voient lorsqu'ils se connectent"})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-blue-600 bg-blue-50 px-4 py-2 rounded-lg",children:[s.jsx($e,{className:"h-4 w-4"}),s.jsx("span",{children:"Mode Aperçu Admin"})]})]}),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 p-2 md:p-6 rounded-xl",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl p-6 text-white shadow-xl",children:s.jsxs("div",{className:"text-left",children:[s.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Bienvenue, ",tr.username," ! 👋"]}),s.jsx("p",{className:"text-blue-100 text-lg mb-2",children:"Prêt à poursuivre votre parcours d'apprentissage ?"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(et,{className:"h-4 w-4 mr-2"}),s.jsxs("span",{className:"text-blue-200 text-sm",children:["Membre depuis ",a(tr.created_at)]})]})]})})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 mb-8",children:[s.jsx(W,{className:"p-6 bg-white shadow-lg hover:shadow-xl transition-shadow duration-300 border-0",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:s.jsx(Er,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Vidéos disponibles"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})}),s.jsx(W,{className:"p-6 bg-white shadow-lg hover:shadow-xl transition-shadow duration-300 border-0",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-yellow-100 rounded-xl",children:s.jsx(ht,{className:"h-6 w-6 text-yellow-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Expiration de l'accès"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[t(),"d"]})]})]})})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Votre contenu d'apprentissage"}),s.jsxs("div",{className:"text-sm text-gray-600",children:[e.length," vidéo",e.length!==1?"s":""," disponibles"]})]})}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:e.map(i=>s.jsx(Oy,{video:i,getCoverImageUrl:r,formatDate:a,formatDuration:n,formatFileSize:l},i.id))})]})}),s.jsx("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx($e,{className:"h-5 w-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-1",children:"Note pour l'administrateur"}),s.jsx("p",{className:"text-sm text-blue-700",children:"Ceci est un aperçu de l'expérience étudiant avec des données de démonstration. Les vrais étudiants verront leurs propres progrès et les vidéos qui leur sont assignées."})]})]})})]})},Oy=({video:e,videoProgress:t,isCompleted:r,hasStarted:n,getCoverImageUrl:a,formatDate:l,formatDuration:i,formatFileSize:o})=>s.jsxs(W,{className:"overflow-hidden hover:shadow-lg transition-shadow duration-200 bg-white h-full flex flex-col",children:[s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:a(e),alt:e.title,className:"w-full h-48 object-cover cursor-pointer",onError:c=>{c.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="400" height="200" viewBox="0 0 400 200"%3E%3Crect width="400" height="200" fill="%23f3f4f6"/%3E%3Ctext x="200" y="100" text-anchor="middle" dy="0.3em" font-family="Arial, sans-serif" font-size="16" fill="%236b7280"%3ENo Image%3C/text%3E%3C/svg%3E'}}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",children:s.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 bg-white bg-opacity-90 hover:bg-opacity-100 rounded-full p-3 transform hover:scale-110 transition-transform",children:s.jsx(St,{className:"h-6 w-6 text-gray-700 ml-1"})})}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${e.is_published?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:e.is_published?"Publiée":"Brouillon"})}),e.category&&s.jsx("div",{className:"absolute top-2 left-2",children:s.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:e.category.name})}),r&&s.jsx("div",{className:"absolute top-12 right-2",children:s.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-500 text-white",children:"✓ Terminée"})})]}),s.jsxs("div",{className:"p-4 flex-grow flex flex-col",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2 text-base",title:e.title,children:e.title}),s.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2 flex-grow",title:e.description,children:e.description||"Aucune description fournie"}),s.jsxs("div",{className:"space-y-2 text-xs text-gray-500 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(wt,{className:"h-3 w-3 mr-1"}),s.jsx("span",{children:i(e.duration)})]}),s.jsx("div",{children:s.jsx("span",{children:o(e.file_size)})})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(ht,{className:"h-3 w-3 mr-1"}),s.jsxs("span",{children:["Ajoutée le ",l(e.created_at)]})]})]}),n&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-gray-600",children:"Votre progression"}),s.jsxs("span",{className:"font-medium text-gray-900",children:[Math.round(t),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${r?"bg-gradient-to-r from-green-500 to-emerald-500":"bg-gradient-to-r from-blue-500 to-indigo-500"}`,style:{width:`${t}%`}})})]}),s.jsx("div",{className:"mt-auto",children:s.jsxs(O,{size:"sm",variant:r?"secondary":"primary",className:"w-full text-sm",disabled:!0,children:[s.jsx(St,{className:"h-4 w-4 mr-2"}),r?"Revoir la vidéo":n?"Continuer l'apprentissage":"Commencer l'apprentissage"]})})]})]}),Fy=()=>{const{logout:e}=Ft(),t=()=>{e(),window.location.href="/login"};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-orange-50 to-yellow-50 flex items-center justify-center p-4",children:s.jsxs(W,{className:"w-full max-w-md p-8 text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-red-100 rounded-full mb-6",children:s.jsx(jl,{className:"h-8 w-8 text-red-600"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Accès expiré"}),s.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-600 mb-6",children:[s.jsx(wt,{className:"h-5 w-5"}),s.jsx("span",{children:"Votre accès d'apprentissage a expiré"})]}),s.jsx("p",{className:"text-gray-600 mb-8",children:"Votre accès au contenu du cours a expiré. Veuillez contacter votre administrateur pour renouveler votre accès ou prolonger votre abonnement."}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(O,{onClick:t,className:"w-full",children:"Retour à la connexion"}),s.jsx("div",{className:"text-sm text-gray-500",children:s.jsx("p",{children:"Besoin d'aide ? Contactez votre administrateur"})})]})]})})},Iy=()=>s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-red-50 to-pink-50 flex items-center justify-center p-4",children:s.jsxs(W,{className:"w-full max-w-md p-8 text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-red-100 rounded-full mb-6",children:s.jsx(Qs,{className:"h-8 w-8 text-red-600"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Accès refusé"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"Vous n'avez pas la permission d'accéder à cette page. Veuillez contacter votre administrateur si vous pensez qu'il s'agit d'une erreur."}),s.jsx(Ne,{to:"/dashboard",children:s.jsxs(O,{className:"w-full",children:[s.jsx(Ht,{className:"h-4 w-4 mr-2"}),"Retour au tableau de bord"]})})]})}),mp=()=>{var L;const[e,t]=m.useState([]),[r,n]=m.useState([]),[a,l]=m.useState([]),[i,o]=m.useState(null),[c,d]=m.useState(null),[u,h]=m.useState([]),[v,N]=m.useState(""),[y,f]=m.useState(!1),[j,p]=m.useState(""),[x,g]=m.useState(!1),[S,b]=m.useState(!1),[k,_]=m.useState(!0),w=m.useRef(null),M=m.useRef(null),T=localStorage.getItem("authType"),D=(L=JSON.parse(localStorage.getItem("currentUser")||"{}"))==null?void 0:L.id,I=T==="admin";m.useEffect(()=>{zv().then(E=>t(E.data.data||[])),T==="admin"?G.get("/admin/users").then(E=>n(E.data.data||[])):G.get("/admins").then(E=>l(E.data.data||[]))},[T]);const B=async E=>{o(E),g(!0),f(!0),_(!0),b(!1);const A=e.find(H=>{var se,he;return T==="admin"&&((se=H.user)==null?void 0:se.id)===E.id||T!=="admin"&&((he=H.admin)==null?void 0:he.id)===E.id});if(A)d(A),U(A.id);else try{let H;T==="admin"?H=await G.post("/chats/start",{user_id:E.id}):H=await G.post("/chats/start",{admin_id:E.id}),d(H.data.data),U(H.data.data.id)}catch{}f(!1)},U=m.useCallback(E=>{Lv(E).then(A=>{const H=A.data.data||[];h(se=>(H.length>se.length&&k&&!S&&setTimeout(()=>K(),100),H))})},[k,S]);m.useEffect(()=>{if(!c)return;U(c.id);const E=setInterval(()=>U(c.id),3e3);return()=>clearInterval(E)},[c,U]);const ne=m.useCallback(()=>{if(!M.current)return;const{scrollTop:E,scrollHeight:A,clientHeight:H}=M.current,se=A-E-H<100;!se&&!S&&(b(!0),_(!1)),se&&S&&(b(!1),_(!0))},[S]),K=()=>{var E;(E=w.current)==null||E.scrollIntoView({behavior:"smooth"})},oe=async()=>{if(!v.trim()||!c)return;const E=v;N(""),_(!0),b(!1);try{await Rv(c.id,E),U(c.id)}catch{}},C=E=>{E.key==="Enter"&&!E.shiftKey&&(E.preventDefault(),oe())},q=(I?r:a).filter(E=>(E.username||E.name||"").toLowerCase().includes(j.toLowerCase())||(E.email||"").toLowerCase().includes(j.toLowerCase())),te=E=>{const A=new Date(E);return(new Date().getTime()-A.getTime())/(1e3*60*60)<24?A.toLocaleTimeString("fr-FR",{hour:"numeric",minute:"2-digit"}):A.toLocaleDateString("fr-FR",{month:"short",day:"numeric"})},ae=({msg:E,isOwn:A})=>s.jsx("div",{className:`flex ${A?"justify-end":"justify-start"} mb-3`,children:s.jsxs("div",{className:`group relative max-w-[280px] md:max-w-xs lg:max-w-md ${A?"order-2":"order-1"}`,children:[s.jsx("div",{className:`px-4 py-3 rounded-2xl shadow-lg transition-all duration-200 hover:scale-105 font-medium ${A?"bg-gradient-to-r from-pink-500 to-rose-500 text-white shadow-pink-200 rounded-br-md":"bg-white text-gray-800 border border-pink-100 shadow-pink-100 rounded-bl-md"}`,children:s.jsx("p",{className:"text-sm leading-relaxed break-words",children:E.message})}),s.jsx("div",{className:`flex items-center mt-1 px-1 ${A?"justify-end":"justify-start"}`,children:s.jsx("span",{className:`text-xs opacity-0 group-hover:opacity-100 transition-opacity duration-200 ${A?"text-pink-100":"text-gray-500"}`,children:te(E.created_at)})})]})}),_e=()=>s.jsxs("button",{onClick:()=>g(!1),className:"lg:hidden flex items-center space-x-2 text-pink-600 hover:text-rose-700 transition-colors mb-4 font-medium",children:[s.jsx(Ht,{className:"h-5 w-5"}),s.jsxs("span",{children:["Retour aux ",I?"étudiants":"agents de support"]})]});return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 to-rose-100",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 lg:py-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center space-y-4 lg:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-pink-700",children:I?"Gestion du chat":"Support client"}),s.jsx("p",{className:"text-pink-600 mt-2",children:I?"Communiquez avec les étudiants et fournissez de l'assistance":"Obtenez de l'aide de notre équipe de support dédiée"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"text-center lg:text-right",children:[s.jsx("p",{className:"text-sm text-pink-600",children:I?"Utilisateurs inscrits":"Agents de support"}),s.jsx("p",{className:"text-2xl font-bold text-pink-700",children:I?r.length:a.length})]}),s.jsx("div",{className:"p-3 bg-gradient-to-r from-pink-100 to-rose-200 rounded-lg",children:s.jsx(Ze,{className:"h-6 w-6 text-pink-600"})})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-pink-100",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-gradient-to-r from-pink-100 to-rose-200 rounded-lg",children:s.jsx(bt,{className:"h-6 w-6 text-pink-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-pink-600",children:I?"Conversations totales":"Conversations actives"}),s.jsx("p",{className:"text-2xl font-bold text-pink-700",children:e.length})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-pink-100",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-gradient-to-r from-green-100 to-emerald-100 rounded-lg",children:s.jsx(Ze,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-pink-600",children:I?"Utilisateurs inscrits":"Agents de support"}),s.jsx("p",{className:"text-2xl font-bold text-pink-700",children:I?r.length:a.length})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-pink-100",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-gradient-to-r from-purple-100 to-violet-100 rounded-lg",children:s.jsx(wt,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-pink-600",children:"Messages aujourd'hui"}),s.jsx("p",{className:"text-2xl font-bold text-pink-700",children:u.length})]})]})})]}),s.jsx("div",{className:"lg:hidden",children:x&&i?s.jsxs("div",{className:"space-y-4",children:[s.jsx(_e,{}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden border border-pink-200 h-[calc(100vh-200px)] flex flex-col",children:[s.jsx("div",{className:"p-4 border-b border-pink-200 bg-gradient-to-r from-pink-50 to-rose-100",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-pink-500 to-rose-500 rounded-full flex items-center justify-center text-white font-bold shadow-lg",children:(i.username||i.name||"").charAt(0).toUpperCase()}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-pink-700",children:i.username||i.name}),s.jsx("div",{className:"flex items-center space-x-2"})]})]})})}),s.jsx("div",{ref:M,onScroll:ne,className:"flex-1 overflow-y-auto p-4 bg-gradient-to-b from-white to-pink-50",children:y?s.jsx("div",{className:"flex justify-center items-center h-full",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-pink-500"}),s.jsx("span",{className:"text-pink-600 font-medium",children:"Chargement des messages..."})]})}):s.jsxs("div",{className:"space-y-2",children:[u.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-pink-200 to-rose-300 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(bt,{className:"h-8 w-8 text-pink-400"})}),s.jsx("p",{className:"text-lg font-bold text-pink-600 mb-2",children:"Commencez la conversation !"}),s.jsx("p",{className:"text-pink-500",children:I?"Envoyez le premier message pour démarrer le chat":"Votre agent de support est prêt à vous aider"})]}),u.map(E=>s.jsx(ae,{msg:E,isOwn:E.sender_type===T&&E.sender_id===D},E.id)),s.jsx("div",{ref:w})]})}),s.jsx("div",{className:"p-4 border-t border-pink-200 bg-white",children:s.jsxs("div",{className:"flex items-end space-x-2 pb-1 w-full",children:[s.jsx("div",{className:"flex-1 min-h-[40px] max-h-32 bg-gradient-to-r from-pink-50 to-rose-100 rounded-full px-3 py-2 flex items-center border-2 border-pink-200 w-full",children:s.jsx("input",{value:v,onChange:E=>N(E.target.value),onKeyPress:C,placeholder:"Tapez votre message...",className:"flex-1 bg-transparent border-none outline-none placeholder-pink-400 text-sm font-medium w-full",style:{minWidth:0}})}),s.jsx("button",{onClick:oe,disabled:!v.trim(),className:`p-3 rounded-full transition-all duration-200 shadow-lg transform hover:scale-105 ${v.trim()?"bg-gradient-to-r from-pink-500 to-rose-500 text-white hover:from-pink-600 hover:to-rose-600 shadow-pink-200":"bg-gray-200 text-gray-400"}`,style:{minWidth:44,minHeight:44,marginRight:2},children:s.jsx(Ja,{className:"h-5 w-5"})})]})})]})]}):s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden border border-pink-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-pink-600 mb-4",children:I?`Étudiants (${r.length})`:`Agents de support (${a.length})`}),s.jsxs("div",{className:"relative mb-4",children:[s.jsx(Cs,{className:"h-4 w-4 absolute left-3 top-3 text-pink-400"}),s.jsx("input",{type:"text",placeholder:I?"Rechercher des étudiants...":"Rechercher des agents...",value:j,onChange:E=>p(E.target.value),className:"w-full pl-10 pr-4 py-2 border-2 border-pink-200 rounded-lg focus:ring-4 focus:ring-pink-200 focus:border-pink-400 bg-gradient-to-r from-pink-50 to-rose-100 placeholder-pink-400 font-medium"})]}),s.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:q.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-16 h-16 bg-pink-200 rounded-full flex items-center justify-center mx-auto mb-4",children:I?s.jsx(Ze,{className:"h-8 w-8 text-pink-400"}):s.jsx($e,{className:"h-8 w-8 text-pink-400"})}),s.jsx("h3",{className:"text-lg font-bold text-pink-600 mb-2",children:I?"Aucun étudiant trouvé":"Aucun agent disponible"}),s.jsx("p",{className:"text-pink-500",children:j?"Essayez de modifier votre recherche":I?"Les étudiants apparaîtront ici lorsqu'ils rejoindront la plateforme":"Les agents de support ne sont actuellement pas disponibles. Veuillez réessayer plus tard."})]}):q.map(E=>s.jsx("div",{className:"group relative p-4 cursor-pointer rounded-2xl transition-all duration-300 hover:shadow-lg transform hover:-translate-y-1 bg-white hover:bg-gradient-to-r hover:from-pink-100 hover:to-rose-200 border border-pink-100 hover:border-pink-300",onClick:()=>B(E),children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"relative",children:s.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-pink-400 to-rose-500 rounded-full flex items-center justify-center text-white font-bold shadow-lg group-hover:from-pink-500 group-hover:to-rose-600",children:(E.username||E.name||"").charAt(0).toUpperCase()})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-bold text-pink-700 truncate group-hover:text-pink-800",children:E.username||E.name}),s.jsx("div",{className:"text-sm text-pink-500 truncate group-hover:text-pink-600",children:I?E.email:"Spécialiste du support"})]})]})},E.id))})]})}),s.jsxs("div",{className:"hidden lg:grid lg:grid-cols-4 lg:gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden border border-pink-200 h-[600px] flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-pink-200 bg-gradient-to-r from-pink-50 to-rose-100",children:[s.jsx("h3",{className:"text-lg font-bold text-pink-700 mb-3",children:I?`Étudiants (${r.length})`:`Agents de support (${a.length})`}),s.jsxs("div",{className:"relative",children:[s.jsx(Cs,{className:"h-4 w-4 absolute left-3 top-3 text-pink-400"}),s.jsx("input",{type:"text",placeholder:I?"Rechercher des étudiants...":"Rechercher des agents...",value:j,onChange:E=>p(E.target.value),className:"w-full pl-10 pr-4 py-2 border-2 border-pink-200 rounded-lg focus:ring-4 focus:ring-pink-200 focus:border-pink-400 bg-gradient-to-r from-pink-50 to-rose-100 placeholder-pink-400 font-medium"})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:q.length===0?s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-pink-200 rounded-full flex items-center justify-center mx-auto mb-4",children:I?s.jsx(Ze,{className:"h-8 w-8 text-pink-400"}):s.jsx($e,{className:"h-8 w-8 text-pink-400"})}),s.jsx("h3",{className:"text-lg font-bold text-pink-600 mb-2",children:I?"Aucun étudiant trouvé":"Aucun agent trouvé"}),s.jsx("p",{className:"text-pink-500",children:j?"Essayez de modifier votre recherche":I?"Les étudiants apparaîtront ici lorsqu'ils rejoindront la plateforme":"Les agents de support apparaîtront ici lorsqu'ils seront disponibles"})]}):s.jsx("div",{className:"p-2",children:q.map(E=>s.jsxs("div",{className:`group relative p-3 cursor-pointer rounded-lg mb-2 transition-all duration-300 hover:shadow-lg transform hover:-translate-y-1 ${(i==null?void 0:i.id)===E.id?"bg-gradient-to-r from-pink-500 to-rose-500 text-white shadow-xl scale-105":"bg-white hover:bg-gradient-to-r hover:from-pink-100 hover:to-rose-200 border border-pink-100 hover:border-pink-300"}`,onClick:()=>B(E),children:[(i==null?void 0:i.id)===E.id&&s.jsx("div",{className:"absolute -left-1 top-1/2 transform -translate-y-1/2 w-1 h-8 bg-white rounded-r-full"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"relative",children:s.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center text-sm font-bold transition-all duration-300 ${(i==null?void 0:i.id)===E.id?"bg-white text-pink-500 shadow-lg":"bg-gradient-to-r from-pink-400 to-rose-500 text-white group-hover:from-pink-500 group-hover:to-rose-600"}`,children:(E.username||E.name||"").charAt(0).toUpperCase()})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:`font-bold truncate transition-colors duration-300 ${(i==null?void 0:i.id)===E.id?"text-white":"text-pink-700 group-hover:text-pink-800"}`,children:E.username||E.name}),s.jsx("div",{className:`text-xs truncate transition-colors duration-300 ${(i==null?void 0:i.id)===E.id?"text-pink-100":"text-pink-500 group-hover:text-pink-600"}`,children:I?E.email:"Spécialiste du support"})]})]})]},E.id))})})]})}),s.jsx("div",{className:"lg:col-span-3",children:s.jsx("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden border border-pink-200 h-[600px] flex flex-col",children:c&&i?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"p-4 border-b border-pink-200 bg-gradient-to-r from-pink-50 to-rose-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-pink-500 to-rose-500 rounded-2xl flex items-center justify-center text-white font-bold text-xl shadow-lg",children:(i.username||i.name||"").charAt(0).toUpperCase()}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-pink-700",children:i.username||i.name}),s.jsx("div",{className:"flex items-center space-x-2"})]})]}),s.jsx("div",{className:"flex items-center space-x-2"})]})}),s.jsx("div",{ref:M,onScroll:ne,className:"flex-1 overflow-y-auto p-4 bg-gradient-to-b from-white to-pink-50",children:y?s.jsx("div",{className:"flex justify-center items-center h-full",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-pink-500"}),s.jsx("span",{className:"text-pink-600 font-medium",children:"Chargement de la conversation..."})]})}):s.jsxs("div",{className:"space-y-2",children:[u.length===0&&s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-pink-200 to-rose-300 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(bt,{className:"h-10 w-10 text-pink-400"})}),s.jsx("p",{className:"text-lg font-bold text-pink-600 mb-2",children:"Commencez la conversation !"}),s.jsx("p",{className:"text-pink-500",children:"Votre agent de support est prêt à vous aider"})]}),u.map(E=>s.jsx(ae,{msg:E,isOwn:E.sender_type===T&&E.sender_id===D},E.id)),s.jsx("div",{ref:w})]})}),s.jsx("div",{className:"p-6 border-t border-pink-200 bg-white",children:s.jsxs("div",{className:"flex items-end space-x-4",children:[s.jsx("div",{className:"flex-1 relative",children:s.jsx("textarea",{value:v,onChange:E=>N(E.target.value),onKeyPress:C,placeholder:"Tapez votre message...",rows:2,className:"w-full px-5 py-4 border-2 border-pink-200 rounded-2xl focus:outline-none focus:ring-4 focus:ring-pink-200 focus:border-pink-400 resize-none bg-gradient-to-r from-pink-50 to-rose-100 text-gray-800 font-medium placeholder-pink-400 transition-all duration-200"})}),s.jsx("button",{onClick:oe,disabled:!v.trim(),className:"px-8 py-4 bg-gradient-to-r from-pink-500 to-rose-500 text-white rounded-2xl hover:from-pink-600 hover:to-rose-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transform hover:scale-105 font-bold",children:s.jsx(Ja,{className:"w-5 h-5"})})]})})]}):s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-pink-200 to-rose-300 rounded-full flex items-center justify-center mb-6",children:s.jsx(bt,{className:"h-12 w-12 text-pink-400"})}),s.jsx("h3",{className:"text-2xl font-bold text-pink-600 mb-2",children:I?"Sélectionnez un étudiant":"Sélectionnez un agent de support"}),s.jsx("p",{className:"text-pink-500 max-w-md",children:I?"Choisissez un étudiant dans la barre latérale pour démarrer une conversation et fournir de l'assistance":"Choisissez un agent dans la barre latérale pour commencer à recevoir de l'aide avec vos questions"})]})})})})]})]})})},Uy=()=>s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 to-rose-100",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 lg:py-8",children:[s.jsx("div",{className:"mb-6 md:mb-8",children:s.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 rounded-xl md:rounded-2xl p-4 md:p-6 text-white shadow-xl",children:s.jsxs("div",{className:"text-center md:text-left",children:[s.jsxs("h1",{className:"text-xl md:text-2xl lg:text-3xl font-bold mb-2 flex items-center justify-center md:justify-start",children:[s.jsx("svg",{className:"h-6 w-6 md:h-8 md:w-8 mr-2 md:mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),"Centre de Support Administrateur"]}),s.jsx("p",{className:"text-purple-100 text-base md:text-lg mb-3 md:mb-2",children:"Communiquez avec les étudiants et fournissez un support en temps réel"}),s.jsxs("div",{className:"flex items-center justify-center md:justify-start",children:[s.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),s.jsx("span",{className:"text-purple-200 text-sm",children:"Support disponible 24/7 pour vos étudiants"})]})]})})}),s.jsx(mp,{})]})}),$y=()=>s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 lg:py-8",children:[s.jsx("div",{className:"mb-6 md:mb-8",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl md:rounded-2xl p-4 md:p-6 text-white shadow-xl",children:s.jsxs("div",{className:"text-center md:text-left",children:[s.jsxs("h1",{className:"text-xl md:text-2xl lg:text-3xl font-bold mb-2 flex items-center justify-center md:justify-start",children:[s.jsx("svg",{className:"h-6 w-6 md:h-8 md:w-8 mr-2 md:mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),"Support Client"]}),s.jsx("p",{className:"text-blue-100 text-base md:text-lg mb-3 md:mb-2",children:"Obtenez de l'aide de notre équipe de support dédiée"}),s.jsxs("div",{className:"flex items-center justify-center md:justify-start",children:[s.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),s.jsx("span",{className:"text-blue-200 text-sm",children:"Assistance rapide et personnalisée"})]})]})})}),s.jsx("div",{className:"bg-white rounded-xl md:rounded-2xl p-4 md:p-6 shadow-lg mb-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx("svg",{className:"h-6 w-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Comment pouvons-nous vous aider ?"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Notre équipe est là pour répondre à toutes vos questions"})]})]}),s.jsx("div",{className:"flex items-center space-x-2"})]})}),s.jsx(mp,{})]})}),Vy=()=>{Ft();const[e,t]=m.useState("profile"),[r,n]=m.useState(!1),[a,l]=m.useState(null),[i,o]=m.useState([]),[c,d]=m.useState({name:"",username:"",email:""}),[u,h]=m.useState({current_password:"",new_password:"",new_password_confirmation:""}),[v,N]=m.useState(!1),[y,f]=m.useState(!1),[j,p]=m.useState(!1),[x,g]=m.useState({}),[S,b]=m.useState({}),k=(B,U)=>{const ne=Date.now(),K={id:ne,message:B,type:U};o(oe=>[...oe,K]),setTimeout(()=>{o(oe=>oe.filter(C=>C.id!==ne))},4e3)};m.useEffect(()=>{_()},[]);const _=async()=>{try{const B=await G.get("/admin/profile");if(B.data.success){const U=B.data.data;l(U),d({name:U.name,username:U.username,email:U.email})}}catch{k("Échec du chargement des données du profil","error")}},w=async B=>{var U,ne,K,oe;B.preventDefault(),n(!0),g({});try{const C=await G.put("/admin/profile",c);C.data.success&&(l(C.data.data),k("Profil mis à jour avec succès !","success"))}catch(C){(ne=(U=C.response)==null?void 0:U.data)!=null&&ne.errors?g(C.response.data.errors):k(((oe=(K=C.response)==null?void 0:K.data)==null?void 0:oe.message)||"Échec de la mise à jour du profil","error")}finally{n(!1)}},M=async B=>{var U,ne,K,oe;B.preventDefault(),n(!0),b({});try{(await G.put("/admin/profile/password",u)).data.success&&(h({current_password:"",new_password:"",new_password_confirmation:""}),k("Mot de passe mis à jour avec succès !","success"))}catch(C){(ne=(U=C.response)==null?void 0:U.data)!=null&&ne.errors?b(C.response.data.errors):k(((oe=(K=C.response)==null?void 0:K.data)==null?void 0:oe.message)||"Échec de la mise à jour du mot de passe","error")}finally{n(!1)}},T=B=>{const{name:U,value:ne}=B.target;d(K=>({...K,[U]:ne})),x[U]&&g(K=>({...K,[U]:""}))},D=B=>{const{name:U,value:ne}=B.target;h(K=>({...K,[U]:ne})),S[U]&&b(K=>({...K,[U]:""}))},I=B=>new Date(B).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"max-w-6xl mx-auto space-y-6 pt-20 pb-8 px-2 sm:px-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:space-x-4 space-y-2 sm:space-y-0",children:[s.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-100 rounded-full",children:s.jsx(et,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{className:"text-center sm:text-left",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Profil Administrateur"}),s.jsx("p",{className:"text-gray-600 mt-1 text-sm sm:text-base",children:"Gérez les paramètres de votre compte"})]})]}),s.jsxs(W,{className:"p-0",children:[s.jsx("div",{className:"border-b border-gray-200 overflow-x-auto",children:s.jsx("nav",{className:"flex space-x-4 sm:space-x-8 px-2 sm:px-6",children:[{id:"profile",label:"Informations du profil",icon:et},{id:"password",label:"Changer le mot de passe",icon:Qs}].map(({id:B,label:U,icon:ne})=>s.jsxs("button",{onClick:()=>t(B),className:`flex items-center space-x-2 py-3 px-1 border-b-2 font-medium text-xs sm:text-sm whitespace-nowrap ${e===B?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(ne,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:U}),s.jsxs("span",{className:"sm:hidden",children:[B==="profile"&&"Profil",B==="password"&&"Mot de passe"]})]},B))})}),s.jsxs("div",{className:"p-2 sm:p-6",children:[e==="profile"&&s.jsxs("form",{onSubmit:w,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(Je,{label:"Nom complet",name:"name",value:c.name,onChange:T,placeholder:"Entrez votre nom complet",required:!0}),x.name&&s.jsx("p",{className:"mt-1 text-xs sm:text-sm text-red-600",children:x.name[0]})]}),s.jsxs("div",{children:[s.jsx(Je,{label:"Nom d'utilisateur",name:"username",value:c.username,onChange:T,placeholder:"Entrez votre nom d'utilisateur",required:!0}),x.username&&s.jsx("p",{className:"mt-1 text-xs sm:text-sm text-red-600",children:x.username[0]})]})]}),s.jsxs("div",{children:[s.jsx(Je,{label:"Adresse e-mail",name:"email",type:"email",value:c.email,onChange:T,placeholder:"Entrez votre adresse e-mail",required:!0}),x.email&&s.jsx("p",{className:"mt-1 text-xs sm:text-sm text-red-600",children:x.email[0]})]}),a&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Compte créé"}),s.jsxs("div",{className:"flex items-center space-x-2 text-xs sm:text-sm text-gray-600",children:[s.jsx(ht,{className:"h-4 w-4"}),s.jsx("span",{children:I(a.created_at)})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Dernière modification"}),s.jsxs("div",{className:"flex items-center space-x-2 text-xs sm:text-sm text-gray-600",children:[s.jsx(ht,{className:"h-4 w-4"}),s.jsx("span",{children:I(a.updated_at)})]})]})]}),s.jsx("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:s.jsxs(O,{type:"submit",disabled:r,className:"flex-1",children:[s.jsx(In,{className:"h-4 w-4 mr-2"}),r?"Mise à jour...":"Mettre à jour le profil"]})})]}),e==="password"&&s.jsxs("form",{onSubmit:M,className:"space-y-6",children:[s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx($e,{className:"h-5 w-5 text-yellow-400 mr-2 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs sm:text-sm font-medium text-yellow-800",children:"Sécurité du mot de passe"}),s.jsx("p",{className:"mt-1 text-xs sm:text-sm text-yellow-700",children:"Choisissez un mot de passe fort d'au moins 8 caractères, comprenant des majuscules, des minuscules, des chiffres et des caractères spéciaux."})]})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mot de passe actuel"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:v?"text":"password",name:"current_password",value:u.current_password,onChange:D,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10",placeholder:"Entrez le mot de passe actuel",required:!0}),s.jsx("button",{type:"button",onClick:()=>N(!v),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:v?s.jsx(At,{className:"h-4 w-4 text-gray-400"}):s.jsx(pt,{className:"h-4 w-4 text-gray-400"})})]}),S.current_password&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:S.current_password[0]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nouveau mot de passe"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:y?"text":"password",name:"new_password",value:u.new_password,onChange:D,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10",placeholder:"Entrez le nouveau mot de passe",required:!0}),s.jsx("button",{type:"button",onClick:()=>f(!y),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:y?s.jsx(At,{className:"h-4 w-4 text-gray-400"}):s.jsx(pt,{className:"h-4 w-4 text-gray-400"})})]}),S.new_password&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:S.new_password[0]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmer le nouveau mot de passe"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:j?"text":"password",name:"new_password_confirmation",value:u.new_password_confirmation,onChange:D,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10",placeholder:"Confirmez le nouveau mot de passe",required:!0}),s.jsx("button",{type:"button",onClick:()=>p(!j),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:j?s.jsx(At,{className:"h-4 w-4 text-gray-400"}):s.jsx(pt,{className:"h-4 w-4 text-gray-400"})})]}),S.new_password_confirmation&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:S.new_password_confirmation[0]})]}),s.jsx("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:s.jsxs(O,{type:"submit",disabled:r,className:"flex-1",children:[s.jsx(Qs,{className:"h-4 w-4 mr-2"}),r?"Mise à jour...":"Mettre à jour le mot de passe"]})})]})]})]})]}),s.jsx("div",{className:"fixed bottom-4 right-4 space-y-2 z-60",children:i.map(B=>s.jsx("div",{className:`p-4 rounded-lg shadow-lg transition-all duration-300 max-w-sm ${B.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[B.type==="success"?s.jsx(ze,{className:"h-5 w-5"}):s.jsx(_r,{className:"h-5 w-5"}),s.jsx("span",{className:"text-sm font-medium",children:B.message})]}),s.jsx("button",{onClick:()=>o(U=>U.filter(ne=>ne.id!==B.id)),className:"ml-4 text-white hover:text-gray-200 text-lg leading-none",children:"×"})]})},B.id))})]})},By=({isOpen:e,onClose:t,message:r})=>e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ze,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Succès !"}),s.jsx("p",{className:"text-gray-600 mb-6",children:r}),s.jsx(O,{onClick:t,className:"w-full",children:"OK"})]})})}):null,qy=({isOpen:e,onClose:t,error:r})=>e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(_r,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Erreur"}),s.jsx("p",{className:"text-red-600 mb-6",children:r}),s.jsx(O,{onClick:t,variant:"secondary",className:"w-full",children:"Fermer"})]})})}):null,Hy=()=>{Ft();const[e,t]=m.useState("profile"),[r,n]=m.useState(!1),[a,l]=m.useState(null),[i,o]=m.useState(null),[c,d]=m.useState([]),[u,h]=m.useState(!1),[v,N]=m.useState(!1),[y,f]=m.useState(""),[j,p]=m.useState(""),[x,g]=m.useState({name:"",username:"",email:""}),[S,b]=m.useState({current_password:"",new_password:"",new_password_confirmation:""}),[k,_]=m.useState(!1),[w,M]=m.useState(!1),[T,D]=m.useState(!1),[I,B]=m.useState({}),[U,ne]=m.useState({});m.useEffect(()=>{K(),oe()},[]);const K=async()=>{try{const E=await G.get("/profile");if(E.data.success){const A=E.data.data;l(A),g({name:A.name,username:A.username,email:A.email})}}catch{p("Impossible de charger les données du profil"),N(!0)}},oe=async()=>{try{const E=await G.get("/profile/activity");E.data.success&&d(E.data.data)}catch{}},C=async E=>{var A,H,se,he;E.preventDefault(),n(!0),B({});try{const Z=await G.put("/profile",x);Z.data.success&&(l(Z.data.data),f("Profil mis à jour avec succès !"),h(!0))}catch(Z){(H=(A=Z.response)==null?void 0:A.data)!=null&&H.errors?B(Z.response.data.errors):(p(((he=(se=Z.response)==null?void 0:se.data)==null?void 0:he.message)||"Échec de la mise à jour du profil"),N(!0))}finally{n(!1)}},$=async E=>{var A,H,se,he;E.preventDefault(),n(!0),ne({});try{(await G.put("/profile/password",S)).data.success&&(b({current_password:"",new_password:"",new_password_confirmation:""}),f("Mot de passe mis à jour avec succès !"),h(!0))}catch(Z){(H=(A=Z.response)==null?void 0:A.data)!=null&&H.errors?ne(Z.response.data.errors):(p(((he=(se=Z.response)==null?void 0:se.data)==null?void 0:he.message)||"Échec de la mise à jour du mot de passe"),N(!0))}finally{n(!1)}},q=E=>{const{name:A,value:H}=E.target;g(se=>({...se,[A]:H})),I[A]&&B(se=>({...se,[A]:""}))},te=E=>{const{name:A,value:H}=E.target;b(se=>({...se,[A]:H})),U[A]&&ne(se=>({...se,[A]:""}))},ae=E=>new Date(E).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),_e=(E,A)=>{switch(E){case"active":return{color:"green",icon:ze,text:`Actif (${A} jours restants)`};case"expiring_soon":return{color:"yellow",icon:$e,text:`Expire bientôt (${A} jours restants)`};case"expired":return{color:"red",icon:_r,text:"Accès expiré"};case"inactive":return{color:"gray",icon:_r,text:"Compte inactif"};default:return{color:"blue",icon:ze,text:"Pas d'expiration"}}},L=E=>{switch(E){case"video_completed":return s.jsx(ze,{className:"h-4 w-4 text-green-500"});case"video_progress":return s.jsx(St,{className:"h-4 w-4 text-blue-500"});case"comment_posted":return s.jsx(nu,{className:"h-4 w-4 text-purple-500"});default:return s.jsx(ri,{className:"h-4 w-4 text-gray-500"})}};return s.jsxs("div",{className:"max-w-6xl mx-auto space-y-6 pt-20 pb-8 px-2 sm:px-4",children:[" ",s.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:space-x-4 space-y-2 sm:space-y-0",children:[s.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-100 rounded-full",children:s.jsx(et,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{className:"text-center sm:text-left",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Mon Profil"}),s.jsx("p",{className:"text-gray-600 mt-1 text-sm sm:text-base",children:"Gérez les paramètres de votre compte et consultez votre progression d'apprentissage"})]})]}),a&&s.jsx(W,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-y-4 sm:gap-y-0",children:[s.jsx("div",{className:"flex items-center space-x-3",children:(()=>{const E=_e(a.access_status,a.days_remaining),A=E.icon;return s.jsxs(s.Fragment,{children:[s.jsx(A,{className:`h-6 w-6 text-${E.color}-500`}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900 text-sm sm:text-base",children:"Statut du compte"}),s.jsx("p",{className:`text-xs sm:text-sm text-${E.color}-600`,children:E.text})]})]})})()}),s.jsxs("div",{className:"text-right sm:text-left w-full sm:w-auto",children:[s.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Période d'accès"}),s.jsxs("p",{className:"text-xs sm:text-sm font-medium text-gray-900",children:[ae(a.access_start)," - ",ae(a.access_end)]})]})]})}),s.jsxs(W,{className:"p-0",children:[s.jsx("div",{className:"border-b border-gray-200 overflow-x-auto",children:s.jsx("nav",{className:"flex space-x-4 sm:space-x-8 px-2 sm:px-6",children:[{id:"profile",label:"Informations du profil",icon:et},{id:"password",label:"Changer le mot de passe",icon:Qs},{id:"activity",label:"Activité récente",icon:ri}].map(({id:E,label:A,icon:H})=>s.jsxs("button",{onClick:()=>t(E),className:`flex items-center space-x-2 py-3 px-1 border-b-2 font-medium text-xs sm:text-sm ${e===E?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(H,{className:"h-4 w-4"}),s.jsx("span",{children:A})]},E))})}),s.jsxs("div",{className:"p-2 sm:p-6",children:[e==="profile"&&s.jsxs("form",{onSubmit:C,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(Je,{label:"Nom complet",name:"name",value:x.name,onChange:q,placeholder:"Entrez votre nom complet",required:!0}),I.name&&s.jsx("p",{className:"mt-1 text-xs sm:text-sm text-red-600",children:I.name[0]})]}),s.jsxs("div",{children:[s.jsx(Je,{label:"Nom d'utilisateur",name:"username",value:x.username,onChange:q,placeholder:"Entrez votre nom d'utilisateur",required:!0}),I.username&&s.jsx("p",{className:"mt-1 text-xs sm:text-sm text-red-600",children:I.username[0]})]})]}),s.jsxs("div",{children:[s.jsx(Je,{label:"Adresse e-mail",name:"email",type:"email",value:x.email,onChange:q,placeholder:"Entrez votre adresse e-mail",required:!0}),I.email&&s.jsx("p",{className:"mt-1 text-xs sm:text-sm text-red-600",children:I.email[0]})]}),a&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Compte créé"}),s.jsxs("div",{className:"flex items-center space-x-2 text-xs sm:text-sm text-gray-600",children:[s.jsx(ht,{className:"h-4 w-4"}),s.jsx("span",{children:ae(a.created_at)})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Dernière modification"}),s.jsxs("div",{className:"flex items-center space-x-2 text-xs sm:text-sm text-gray-600",children:[s.jsx(ht,{className:"h-4 w-4"}),s.jsx("span",{children:ae(a.updated_at)})]})]})]}),s.jsx("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:s.jsxs(O,{type:"submit",disabled:r,className:"flex-1",children:[s.jsx(In,{className:"h-4 w-4 mr-2"}),r?"Mise à jour...":"Mettre à jour le profil"]})})]}),e==="password"&&s.jsxs("form",{onSubmit:$,className:"space-y-6",children:[s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx($e,{className:"h-5 w-5 text-yellow-400 mr-2 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs sm:text-sm font-medium text-yellow-800",children:"Sécurité du mot de passe"}),s.jsx("p",{className:"mt-1 text-xs sm:text-sm text-yellow-700",children:"Choisissez un mot de passe fort d'au moins 8 caractères, incluant des majuscules, minuscules, chiffres et caractères spéciaux."})]})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mot de passe actuel"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:k?"text":"password",name:"current_password",value:S.current_password,onChange:te,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10",placeholder:"Entrez le mot de passe actuel",required:!0}),s.jsx("button",{type:"button",onClick:()=>_(!k),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:k?s.jsx(At,{className:"h-4 w-4 text-gray-400"}):s.jsx(pt,{className:"h-4 w-4 text-gray-400"})})]}),U.current_password&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:U.current_password[0]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nouveau mot de passe"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:w?"text":"password",name:"new_password",value:S.new_password,onChange:te,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10",placeholder:"Entrez le nouveau mot de passe",required:!0}),s.jsx("button",{type:"button",onClick:()=>M(!w),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:w?s.jsx(At,{className:"h-4 w-4 text-gray-400"}):s.jsx(pt,{className:"h-4 w-4 text-gray-400"})})]}),U.new_password&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:U.new_password[0]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmer le nouveau mot de passe"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:T?"text":"password",name:"new_password_confirmation",value:S.new_password_confirmation,onChange:te,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10",placeholder:"Confirmez le nouveau mot de passe",required:!0}),s.jsx("button",{type:"button",onClick:()=>D(!T),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:T?s.jsx(At,{className:"h-4 w-4 text-gray-400"}):s.jsx(pt,{className:"h-4 w-4 text-gray-400"})})]}),U.new_password_confirmation&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:U.new_password_confirmation[0]})]}),s.jsx("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:s.jsxs(O,{type:"submit",disabled:r,className:"flex-1",children:[s.jsx(Qs,{className:"h-4 w-4 mr-2"}),r?"Mise à jour...":"Mettre à jour le mot de passe"]})})]}),e==="statistics"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 overflow-x-auto",children:i&&[{label:"Catégories assignées",value:i.assigned_categories,icon:Er,color:"blue",description:"Catégories auxquelles vous avez accès"},{label:"Vidéos disponibles",value:i.total_videos,icon:St,color:"purple",description:"Nombre total de vidéos dans vos catégories"},{label:"Vidéos terminées",value:i.watched_videos,icon:ze,color:"green",description:"Vidéos que vous avez terminées"},{label:"En cours",value:i.in_progress_videos,icon:wt,color:"yellow",description:"Vidéos commencées mais non terminées"},{label:"Progression globale",value:`${i.overall_progress}%`,icon:wl,color:"indigo",description:"Votre taux de complétion global"},{label:"Commentaires publiés",value:i.total_comments,icon:nu,color:"pink",description:"Nombre total de commentaires publiés"},{label:"Commentaires approuvés",value:i.approved_comments,icon:ln,color:"green",description:"Commentaires approuvés par les modérateurs"},{label:"Notifications non lues",value:i.unread_notifications,icon:Hv,color:"red",description:"Nouvelles notifications pour vous"}].map(({label:E,value:A,icon:H,color:se,description:he})=>s.jsx(W,{className:"p-4 sm:p-6 hover:shadow-md transition-shadow min-w-[220px]",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`flex-shrink-0 p-2 sm:p-3 bg-${se}-100 rounded-lg`,children:s.jsx(H,{className:`h-5 w-5 sm:h-6 sm:w-6 text-${se}-600`})}),s.jsxs("div",{className:"ml-2 sm:ml-4",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:E}),s.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:A}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:he})]})]})},E))}),i&&s.jsxs(W,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Vue d'ensemble de la progression"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Complétion globale"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[i.overall_progress,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${i.overall_progress}%`}})})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:i.watched_videos}),s.jsx("div",{className:"text-sm text-gray-500",children:"Terminées"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:i.in_progress_videos}),s.jsx("div",{className:"text-sm text-gray-500",children:"En cours"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-600",children:i.total_videos-i.watched_videos-i.in_progress_videos}),s.jsx("div",{className:"text-sm text-gray-500",children:"Non commencées"})]})]})]})]})]}),e==="activity"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-y-2 sm:gap-y-0",children:[s.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900",children:"Votre activité d'apprentissage récente"}),s.jsx(O,{variant:"outline",onClick:oe,size:"sm",children:"Actualiser"})]}),c.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ri,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Aucune activité récente trouvée"}),s.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Commencez à regarder des vidéos pour voir votre activité ici !"})]}):s.jsx("div",{className:"space-y-4",children:c.map((E,A)=>s.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:L(E.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm text-gray-900",children:E.description}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:ae(E.created_at)})]})]},A))})]})]})]}),s.jsx(By,{isOpen:u,onClose:()=>h(!1),message:y}),s.jsx(qy,{isOpen:v,onClose:()=>N(!1),error:j})]})};function Wy(){return s.jsx(Av,{children:s.jsx(Y0,{children:s.jsxs(W0,{children:[s.jsx(fe,{path:"/",element:s.jsx(ey,{})}),s.jsx(fe,{path:"/login",element:s.jsx(ay,{})}),s.jsx(fe,{path:"/access-expired",element:s.jsx(Fy,{})}),s.jsx(fe,{path:"/unauthorized",element:s.jsx(Iy,{})}),s.jsxs(fe,{path:"/app",element:s.jsx(iu,{requiredAuthType:"user",children:s.jsx(ty,{})}),children:[s.jsx(fe,{index:!0,element:s.jsx(bs,{to:"dashboard",replace:!0})}),s.jsx(fe,{path:"dashboard",element:s.jsx(ly,{})}),s.jsx(fe,{path:"profile",element:s.jsx(Hy,{})}),s.jsx(fe,{path:"course/:courseId",element:s.jsx(dy,{})}),s.jsx(fe,{path:"watch/:id",element:s.jsx(cu,{})}),s.jsx(fe,{path:"chat",element:s.jsx($y,{})})," "]}),s.jsxs(fe,{path:"/admin",element:s.jsx(iu,{requiredAuthType:"admin",children:s.jsx(ry,{})}),children:[s.jsx(fe,{index:!0,element:s.jsx(du,{})}),s.jsx(fe,{path:"dashboard",element:s.jsx(du,{})}),s.jsx(fe,{path:"videos",element:s.jsx(py,{})}),s.jsx(fe,{path:"videos/new",element:s.jsx(vy,{})}),s.jsx(fe,{path:"videos/edit/:id",element:s.jsx(Ny,{})}),s.jsx(fe,{path:"profile",element:s.jsx(Vy,{})}),s.jsx(fe,{path:"videos/watch/:id",element:s.jsx(cu,{})}),s.jsx(fe,{path:"categories",element:s.jsx(Sy,{})}),s.jsx(fe,{path:"categories/edit/:categoryId",element:s.jsx(_y,{})}),s.jsx(fe,{path:"categories/assign/:categoryId",element:s.jsx(Py,{})}),s.jsx(fe,{path:"users",element:s.jsx(Ly,{})}),s.jsx(fe,{path:"progress",element:s.jsx(Ry,{})}),s.jsx(fe,{path:"preview",element:s.jsx(Dy,{})}),s.jsx(fe,{path:"chat",element:s.jsx(Uy,{})})," "]}),s.jsx(fe,{path:"/dashboard",element:s.jsx(bs,{to:"/app/dashboard",replace:!0})}),s.jsx(fe,{path:"/course/:courseId",element:s.jsx(bs,{to:"/app/course/:courseId",replace:!0})}),s.jsx(fe,{path:"*",element:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-8",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-900",children:"Page Not Found"}),s.jsxs("p",{className:"mb-4 text-gray-600",children:['The path "',window.location.pathname,`" doesn't exist or you don't have access.`]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("a",{href:"/MedicareClinic/login",className:"inline-block bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition",children:"Go to Login"}),s.jsx("br",{}),s.jsx("a",{href:"/MedicareClinic/",className:"inline-block text-gray-600 hover:text-gray-800 transition",children:"Return to Home"})]})]})})})]})})})}kh(document.getElementById("root")).render(s.jsx(m.StrictMode,{children:s.jsx(Wy,{})}));

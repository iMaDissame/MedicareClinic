function Sp(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(n,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();function Cp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var du={exports:{}},Ya={},uu={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _n=Symbol.for("react.element"),Ep=Symbol.for("react.portal"),_p=Symbol.for("react.fragment"),Pp=Symbol.for("react.strict_mode"),Tp=Symbol.for("react.profiler"),Mp=Symbol.for("react.provider"),Ap=Symbol.for("react.context"),Lp=Symbol.for("react.forward_ref"),zp=Symbol.for("react.suspense"),Rp=Symbol.for("react.memo"),Fp=Symbol.for("react.lazy"),wc=Symbol.iterator;function Dp(e){return e===null||typeof e!="object"?null:(e=wc&&e[wc]||e["@@iterator"],typeof e=="function"?e:null)}var mu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hu=Object.assign,pu={};function _r(e,t,r){this.props=e,this.context=t,this.refs=pu,this.updater=r||mu}_r.prototype.isReactComponent={};_r.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function fu(){}fu.prototype=_r.prototype;function co(e,t,r){this.props=e,this.context=t,this.refs=pu,this.updater=r||mu}var uo=co.prototype=new fu;uo.constructor=co;hu(uo,_r.prototype);uo.isPureReactComponent=!0;var Nc=Array.isArray,xu=Object.prototype.hasOwnProperty,mo={current:null},gu={key:!0,ref:!0,__self:!0,__source:!0};function vu(e,t,r){var n,a={},l=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(l=""+t.key),t)xu.call(t,n)&&!gu.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:_n,type:e,key:l,ref:i,props:a,_owner:mo.current}}function Op(e,t){return{$$typeof:_n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ho(e){return typeof e=="object"&&e!==null&&e.$$typeof===_n}function Up(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var bc=/\/+/g;function El(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Up(""+e.key):t.toString(36)}function aa(e,t,r,n,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case _n:case Ep:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+El(i,0):n,Nc(a)?(r="",e!=null&&(r=e.replace(bc,"$&/")+"/"),aa(a,t,r,"",function(d){return d})):a!=null&&(ho(a)&&(a=Op(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(bc,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",Nc(e))for(var o=0;o<e.length;o++){l=e[o];var c=n+El(l,o);i+=aa(l,t,r,c,a)}else if(c=Dp(e),typeof c=="function")for(e=c.call(e),o=0;!(l=e.next()).done;)l=l.value,c=n+El(l,o++),i+=aa(l,t,r,c,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Vn(e,t,r){if(e==null)return e;var n=[],a=0;return aa(e,n,"","",function(l){return t.call(r,l,a++)}),n}function Ip(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ge={current:null},la={transition:null},$p={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:la,ReactCurrentOwner:mo};function yu(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:Vn,forEach:function(e,t,r){Vn(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Vn(e,function(){t++}),t},toArray:function(e){return Vn(e,function(t){return t})||[]},only:function(e){if(!ho(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=_r;ne.Fragment=_p;ne.Profiler=Tp;ne.PureComponent=co;ne.StrictMode=Pp;ne.Suspense=zp;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$p;ne.act=yu;ne.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=hu({},e.props),a=e.key,l=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,i=mo.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)xu.call(t,c)&&!gu.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:_n,type:e.type,key:a,ref:l,props:n,_owner:i}};ne.createContext=function(e){return e={$$typeof:Ap,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Mp,_context:e},e.Consumer=e};ne.createElement=vu;ne.createFactory=function(e){var t=vu.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:Lp,render:e}};ne.isValidElement=ho;ne.lazy=function(e){return{$$typeof:Fp,_payload:{_status:-1,_result:e},_init:Ip}};ne.memo=function(e,t){return{$$typeof:Rp,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=la.transition;la.transition={};try{e()}finally{la.transition=t}};ne.unstable_act=yu;ne.useCallback=function(e,t){return Ge.current.useCallback(e,t)};ne.useContext=function(e){return Ge.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return Ge.current.useDeferredValue(e)};ne.useEffect=function(e,t){return Ge.current.useEffect(e,t)};ne.useId=function(){return Ge.current.useId()};ne.useImperativeHandle=function(e,t,r){return Ge.current.useImperativeHandle(e,t,r)};ne.useInsertionEffect=function(e,t){return Ge.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return Ge.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return Ge.current.useMemo(e,t)};ne.useReducer=function(e,t,r){return Ge.current.useReducer(e,t,r)};ne.useRef=function(e){return Ge.current.useRef(e)};ne.useState=function(e){return Ge.current.useState(e)};ne.useSyncExternalStore=function(e,t,r){return Ge.current.useSyncExternalStore(e,t,r)};ne.useTransition=function(){return Ge.current.useTransition()};ne.version="18.3.1";uu.exports=ne;var p=uu.exports;const Vp=Cp(p),Bp=Sp({__proto__:null,default:Vp},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp=p,Hp=Symbol.for("react.element"),Wp=Symbol.for("react.fragment"),Kp=Object.prototype.hasOwnProperty,Qp=qp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Jp={key:!0,ref:!0,__self:!0,__source:!0};function ju(e,t,r){var n,a={},l=null,i=null;r!==void 0&&(l=""+r),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)Kp.call(t,n)&&!Jp.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:Hp,type:e,key:l,ref:i,props:a,_owner:Qp.current}}Ya.Fragment=Wp;Ya.jsx=ju;Ya.jsxs=ju;du.exports=Ya;var s=du.exports,wu={exports:{}},ht={},Nu={exports:{}},bu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,F){var U=P.length;P.push(F);e:for(;0<U;){var M=U-1>>>1,q=P[M];if(0<a(q,F))P[M]=F,P[U]=q,U=M;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var F=P[0],U=P.pop();if(U!==F){P[0]=U;e:for(var M=0,q=P.length,se=q>>>1;M<se;){var he=2*(M+1)-1,_=P[he],A=he+1,b=P[A];if(0>a(_,U))A<q&&0>a(b,_)?(P[M]=b,P[A]=U,M=A):(P[M]=_,P[he]=U,M=he);else if(A<q&&0>a(b,U))P[M]=b,P[A]=U,M=A;else break e}}return F}function a(P,F){var U=P.sortIndex-F.sortIndex;return U!==0?U:P.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],d=[],h=1,f=null,g=3,j=!1,v=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(P){for(var F=r(d);F!==null;){if(F.callback===null)n(d);else if(F.startTime<=P)n(d),F.sortIndex=F.expirationTime,t(c,F);else break;F=r(d)}}function y(P){if(w=!1,m(P),!v)if(r(c)!==null)v=!0,le(E);else{var F=r(d);F!==null&&de(y,F.startTime-P)}}function E(P,F){v=!1,w&&(w=!1,x(C),C=-1),j=!0;var U=g;try{for(m(F),f=r(c);f!==null&&(!(f.expirationTime>F)||P&&!B());){var M=f.callback;if(typeof M=="function"){f.callback=null,g=f.priorityLevel;var q=M(f.expirationTime<=F);F=e.unstable_now(),typeof q=="function"?f.callback=q:f===r(c)&&n(c),m(F)}else n(c);f=r(c)}if(f!==null)var se=!0;else{var he=r(d);he!==null&&de(y,he.startTime-F),se=!1}return se}finally{f=null,g=U,j=!1}}var N=!1,z=null,C=-1,D=5,k=-1;function B(){return!(e.unstable_now()-k<D)}function R(){if(z!==null){var P=e.unstable_now();k=P;var F=!0;try{F=z(!0,P)}finally{F?Q():(N=!1,z=null)}}else N=!1}var Q;if(typeof u=="function")Q=function(){u(R)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ae=H.port2;H.port1.onmessage=R,Q=function(){ae.postMessage(null)}}else Q=function(){S(R,0)};function le(P){z=P,N||(N=!0,Q())}function de(P,F){C=S(function(){P(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){v||j||(v=!0,le(E))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(P){switch(g){case 1:case 2:case 3:var F=3;break;default:F=g}var U=g;g=F;try{return P()}finally{g=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,F){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var U=g;g=P;try{return F()}finally{g=U}},e.unstable_scheduleCallback=function(P,F,U){var M=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?M+U:M):U=M,P){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=U+q,P={id:h++,callback:F,priorityLevel:P,startTime:U,expirationTime:q,sortIndex:-1},U>M?(P.sortIndex=U,t(d,P),r(c)===null&&P===r(d)&&(w?(x(C),C=-1):w=!0,de(y,U-M))):(P.sortIndex=q,t(c,P),v||j||(v=!0,le(E))),P},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(P){var F=g;return function(){var U=g;g=F;try{return P.apply(this,arguments)}finally{g=U}}}})(bu);Nu.exports=bu;var Gp=Nu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp=p,mt=Gp;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ku=new Set,ln={};function Js(e,t){yr(e,t),yr(e+"Capture",t)}function yr(e,t){for(ln[e]=t,e=0;e<t.length;e++)ku.add(t[e])}var Xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),li=Object.prototype.hasOwnProperty,Zp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kc={},Sc={};function Yp(e){return li.call(Sc,e)?!0:li.call(kc,e)?!1:Zp.test(e)?Sc[e]=!0:(kc[e]=!0,!1)}function ef(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function tf(e,t,r,n){if(t===null||typeof t>"u"||ef(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Xe(e,t,r,n,a,l,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=i}var Oe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Oe[e]=new Xe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Oe[t]=new Xe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Oe[e]=new Xe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Oe[e]=new Xe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Oe[e]=new Xe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Oe[e]=new Xe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Oe[e]=new Xe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Oe[e]=new Xe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Oe[e]=new Xe(e,5,!1,e.toLowerCase(),null,!1,!1)});var po=/[\-:]([a-z])/g;function fo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(po,fo);Oe[t]=new Xe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(po,fo);Oe[t]=new Xe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(po,fo);Oe[t]=new Xe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Oe[e]=new Xe(e,1,!1,e.toLowerCase(),null,!1,!1)});Oe.xlinkHref=new Xe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Oe[e]=new Xe(e,1,!1,e.toLowerCase(),null,!0,!0)});function xo(e,t,r,n){var a=Oe.hasOwnProperty(t)?Oe[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(tf(t,r,a,n)&&(r=null),n||a===null?Yp(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ts=Xp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bn=Symbol.for("react.element"),er=Symbol.for("react.portal"),tr=Symbol.for("react.fragment"),go=Symbol.for("react.strict_mode"),ii=Symbol.for("react.profiler"),Su=Symbol.for("react.provider"),Cu=Symbol.for("react.context"),vo=Symbol.for("react.forward_ref"),oi=Symbol.for("react.suspense"),ci=Symbol.for("react.suspense_list"),yo=Symbol.for("react.memo"),rs=Symbol.for("react.lazy"),Eu=Symbol.for("react.offscreen"),Cc=Symbol.iterator;function Dr(e){return e===null||typeof e!="object"?null:(e=Cc&&e[Cc]||e["@@iterator"],typeof e=="function"?e:null)}var we=Object.assign,_l;function Wr(e){if(_l===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);_l=t&&t[1]||""}return`
`+_l+e}var Pl=!1;function Tl(e,t){if(!e||Pl)return"";Pl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),l=n.stack.split(`
`),i=a.length-1,o=l.length-1;1<=i&&0<=o&&a[i]!==l[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==l[o]){if(i!==1||o!==1)do if(i--,o--,0>o||a[i]!==l[o]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{Pl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Wr(e):""}function sf(e){switch(e.tag){case 5:return Wr(e.type);case 16:return Wr("Lazy");case 13:return Wr("Suspense");case 19:return Wr("SuspenseList");case 0:case 2:case 15:return e=Tl(e.type,!1),e;case 11:return e=Tl(e.type.render,!1),e;case 1:return e=Tl(e.type,!0),e;default:return""}}function di(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tr:return"Fragment";case er:return"Portal";case ii:return"Profiler";case go:return"StrictMode";case oi:return"Suspense";case ci:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Cu:return(e.displayName||"Context")+".Consumer";case Su:return(e._context.displayName||"Context")+".Provider";case vo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yo:return t=e.displayName||null,t!==null?t:di(e.type)||"Memo";case rs:t=e._payload,e=e._init;try{return di(e(t))}catch{}}return null}function rf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return di(t);case 8:return t===go?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ws(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _u(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nf(e){var t=_u(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,l=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qn(e){e._valueTracker||(e._valueTracker=nf(e))}function Pu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=_u(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function wa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ui(e,t){var r=t.checked;return we({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ec(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ws(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Tu(e,t){t=t.checked,t!=null&&xo(e,"checked",t,!1)}function mi(e,t){Tu(e,t);var r=ws(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hi(e,t.type,r):t.hasOwnProperty("defaultValue")&&hi(e,t.type,ws(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _c(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function hi(e,t,r){(t!=="number"||wa(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Kr=Array.isArray;function mr(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ws(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function pi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return we({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(I(92));if(Kr(r)){if(1<r.length)throw Error(I(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ws(r)}}function Mu(e,t){var r=ws(t.value),n=ws(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Tc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Au(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Au(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hn,Lu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hn=Hn||document.createElement("div"),Hn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function on(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Gr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},af=["Webkit","ms","Moz","O"];Object.keys(Gr).forEach(function(e){af.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Gr[t]=Gr[e]})});function zu(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Gr.hasOwnProperty(e)&&Gr[e]?(""+t).trim():t+"px"}function Ru(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=zu(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var lf=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xi(e,t){if(t){if(lf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function gi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vi=null;function jo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yi=null,hr=null,pr=null;function Mc(e){if(e=Mn(e)){if(typeof yi!="function")throw Error(I(280));var t=e.stateNode;t&&(t=nl(t),yi(e.stateNode,e.type,t))}}function Fu(e){hr?pr?pr.push(e):pr=[e]:hr=e}function Du(){if(hr){var e=hr,t=pr;if(pr=hr=null,Mc(e),t)for(e=0;e<t.length;e++)Mc(t[e])}}function Ou(e,t){return e(t)}function Uu(){}var Ml=!1;function Iu(e,t,r){if(Ml)return e(t,r);Ml=!0;try{return Ou(e,t,r)}finally{Ml=!1,(hr!==null||pr!==null)&&(Uu(),Du())}}function cn(e,t){var r=e.stateNode;if(r===null)return null;var n=nl(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(I(231,t,typeof r));return r}var ji=!1;if(Xt)try{var Or={};Object.defineProperty(Or,"passive",{get:function(){ji=!0}}),window.addEventListener("test",Or,Or),window.removeEventListener("test",Or,Or)}catch{ji=!1}function of(e,t,r,n,a,l,i,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(h){this.onError(h)}}var Xr=!1,Na=null,ba=!1,wi=null,cf={onError:function(e){Xr=!0,Na=e}};function df(e,t,r,n,a,l,i,o,c){Xr=!1,Na=null,of.apply(cf,arguments)}function uf(e,t,r,n,a,l,i,o,c){if(df.apply(this,arguments),Xr){if(Xr){var d=Na;Xr=!1,Na=null}else throw Error(I(198));ba||(ba=!0,wi=d)}}function Gs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function $u(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ac(e){if(Gs(e)!==e)throw Error(I(188))}function mf(e){var t=e.alternate;if(!t){if(t=Gs(e),t===null)throw Error(I(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var l=a.alternate;if(l===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===r)return Ac(a),e;if(l===n)return Ac(a),t;l=l.sibling}throw Error(I(188))}if(r.return!==n.return)r=a,n=l;else{for(var i=!1,o=a.child;o;){if(o===r){i=!0,r=a,n=l;break}if(o===n){i=!0,n=a,r=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===r){i=!0,r=l,n=a;break}if(o===n){i=!0,n=l,r=a;break}o=o.sibling}if(!i)throw Error(I(189))}}if(r.alternate!==n)throw Error(I(190))}if(r.tag!==3)throw Error(I(188));return r.stateNode.current===r?e:t}function Vu(e){return e=mf(e),e!==null?Bu(e):null}function Bu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Bu(e);if(t!==null)return t;e=e.sibling}return null}var qu=mt.unstable_scheduleCallback,Lc=mt.unstable_cancelCallback,hf=mt.unstable_shouldYield,pf=mt.unstable_requestPaint,be=mt.unstable_now,ff=mt.unstable_getCurrentPriorityLevel,wo=mt.unstable_ImmediatePriority,Hu=mt.unstable_UserBlockingPriority,ka=mt.unstable_NormalPriority,xf=mt.unstable_LowPriority,Wu=mt.unstable_IdlePriority,el=null,It=null;function gf(e){if(It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(el,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:jf,vf=Math.log,yf=Math.LN2;function jf(e){return e>>>=0,e===0?32:31-(vf(e)/yf|0)|0}var Wn=64,Kn=4194304;function Qr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Sa(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,l=e.pingedLanes,i=r&268435455;if(i!==0){var o=i&~a;o!==0?n=Qr(o):(l&=i,l!==0&&(n=Qr(l)))}else i=r&~a,i!==0?n=Qr(i):l!==0&&(n=Qr(l));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Pt(t),a=1<<r,n|=e[r],t&=~a;return n}function wf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nf(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-Pt(l),o=1<<i,c=a[i];c===-1?(!(o&r)||o&n)&&(a[i]=wf(o,t)):c<=t&&(e.expiredLanes|=o),l&=~o}}function Ni(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ku(){var e=Wn;return Wn<<=1,!(Wn&4194240)&&(Wn=64),e}function Al(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Pn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pt(t),e[t]=r}function bf(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Pt(r),l=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~l}}function No(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Pt(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var me=0;function Qu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ju,bo,Gu,Xu,Zu,bi=!1,Qn=[],us=null,ms=null,hs=null,dn=new Map,un=new Map,as=[],kf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zc(e,t){switch(e){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":dn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":un.delete(t.pointerId)}}function Ur(e,t,r,n,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:l,targetContainers:[a]},t!==null&&(t=Mn(t),t!==null&&bo(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Sf(e,t,r,n,a){switch(t){case"focusin":return us=Ur(us,e,t,r,n,a),!0;case"dragenter":return ms=Ur(ms,e,t,r,n,a),!0;case"mouseover":return hs=Ur(hs,e,t,r,n,a),!0;case"pointerover":var l=a.pointerId;return dn.set(l,Ur(dn.get(l)||null,e,t,r,n,a)),!0;case"gotpointercapture":return l=a.pointerId,un.set(l,Ur(un.get(l)||null,e,t,r,n,a)),!0}return!1}function Yu(e){var t=zs(e.target);if(t!==null){var r=Gs(t);if(r!==null){if(t=r.tag,t===13){if(t=$u(r),t!==null){e.blockedOn=t,Zu(e.priority,function(){Gu(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ia(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ki(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);vi=n,r.target.dispatchEvent(n),vi=null}else return t=Mn(r),t!==null&&bo(t),e.blockedOn=r,!1;t.shift()}return!0}function Rc(e,t,r){ia(e)&&r.delete(t)}function Cf(){bi=!1,us!==null&&ia(us)&&(us=null),ms!==null&&ia(ms)&&(ms=null),hs!==null&&ia(hs)&&(hs=null),dn.forEach(Rc),un.forEach(Rc)}function Ir(e,t){e.blockedOn===t&&(e.blockedOn=null,bi||(bi=!0,mt.unstable_scheduleCallback(mt.unstable_NormalPriority,Cf)))}function mn(e){function t(a){return Ir(a,e)}if(0<Qn.length){Ir(Qn[0],e);for(var r=1;r<Qn.length;r++){var n=Qn[r];n.blockedOn===e&&(n.blockedOn=null)}}for(us!==null&&Ir(us,e),ms!==null&&Ir(ms,e),hs!==null&&Ir(hs,e),dn.forEach(t),un.forEach(t),r=0;r<as.length;r++)n=as[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<as.length&&(r=as[0],r.blockedOn===null);)Yu(r),r.blockedOn===null&&as.shift()}var fr=ts.ReactCurrentBatchConfig,Ca=!0;function Ef(e,t,r,n){var a=me,l=fr.transition;fr.transition=null;try{me=1,ko(e,t,r,n)}finally{me=a,fr.transition=l}}function _f(e,t,r,n){var a=me,l=fr.transition;fr.transition=null;try{me=4,ko(e,t,r,n)}finally{me=a,fr.transition=l}}function ko(e,t,r,n){if(Ca){var a=ki(e,t,r,n);if(a===null)Vl(e,t,n,Ea,r),zc(e,n);else if(Sf(a,e,t,r,n))n.stopPropagation();else if(zc(e,n),t&4&&-1<kf.indexOf(e)){for(;a!==null;){var l=Mn(a);if(l!==null&&Ju(l),l=ki(e,t,r,n),l===null&&Vl(e,t,n,Ea,r),l===a)break;a=l}a!==null&&n.stopPropagation()}else Vl(e,t,n,null,r)}}var Ea=null;function ki(e,t,r,n){if(Ea=null,e=jo(n),e=zs(e),e!==null)if(t=Gs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=$u(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ea=e,null}function em(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ff()){case wo:return 1;case Hu:return 4;case ka:case xf:return 16;case Wu:return 536870912;default:return 16}default:return 16}}var os=null,So=null,oa=null;function tm(){if(oa)return oa;var e,t=So,r=t.length,n,a="value"in os?os.value:os.textContent,l=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[l-n];n++);return oa=a.slice(e,1<n?1-n:void 0)}function ca(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Jn(){return!0}function Fc(){return!1}function pt(e){function t(r,n,a,l,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Jn:Fc,this.isPropagationStopped=Fc,this}return we(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Jn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Jn)},persist:function(){},isPersistent:Jn}),t}var Pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Co=pt(Pr),Tn=we({},Pr,{view:0,detail:0}),Pf=pt(Tn),Ll,zl,$r,tl=we({},Tn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$r&&($r&&e.type==="mousemove"?(Ll=e.screenX-$r.screenX,zl=e.screenY-$r.screenY):zl=Ll=0,$r=e),Ll)},movementY:function(e){return"movementY"in e?e.movementY:zl}}),Dc=pt(tl),Tf=we({},tl,{dataTransfer:0}),Mf=pt(Tf),Af=we({},Tn,{relatedTarget:0}),Rl=pt(Af),Lf=we({},Pr,{animationName:0,elapsedTime:0,pseudoElement:0}),zf=pt(Lf),Rf=we({},Pr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ff=pt(Rf),Df=we({},Pr,{data:0}),Oc=pt(Df),Of={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},If={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $f(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=If[e])?!!t[e]:!1}function Eo(){return $f}var Vf=we({},Tn,{key:function(e){if(e.key){var t=Of[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ca(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Uf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eo,charCode:function(e){return e.type==="keypress"?ca(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ca(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Bf=pt(Vf),qf=we({},tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uc=pt(qf),Hf=we({},Tn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eo}),Wf=pt(Hf),Kf=we({},Pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qf=pt(Kf),Jf=we({},tl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gf=pt(Jf),Xf=[9,13,27,32],_o=Xt&&"CompositionEvent"in window,Zr=null;Xt&&"documentMode"in document&&(Zr=document.documentMode);var Zf=Xt&&"TextEvent"in window&&!Zr,sm=Xt&&(!_o||Zr&&8<Zr&&11>=Zr),Ic=" ",$c=!1;function rm(e,t){switch(e){case"keyup":return Xf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sr=!1;function Yf(e,t){switch(e){case"compositionend":return nm(t);case"keypress":return t.which!==32?null:($c=!0,Ic);case"textInput":return e=t.data,e===Ic&&$c?null:e;default:return null}}function ex(e,t){if(sr)return e==="compositionend"||!_o&&rm(e,t)?(e=tm(),oa=So=os=null,sr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sm&&t.locale!=="ko"?null:t.data;default:return null}}var tx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!tx[e.type]:t==="textarea"}function am(e,t,r,n){Fu(n),t=_a(t,"onChange"),0<t.length&&(r=new Co("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Yr=null,hn=null;function sx(e){xm(e,0)}function sl(e){var t=ar(e);if(Pu(t))return e}function rx(e,t){if(e==="change")return t}var lm=!1;if(Xt){var Fl;if(Xt){var Dl="oninput"in document;if(!Dl){var Bc=document.createElement("div");Bc.setAttribute("oninput","return;"),Dl=typeof Bc.oninput=="function"}Fl=Dl}else Fl=!1;lm=Fl&&(!document.documentMode||9<document.documentMode)}function qc(){Yr&&(Yr.detachEvent("onpropertychange",im),hn=Yr=null)}function im(e){if(e.propertyName==="value"&&sl(hn)){var t=[];am(t,hn,e,jo(e)),Iu(sx,t)}}function nx(e,t,r){e==="focusin"?(qc(),Yr=t,hn=r,Yr.attachEvent("onpropertychange",im)):e==="focusout"&&qc()}function ax(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return sl(hn)}function lx(e,t){if(e==="click")return sl(t)}function ix(e,t){if(e==="input"||e==="change")return sl(t)}function ox(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var At=typeof Object.is=="function"?Object.is:ox;function pn(e,t){if(At(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!li.call(t,a)||!At(e[a],t[a]))return!1}return!0}function Hc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wc(e,t){var r=Hc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Hc(r)}}function om(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?om(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cm(){for(var e=window,t=wa();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=wa(e.document)}return t}function Po(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function cx(e){var t=cm(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&om(r.ownerDocument.documentElement,r)){if(n!==null&&Po(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,l=Math.min(n.start,a);n=n.end===void 0?l:Math.min(n.end,a),!e.extend&&l>n&&(a=n,n=l,l=a),a=Wc(r,l);var i=Wc(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dx=Xt&&"documentMode"in document&&11>=document.documentMode,rr=null,Si=null,en=null,Ci=!1;function Kc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ci||rr==null||rr!==wa(n)||(n=rr,"selectionStart"in n&&Po(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),en&&pn(en,n)||(en=n,n=_a(Si,"onSelect"),0<n.length&&(t=new Co("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=rr)))}function Gn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var nr={animationend:Gn("Animation","AnimationEnd"),animationiteration:Gn("Animation","AnimationIteration"),animationstart:Gn("Animation","AnimationStart"),transitionend:Gn("Transition","TransitionEnd")},Ol={},dm={};Xt&&(dm=document.createElement("div").style,"AnimationEvent"in window||(delete nr.animationend.animation,delete nr.animationiteration.animation,delete nr.animationstart.animation),"TransitionEvent"in window||delete nr.transitionend.transition);function rl(e){if(Ol[e])return Ol[e];if(!nr[e])return e;var t=nr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in dm)return Ol[e]=t[r];return e}var um=rl("animationend"),mm=rl("animationiteration"),hm=rl("animationstart"),pm=rl("transitionend"),fm=new Map,Qc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ss(e,t){fm.set(e,t),Js(t,[e])}for(var Ul=0;Ul<Qc.length;Ul++){var Il=Qc[Ul],ux=Il.toLowerCase(),mx=Il[0].toUpperCase()+Il.slice(1);Ss(ux,"on"+mx)}Ss(um,"onAnimationEnd");Ss(mm,"onAnimationIteration");Ss(hm,"onAnimationStart");Ss("dblclick","onDoubleClick");Ss("focusin","onFocus");Ss("focusout","onBlur");Ss(pm,"onTransitionEnd");yr("onMouseEnter",["mouseout","mouseover"]);yr("onMouseLeave",["mouseout","mouseover"]);yr("onPointerEnter",["pointerout","pointerover"]);yr("onPointerLeave",["pointerout","pointerover"]);Js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Js("onBeforeInput",["compositionend","keypress","textInput","paste"]);Js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jr));function Jc(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,uf(n,t,void 0,e),e.currentTarget=null}function xm(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var l=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==l&&a.isPropagationStopped())break e;Jc(a,o,d),l=c}else for(i=0;i<n.length;i++){if(o=n[i],c=o.instance,d=o.currentTarget,o=o.listener,c!==l&&a.isPropagationStopped())break e;Jc(a,o,d),l=c}}}if(ba)throw e=wi,ba=!1,wi=null,e}function fe(e,t){var r=t[Mi];r===void 0&&(r=t[Mi]=new Set);var n=e+"__bubble";r.has(n)||(gm(t,e,2,!1),r.add(n))}function $l(e,t,r){var n=0;t&&(n|=4),gm(r,e,n,t)}var Xn="_reactListening"+Math.random().toString(36).slice(2);function fn(e){if(!e[Xn]){e[Xn]=!0,ku.forEach(function(r){r!=="selectionchange"&&(hx.has(r)||$l(r,!1,e),$l(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xn]||(t[Xn]=!0,$l("selectionchange",!1,t))}}function gm(e,t,r,n){switch(em(t)){case 1:var a=Ef;break;case 4:a=_f;break;default:a=ko}r=a.bind(null,t,r,e),a=void 0,!ji||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Vl(e,t,r,n,a){var l=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;o!==null;){if(i=zs(o),i===null)return;if(c=i.tag,c===5||c===6){n=l=i;continue e}o=o.parentNode}}n=n.return}Iu(function(){var d=l,h=jo(r),f=[];e:{var g=fm.get(e);if(g!==void 0){var j=Co,v=e;switch(e){case"keypress":if(ca(r)===0)break e;case"keydown":case"keyup":j=Bf;break;case"focusin":v="focus",j=Rl;break;case"focusout":v="blur",j=Rl;break;case"beforeblur":case"afterblur":j=Rl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Dc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Mf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Wf;break;case um:case mm:case hm:j=zf;break;case pm:j=Qf;break;case"scroll":j=Pf;break;case"wheel":j=Gf;break;case"copy":case"cut":case"paste":j=Ff;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Uc}var w=(t&4)!==0,S=!w&&e==="scroll",x=w?g!==null?g+"Capture":null:g;w=[];for(var u=d,m;u!==null;){m=u;var y=m.stateNode;if(m.tag===5&&y!==null&&(m=y,x!==null&&(y=cn(u,x),y!=null&&w.push(xn(u,y,m)))),S)break;u=u.return}0<w.length&&(g=new j(g,v,null,r,h),f.push({event:g,listeners:w}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",g&&r!==vi&&(v=r.relatedTarget||r.fromElement)&&(zs(v)||v[Zt]))break e;if((j||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,j?(v=r.relatedTarget||r.toElement,j=d,v=v?zs(v):null,v!==null&&(S=Gs(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(j=null,v=d),j!==v)){if(w=Dc,y="onMouseLeave",x="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(w=Uc,y="onPointerLeave",x="onPointerEnter",u="pointer"),S=j==null?g:ar(j),m=v==null?g:ar(v),g=new w(y,u+"leave",j,r,h),g.target=S,g.relatedTarget=m,y=null,zs(h)===d&&(w=new w(x,u+"enter",v,r,h),w.target=m,w.relatedTarget=S,y=w),S=y,j&&v)t:{for(w=j,x=v,u=0,m=w;m;m=Zs(m))u++;for(m=0,y=x;y;y=Zs(y))m++;for(;0<u-m;)w=Zs(w),u--;for(;0<m-u;)x=Zs(x),m--;for(;u--;){if(w===x||x!==null&&w===x.alternate)break t;w=Zs(w),x=Zs(x)}w=null}else w=null;j!==null&&Gc(f,g,j,w,!1),v!==null&&S!==null&&Gc(f,S,v,w,!0)}}e:{if(g=d?ar(d):window,j=g.nodeName&&g.nodeName.toLowerCase(),j==="select"||j==="input"&&g.type==="file")var E=rx;else if(Vc(g))if(lm)E=ix;else{E=ax;var N=nx}else(j=g.nodeName)&&j.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(E=lx);if(E&&(E=E(e,d))){am(f,E,r,h);break e}N&&N(e,g,d),e==="focusout"&&(N=g._wrapperState)&&N.controlled&&g.type==="number"&&hi(g,"number",g.value)}switch(N=d?ar(d):window,e){case"focusin":(Vc(N)||N.contentEditable==="true")&&(rr=N,Si=d,en=null);break;case"focusout":en=Si=rr=null;break;case"mousedown":Ci=!0;break;case"contextmenu":case"mouseup":case"dragend":Ci=!1,Kc(f,r,h);break;case"selectionchange":if(dx)break;case"keydown":case"keyup":Kc(f,r,h)}var z;if(_o)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else sr?rm(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(sm&&r.locale!=="ko"&&(sr||C!=="onCompositionStart"?C==="onCompositionEnd"&&sr&&(z=tm()):(os=h,So="value"in os?os.value:os.textContent,sr=!0)),N=_a(d,C),0<N.length&&(C=new Oc(C,e,null,r,h),f.push({event:C,listeners:N}),z?C.data=z:(z=nm(r),z!==null&&(C.data=z)))),(z=Zf?Yf(e,r):ex(e,r))&&(d=_a(d,"onBeforeInput"),0<d.length&&(h=new Oc("onBeforeInput","beforeinput",null,r,h),f.push({event:h,listeners:d}),h.data=z))}xm(f,t)})}function xn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function _a(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=cn(e,r),l!=null&&n.unshift(xn(e,l,a)),l=cn(e,t),l!=null&&n.push(xn(e,l,a))),e=e.return}return n}function Zs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gc(e,t,r,n,a){for(var l=t._reactName,i=[];r!==null&&r!==n;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,a?(c=cn(r,l),c!=null&&i.unshift(xn(r,c,o))):a||(c=cn(r,l),c!=null&&i.push(xn(r,c,o)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var px=/\r\n?/g,fx=/\u0000|\uFFFD/g;function Xc(e){return(typeof e=="string"?e:""+e).replace(px,`
`).replace(fx,"")}function Zn(e,t,r){if(t=Xc(t),Xc(e)!==t&&r)throw Error(I(425))}function Pa(){}var Ei=null,_i=null;function Pi(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ti=typeof setTimeout=="function"?setTimeout:void 0,xx=typeof clearTimeout=="function"?clearTimeout:void 0,Zc=typeof Promise=="function"?Promise:void 0,gx=typeof queueMicrotask=="function"?queueMicrotask:typeof Zc<"u"?function(e){return Zc.resolve(null).then(e).catch(vx)}:Ti;function vx(e){setTimeout(function(){throw e})}function Bl(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),mn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);mn(t)}function ps(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Yc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Tr=Math.random().toString(36).slice(2),Ut="__reactFiber$"+Tr,gn="__reactProps$"+Tr,Zt="__reactContainer$"+Tr,Mi="__reactEvents$"+Tr,yx="__reactListeners$"+Tr,jx="__reactHandles$"+Tr;function zs(e){var t=e[Ut];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Zt]||r[Ut]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Yc(e);e!==null;){if(r=e[Ut])return r;e=Yc(e)}return t}e=r,r=e.parentNode}return null}function Mn(e){return e=e[Ut]||e[Zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ar(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function nl(e){return e[gn]||null}var Ai=[],lr=-1;function Cs(e){return{current:e}}function xe(e){0>lr||(e.current=Ai[lr],Ai[lr]=null,lr--)}function pe(e,t){lr++,Ai[lr]=e.current,e.current=t}var Ns={},qe=Cs(Ns),tt=Cs(!1),Vs=Ns;function jr(e,t){var r=e.type.contextTypes;if(!r)return Ns;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in r)a[l]=t[l];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function st(e){return e=e.childContextTypes,e!=null}function Ta(){xe(tt),xe(qe)}function ed(e,t,r){if(qe.current!==Ns)throw Error(I(168));pe(qe,t),pe(tt,r)}function vm(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(I(108,rf(e)||"Unknown",a));return we({},r,n)}function Ma(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ns,Vs=qe.current,pe(qe,e),pe(tt,tt.current),!0}function td(e,t,r){var n=e.stateNode;if(!n)throw Error(I(169));r?(e=vm(e,t,Vs),n.__reactInternalMemoizedMergedChildContext=e,xe(tt),xe(qe),pe(qe,e)):xe(tt),pe(tt,r)}var Wt=null,al=!1,ql=!1;function ym(e){Wt===null?Wt=[e]:Wt.push(e)}function wx(e){al=!0,ym(e)}function Es(){if(!ql&&Wt!==null){ql=!0;var e=0,t=me;try{var r=Wt;for(me=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Wt=null,al=!1}catch(a){throw Wt!==null&&(Wt=Wt.slice(e+1)),qu(wo,Es),a}finally{me=t,ql=!1}}return null}var ir=[],or=0,Aa=null,La=0,xt=[],gt=0,Bs=null,Kt=1,Qt="";function As(e,t){ir[or++]=La,ir[or++]=Aa,Aa=e,La=t}function jm(e,t,r){xt[gt++]=Kt,xt[gt++]=Qt,xt[gt++]=Bs,Bs=e;var n=Kt;e=Qt;var a=32-Pt(n)-1;n&=~(1<<a),r+=1;var l=32-Pt(t)+a;if(30<l){var i=a-a%5;l=(n&(1<<i)-1).toString(32),n>>=i,a-=i,Kt=1<<32-Pt(t)+a|r<<a|n,Qt=l+e}else Kt=1<<l|r<<a|n,Qt=e}function To(e){e.return!==null&&(As(e,1),jm(e,1,0))}function Mo(e){for(;e===Aa;)Aa=ir[--or],ir[or]=null,La=ir[--or],ir[or]=null;for(;e===Bs;)Bs=xt[--gt],xt[gt]=null,Qt=xt[--gt],xt[gt]=null,Kt=xt[--gt],xt[gt]=null}var dt=null,ct=null,ve=!1,_t=null;function wm(e,t){var r=yt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function sd(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,dt=e,ct=ps(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,dt=e,ct=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Bs!==null?{id:Kt,overflow:Qt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=yt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,dt=e,ct=null,!0):!1;default:return!1}}function Li(e){return(e.mode&1)!==0&&(e.flags&128)===0}function zi(e){if(ve){var t=ct;if(t){var r=t;if(!sd(e,t)){if(Li(e))throw Error(I(418));t=ps(r.nextSibling);var n=dt;t&&sd(e,t)?wm(n,r):(e.flags=e.flags&-4097|2,ve=!1,dt=e)}}else{if(Li(e))throw Error(I(418));e.flags=e.flags&-4097|2,ve=!1,dt=e}}}function rd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;dt=e}function Yn(e){if(e!==dt)return!1;if(!ve)return rd(e),ve=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Pi(e.type,e.memoizedProps)),t&&(t=ct)){if(Li(e))throw Nm(),Error(I(418));for(;t;)wm(e,t),t=ps(t.nextSibling)}if(rd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ct=ps(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ct=null}}else ct=dt?ps(e.stateNode.nextSibling):null;return!0}function Nm(){for(var e=ct;e;)e=ps(e.nextSibling)}function wr(){ct=dt=null,ve=!1}function Ao(e){_t===null?_t=[e]:_t.push(e)}var Nx=ts.ReactCurrentBatchConfig;function Vr(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(I(309));var n=r.stateNode}if(!n)throw Error(I(147,e));var a=n,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(i){var o=a.refs;i===null?delete o[l]:o[l]=i},t._stringRef=l,t)}if(typeof e!="string")throw Error(I(284));if(!r._owner)throw Error(I(290,e))}return e}function ea(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nd(e){var t=e._init;return t(e._payload)}function bm(e){function t(x,u){if(e){var m=x.deletions;m===null?(x.deletions=[u],x.flags|=16):m.push(u)}}function r(x,u){if(!e)return null;for(;u!==null;)t(x,u),u=u.sibling;return null}function n(x,u){for(x=new Map;u!==null;)u.key!==null?x.set(u.key,u):x.set(u.index,u),u=u.sibling;return x}function a(x,u){return x=vs(x,u),x.index=0,x.sibling=null,x}function l(x,u,m){return x.index=m,e?(m=x.alternate,m!==null?(m=m.index,m<u?(x.flags|=2,u):m):(x.flags|=2,u)):(x.flags|=1048576,u)}function i(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,u,m,y){return u===null||u.tag!==6?(u=Xl(m,x.mode,y),u.return=x,u):(u=a(u,m),u.return=x,u)}function c(x,u,m,y){var E=m.type;return E===tr?h(x,u,m.props.children,y,m.key):u!==null&&(u.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===rs&&nd(E)===u.type)?(y=a(u,m.props),y.ref=Vr(x,u,m),y.return=x,y):(y=xa(m.type,m.key,m.props,null,x.mode,y),y.ref=Vr(x,u,m),y.return=x,y)}function d(x,u,m,y){return u===null||u.tag!==4||u.stateNode.containerInfo!==m.containerInfo||u.stateNode.implementation!==m.implementation?(u=Zl(m,x.mode,y),u.return=x,u):(u=a(u,m.children||[]),u.return=x,u)}function h(x,u,m,y,E){return u===null||u.tag!==7?(u=Us(m,x.mode,y,E),u.return=x,u):(u=a(u,m),u.return=x,u)}function f(x,u,m){if(typeof u=="string"&&u!==""||typeof u=="number")return u=Xl(""+u,x.mode,m),u.return=x,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case Bn:return m=xa(u.type,u.key,u.props,null,x.mode,m),m.ref=Vr(x,null,u),m.return=x,m;case er:return u=Zl(u,x.mode,m),u.return=x,u;case rs:var y=u._init;return f(x,y(u._payload),m)}if(Kr(u)||Dr(u))return u=Us(u,x.mode,m,null),u.return=x,u;ea(x,u)}return null}function g(x,u,m,y){var E=u!==null?u.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return E!==null?null:o(x,u,""+m,y);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Bn:return m.key===E?c(x,u,m,y):null;case er:return m.key===E?d(x,u,m,y):null;case rs:return E=m._init,g(x,u,E(m._payload),y)}if(Kr(m)||Dr(m))return E!==null?null:h(x,u,m,y,null);ea(x,m)}return null}function j(x,u,m,y,E){if(typeof y=="string"&&y!==""||typeof y=="number")return x=x.get(m)||null,o(u,x,""+y,E);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Bn:return x=x.get(y.key===null?m:y.key)||null,c(u,x,y,E);case er:return x=x.get(y.key===null?m:y.key)||null,d(u,x,y,E);case rs:var N=y._init;return j(x,u,m,N(y._payload),E)}if(Kr(y)||Dr(y))return x=x.get(m)||null,h(u,x,y,E,null);ea(u,y)}return null}function v(x,u,m,y){for(var E=null,N=null,z=u,C=u=0,D=null;z!==null&&C<m.length;C++){z.index>C?(D=z,z=null):D=z.sibling;var k=g(x,z,m[C],y);if(k===null){z===null&&(z=D);break}e&&z&&k.alternate===null&&t(x,z),u=l(k,u,C),N===null?E=k:N.sibling=k,N=k,z=D}if(C===m.length)return r(x,z),ve&&As(x,C),E;if(z===null){for(;C<m.length;C++)z=f(x,m[C],y),z!==null&&(u=l(z,u,C),N===null?E=z:N.sibling=z,N=z);return ve&&As(x,C),E}for(z=n(x,z);C<m.length;C++)D=j(z,x,C,m[C],y),D!==null&&(e&&D.alternate!==null&&z.delete(D.key===null?C:D.key),u=l(D,u,C),N===null?E=D:N.sibling=D,N=D);return e&&z.forEach(function(B){return t(x,B)}),ve&&As(x,C),E}function w(x,u,m,y){var E=Dr(m);if(typeof E!="function")throw Error(I(150));if(m=E.call(m),m==null)throw Error(I(151));for(var N=E=null,z=u,C=u=0,D=null,k=m.next();z!==null&&!k.done;C++,k=m.next()){z.index>C?(D=z,z=null):D=z.sibling;var B=g(x,z,k.value,y);if(B===null){z===null&&(z=D);break}e&&z&&B.alternate===null&&t(x,z),u=l(B,u,C),N===null?E=B:N.sibling=B,N=B,z=D}if(k.done)return r(x,z),ve&&As(x,C),E;if(z===null){for(;!k.done;C++,k=m.next())k=f(x,k.value,y),k!==null&&(u=l(k,u,C),N===null?E=k:N.sibling=k,N=k);return ve&&As(x,C),E}for(z=n(x,z);!k.done;C++,k=m.next())k=j(z,x,C,k.value,y),k!==null&&(e&&k.alternate!==null&&z.delete(k.key===null?C:k.key),u=l(k,u,C),N===null?E=k:N.sibling=k,N=k);return e&&z.forEach(function(R){return t(x,R)}),ve&&As(x,C),E}function S(x,u,m,y){if(typeof m=="object"&&m!==null&&m.type===tr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Bn:e:{for(var E=m.key,N=u;N!==null;){if(N.key===E){if(E=m.type,E===tr){if(N.tag===7){r(x,N.sibling),u=a(N,m.props.children),u.return=x,x=u;break e}}else if(N.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===rs&&nd(E)===N.type){r(x,N.sibling),u=a(N,m.props),u.ref=Vr(x,N,m),u.return=x,x=u;break e}r(x,N);break}else t(x,N);N=N.sibling}m.type===tr?(u=Us(m.props.children,x.mode,y,m.key),u.return=x,x=u):(y=xa(m.type,m.key,m.props,null,x.mode,y),y.ref=Vr(x,u,m),y.return=x,x=y)}return i(x);case er:e:{for(N=m.key;u!==null;){if(u.key===N)if(u.tag===4&&u.stateNode.containerInfo===m.containerInfo&&u.stateNode.implementation===m.implementation){r(x,u.sibling),u=a(u,m.children||[]),u.return=x,x=u;break e}else{r(x,u);break}else t(x,u);u=u.sibling}u=Zl(m,x.mode,y),u.return=x,x=u}return i(x);case rs:return N=m._init,S(x,u,N(m._payload),y)}if(Kr(m))return v(x,u,m,y);if(Dr(m))return w(x,u,m,y);ea(x,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,u!==null&&u.tag===6?(r(x,u.sibling),u=a(u,m),u.return=x,x=u):(r(x,u),u=Xl(m,x.mode,y),u.return=x,x=u),i(x)):r(x,u)}return S}var Nr=bm(!0),km=bm(!1),za=Cs(null),Ra=null,cr=null,Lo=null;function zo(){Lo=cr=Ra=null}function Ro(e){var t=za.current;xe(za),e._currentValue=t}function Ri(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function xr(e,t){Ra=e,Lo=cr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(et=!0),e.firstContext=null)}function bt(e){var t=e._currentValue;if(Lo!==e)if(e={context:e,memoizedValue:t,next:null},cr===null){if(Ra===null)throw Error(I(308));cr=e,Ra.dependencies={lanes:0,firstContext:e}}else cr=cr.next=e;return t}var Rs=null;function Fo(e){Rs===null?Rs=[e]:Rs.push(e)}function Sm(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Fo(t)):(r.next=a.next,a.next=r),t.interleaved=r,Yt(e,n)}function Yt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ns=!1;function Do(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fs(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ce&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Yt(e,r)}return a=n.interleaved,a===null?(t.next=t,Fo(n)):(t.next=a.next,a.next=t),n.interleaved=t,Yt(e,r)}function da(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,No(e,r)}}function ad(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?a=l=i:l=l.next=i,r=r.next}while(r!==null);l===null?a=l=t:l=l.next=t}else a=l=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Fa(e,t,r,n){var a=e.updateQueue;ns=!1;var l=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,d=c.next;c.next=null,i===null?l=d:i.next=d,i=c;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==i&&(o===null?h.firstBaseUpdate=d:o.next=d,h.lastBaseUpdate=c))}if(l!==null){var f=a.baseState;i=0,h=d=c=null,o=l;do{var g=o.lane,j=o.eventTime;if((n&g)===g){h!==null&&(h=h.next={eventTime:j,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,w=o;switch(g=t,j=r,w.tag){case 1:if(v=w.payload,typeof v=="function"){f=v.call(j,f,g);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,g=typeof v=="function"?v.call(j,f,g):v,g==null)break e;f=we({},f,g);break e;case 2:ns=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,g=a.effects,g===null?a.effects=[o]:g.push(o))}else j={eventTime:j,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(d=h=j,c=f):h=h.next=j,i|=g;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;g=o,o=g.next,g.next=null,a.lastBaseUpdate=g,a.shared.pending=null}}while(!0);if(h===null&&(c=f),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=h,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);Hs|=i,e.lanes=i,e.memoizedState=f}}function ld(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(I(191,a));a.call(n)}}}var An={},$t=Cs(An),vn=Cs(An),yn=Cs(An);function Fs(e){if(e===An)throw Error(I(174));return e}function Oo(e,t){switch(pe(yn,t),pe(vn,e),pe($t,An),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fi(t,e)}xe($t),pe($t,t)}function br(){xe($t),xe(vn),xe(yn)}function Em(e){Fs(yn.current);var t=Fs($t.current),r=fi(t,e.type);t!==r&&(pe(vn,e),pe($t,r))}function Uo(e){vn.current===e&&(xe($t),xe(vn))}var ye=Cs(0);function Da(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hl=[];function Io(){for(var e=0;e<Hl.length;e++)Hl[e]._workInProgressVersionPrimary=null;Hl.length=0}var ua=ts.ReactCurrentDispatcher,Wl=ts.ReactCurrentBatchConfig,qs=0,je=null,Ee=null,Te=null,Oa=!1,tn=!1,jn=0,bx=0;function Ue(){throw Error(I(321))}function $o(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!At(e[r],t[r]))return!1;return!0}function Vo(e,t,r,n,a,l){if(qs=l,je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ua.current=e===null||e.memoizedState===null?Ex:_x,e=r(n,a),tn){l=0;do{if(tn=!1,jn=0,25<=l)throw Error(I(301));l+=1,Te=Ee=null,t.updateQueue=null,ua.current=Px,e=r(n,a)}while(tn)}if(ua.current=Ua,t=Ee!==null&&Ee.next!==null,qs=0,Te=Ee=je=null,Oa=!1,t)throw Error(I(300));return e}function Bo(){var e=jn!==0;return jn=0,e}function Ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?je.memoizedState=Te=e:Te=Te.next=e,Te}function kt(){if(Ee===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var t=Te===null?je.memoizedState:Te.next;if(t!==null)Te=t,Ee=e;else{if(e===null)throw Error(I(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Te===null?je.memoizedState=Te=e:Te=Te.next=e}return Te}function wn(e,t){return typeof t=="function"?t(e):t}function Kl(e){var t=kt(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var n=Ee,a=n.baseQueue,l=r.pending;if(l!==null){if(a!==null){var i=a.next;a.next=l.next,l.next=i}n.baseQueue=a=l,r.pending=null}if(a!==null){l=a.next,n=n.baseState;var o=i=null,c=null,d=l;do{var h=d.lane;if((qs&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=f,i=n):c=c.next=f,je.lanes|=h,Hs|=h}d=d.next}while(d!==null&&d!==l);c===null?i=n:c.next=o,At(n,t.memoizedState)||(et=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do l=a.lane,je.lanes|=l,Hs|=l,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ql(e){var t=kt(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,l=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do l=e(l,i.action),i=i.next;while(i!==a);At(l,t.memoizedState)||(et=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),r.lastRenderedState=l}return[l,n]}function _m(){}function Pm(e,t){var r=je,n=kt(),a=t(),l=!At(n.memoizedState,a);if(l&&(n.memoizedState=a,et=!0),n=n.queue,qo(Am.bind(null,r,n,e),[e]),n.getSnapshot!==t||l||Te!==null&&Te.memoizedState.tag&1){if(r.flags|=2048,Nn(9,Mm.bind(null,r,n,a,t),void 0,null),Ae===null)throw Error(I(349));qs&30||Tm(r,t,a)}return a}function Tm(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Mm(e,t,r,n){t.value=r,t.getSnapshot=n,Lm(t)&&zm(e)}function Am(e,t,r){return r(function(){Lm(t)&&zm(e)})}function Lm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!At(e,r)}catch{return!0}}function zm(e){var t=Yt(e,1);t!==null&&Tt(t,e,1,-1)}function id(e){var t=Ot();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:e},t.queue=e,e=e.dispatch=Cx.bind(null,je,e),[t.memoizedState,e]}function Nn(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Rm(){return kt().memoizedState}function ma(e,t,r,n){var a=Ot();je.flags|=e,a.memoizedState=Nn(1|t,r,void 0,n===void 0?null:n)}function ll(e,t,r,n){var a=kt();n=n===void 0?null:n;var l=void 0;if(Ee!==null){var i=Ee.memoizedState;if(l=i.destroy,n!==null&&$o(n,i.deps)){a.memoizedState=Nn(t,r,l,n);return}}je.flags|=e,a.memoizedState=Nn(1|t,r,l,n)}function od(e,t){return ma(8390656,8,e,t)}function qo(e,t){return ll(2048,8,e,t)}function Fm(e,t){return ll(4,2,e,t)}function Dm(e,t){return ll(4,4,e,t)}function Om(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Um(e,t,r){return r=r!=null?r.concat([e]):null,ll(4,4,Om.bind(null,t,e),r)}function Ho(){}function Im(e,t){var r=kt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$o(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function $m(e,t){var r=kt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$o(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Vm(e,t,r){return qs&21?(At(r,t)||(r=Ku(),je.lanes|=r,Hs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,et=!0),e.memoizedState=r)}function kx(e,t){var r=me;me=r!==0&&4>r?r:4,e(!0);var n=Wl.transition;Wl.transition={};try{e(!1),t()}finally{me=r,Wl.transition=n}}function Bm(){return kt().memoizedState}function Sx(e,t,r){var n=gs(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},qm(e))Hm(t,r);else if(r=Sm(e,t,r,n),r!==null){var a=Je();Tt(r,e,n,a),Wm(r,t,n)}}function Cx(e,t,r){var n=gs(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(qm(e))Hm(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,o=l(i,r);if(a.hasEagerState=!0,a.eagerState=o,At(o,i)){var c=t.interleaved;c===null?(a.next=a,Fo(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=Sm(e,t,a,n),r!==null&&(a=Je(),Tt(r,e,n,a),Wm(r,t,n))}}function qm(e){var t=e.alternate;return e===je||t!==null&&t===je}function Hm(e,t){tn=Oa=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Wm(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,No(e,r)}}var Ua={readContext:bt,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useInsertionEffect:Ue,useLayoutEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useMutableSource:Ue,useSyncExternalStore:Ue,useId:Ue,unstable_isNewReconciler:!1},Ex={readContext:bt,useCallback:function(e,t){return Ot().memoizedState=[e,t===void 0?null:t],e},useContext:bt,useEffect:od,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ma(4194308,4,Om.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ma(4194308,4,e,t)},useInsertionEffect:function(e,t){return ma(4,2,e,t)},useMemo:function(e,t){var r=Ot();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ot();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Sx.bind(null,je,e),[n.memoizedState,e]},useRef:function(e){var t=Ot();return e={current:e},t.memoizedState=e},useState:id,useDebugValue:Ho,useDeferredValue:function(e){return Ot().memoizedState=e},useTransition:function(){var e=id(!1),t=e[0];return e=kx.bind(null,e[1]),Ot().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=je,a=Ot();if(ve){if(r===void 0)throw Error(I(407));r=r()}else{if(r=t(),Ae===null)throw Error(I(349));qs&30||Tm(n,t,r)}a.memoizedState=r;var l={value:r,getSnapshot:t};return a.queue=l,od(Am.bind(null,n,l,e),[e]),n.flags|=2048,Nn(9,Mm.bind(null,n,l,r,t),void 0,null),r},useId:function(){var e=Ot(),t=Ae.identifierPrefix;if(ve){var r=Qt,n=Kt;r=(n&~(1<<32-Pt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=jn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=bx++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_x={readContext:bt,useCallback:Im,useContext:bt,useEffect:qo,useImperativeHandle:Um,useInsertionEffect:Fm,useLayoutEffect:Dm,useMemo:$m,useReducer:Kl,useRef:Rm,useState:function(){return Kl(wn)},useDebugValue:Ho,useDeferredValue:function(e){var t=kt();return Vm(t,Ee.memoizedState,e)},useTransition:function(){var e=Kl(wn)[0],t=kt().memoizedState;return[e,t]},useMutableSource:_m,useSyncExternalStore:Pm,useId:Bm,unstable_isNewReconciler:!1},Px={readContext:bt,useCallback:Im,useContext:bt,useEffect:qo,useImperativeHandle:Um,useInsertionEffect:Fm,useLayoutEffect:Dm,useMemo:$m,useReducer:Ql,useRef:Rm,useState:function(){return Ql(wn)},useDebugValue:Ho,useDeferredValue:function(e){var t=kt();return Ee===null?t.memoizedState=e:Vm(t,Ee.memoizedState,e)},useTransition:function(){var e=Ql(wn)[0],t=kt().memoizedState;return[e,t]},useMutableSource:_m,useSyncExternalStore:Pm,useId:Bm,unstable_isNewReconciler:!1};function Ct(e,t){if(e&&e.defaultProps){t=we({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Fi(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:we({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var il={isMounted:function(e){return(e=e._reactInternals)?Gs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Je(),a=gs(e),l=Jt(n,a);l.payload=t,r!=null&&(l.callback=r),t=fs(e,l,a),t!==null&&(Tt(t,e,a,n),da(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Je(),a=gs(e),l=Jt(n,a);l.tag=1,l.payload=t,r!=null&&(l.callback=r),t=fs(e,l,a),t!==null&&(Tt(t,e,a,n),da(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Je(),n=gs(e),a=Jt(r,n);a.tag=2,t!=null&&(a.callback=t),t=fs(e,a,n),t!==null&&(Tt(t,e,n,r),da(t,e,n))}};function cd(e,t,r,n,a,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,l,i):t.prototype&&t.prototype.isPureReactComponent?!pn(r,n)||!pn(a,l):!0}function Km(e,t,r){var n=!1,a=Ns,l=t.contextType;return typeof l=="object"&&l!==null?l=bt(l):(a=st(t)?Vs:qe.current,n=t.contextTypes,l=(n=n!=null)?jr(e,a):Ns),t=new t(r,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=il,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function dd(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&il.enqueueReplaceState(t,t.state,null)}function Di(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Do(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=bt(l):(l=st(t)?Vs:qe.current,a.context=jr(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Fi(e,t,l,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&il.enqueueReplaceState(a,a.state,null),Fa(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function kr(e,t){try{var r="",n=t;do r+=sf(n),n=n.return;while(n);var a=r}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function Jl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Oi(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Tx=typeof WeakMap=="function"?WeakMap:Map;function Qm(e,t,r){r=Jt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){$a||($a=!0,Qi=n),Oi(e,t)},r}function Jm(e,t,r){r=Jt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Oi(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){Oi(e,t),typeof n!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function ud(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Tx;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=qx.bind(null,e,t,r),t.then(e,e))}function md(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hd(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Jt(-1,1),t.tag=2,fs(r,t,1))),r.lanes|=1),e)}var Mx=ts.ReactCurrentOwner,et=!1;function Ke(e,t,r,n){t.child=e===null?km(t,null,r,n):Nr(t,e.child,r,n)}function pd(e,t,r,n,a){r=r.render;var l=t.ref;return xr(t,a),n=Vo(e,t,r,n,l,a),r=Bo(),e!==null&&!et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,es(e,t,a)):(ve&&r&&To(t),t.flags|=1,Ke(e,t,n,a),t.child)}function fd(e,t,r,n,a){if(e===null){var l=r.type;return typeof l=="function"&&!Yo(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=l,Gm(e,t,l,n,a)):(e=xa(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var i=l.memoizedProps;if(r=r.compare,r=r!==null?r:pn,r(i,n)&&e.ref===t.ref)return es(e,t,a)}return t.flags|=1,e=vs(l,n),e.ref=t.ref,e.return=t,t.child=e}function Gm(e,t,r,n,a){if(e!==null){var l=e.memoizedProps;if(pn(l,n)&&e.ref===t.ref)if(et=!1,t.pendingProps=n=l,(e.lanes&a)!==0)e.flags&131072&&(et=!0);else return t.lanes=e.lanes,es(e,t,a)}return Ui(e,t,r,n,a)}function Xm(e,t,r){var n=t.pendingProps,a=n.children,l=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(ur,ot),ot|=r;else{if(!(r&1073741824))return e=l!==null?l.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pe(ur,ot),ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=l!==null?l.baseLanes:r,pe(ur,ot),ot|=n}else l!==null?(n=l.baseLanes|r,t.memoizedState=null):n=r,pe(ur,ot),ot|=n;return Ke(e,t,a,r),t.child}function Zm(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ui(e,t,r,n,a){var l=st(r)?Vs:qe.current;return l=jr(t,l),xr(t,a),r=Vo(e,t,r,n,l,a),n=Bo(),e!==null&&!et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,es(e,t,a)):(ve&&n&&To(t),t.flags|=1,Ke(e,t,r,a),t.child)}function xd(e,t,r,n,a){if(st(r)){var l=!0;Ma(t)}else l=!1;if(xr(t,a),t.stateNode===null)ha(e,t),Km(t,r,n),Di(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var c=i.context,d=r.contextType;typeof d=="object"&&d!==null?d=bt(d):(d=st(r)?Vs:qe.current,d=jr(t,d));var h=r.getDerivedStateFromProps,f=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==n||c!==d)&&dd(t,i,n,d),ns=!1;var g=t.memoizedState;i.state=g,Fa(t,n,i,a),c=t.memoizedState,o!==n||g!==c||tt.current||ns?(typeof h=="function"&&(Fi(t,r,h,n),c=t.memoizedState),(o=ns||cd(t,r,o,n,g,c,d))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=d,n=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Cm(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:Ct(t.type,o),i.props=d,f=t.pendingProps,g=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=bt(c):(c=st(r)?Vs:qe.current,c=jr(t,c));var j=r.getDerivedStateFromProps;(h=typeof j=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==f||g!==c)&&dd(t,i,n,c),ns=!1,g=t.memoizedState,i.state=g,Fa(t,n,i,a);var v=t.memoizedState;o!==f||g!==v||tt.current||ns?(typeof j=="function"&&(Fi(t,r,j,n),v=t.memoizedState),(d=ns||cd(t,r,d,n,g,v,c)||!1)?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,v,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,v,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),i.props=n,i.state=v,i.context=c,n=d):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),n=!1)}return Ii(e,t,r,n,l,a)}function Ii(e,t,r,n,a,l){Zm(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&td(t,r,!1),es(e,t,l);n=t.stateNode,Mx.current=t;var o=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Nr(t,e.child,null,l),t.child=Nr(t,null,o,l)):Ke(e,t,o,l),t.memoizedState=n.state,a&&td(t,r,!0),t.child}function Ym(e){var t=e.stateNode;t.pendingContext?ed(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ed(e,t.context,!1),Oo(e,t.containerInfo)}function gd(e,t,r,n,a){return wr(),Ao(a),t.flags|=256,Ke(e,t,r,n),t.child}var $i={dehydrated:null,treeContext:null,retryLane:0};function Vi(e){return{baseLanes:e,cachePool:null,transitions:null}}function eh(e,t,r){var n=t.pendingProps,a=ye.current,l=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),pe(ye,a&1),e===null)return zi(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,l?(n=t.mode,l=t.child,i={mode:"hidden",children:i},!(n&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=dl(i,n,0,null),e=Us(e,n,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Vi(r),t.memoizedState=$i,e):Wo(t,i));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return Ax(e,t,i,n,o,a,r);if(l){l=n.fallback,i=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=vs(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?l=vs(o,l):(l=Us(l,i,r,null),l.flags|=2),l.return=t,n.return=t,n.sibling=l,t.child=n,n=l,l=t.child,i=e.child.memoizedState,i=i===null?Vi(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~r,t.memoizedState=$i,n}return l=e.child,e=l.sibling,n=vs(l,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Wo(e,t){return t=dl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ta(e,t,r,n){return n!==null&&Ao(n),Nr(t,e.child,null,r),e=Wo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ax(e,t,r,n,a,l,i){if(r)return t.flags&256?(t.flags&=-257,n=Jl(Error(I(422))),ta(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=n.fallback,a=t.mode,n=dl({mode:"visible",children:n.children},a,0,null),l=Us(l,a,i,null),l.flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,t.mode&1&&Nr(t,e.child,null,i),t.child.memoizedState=Vi(i),t.memoizedState=$i,l);if(!(t.mode&1))return ta(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,l=Error(I(419)),n=Jl(l,n,void 0),ta(e,t,i,n)}if(o=(i&e.childLanes)!==0,et||o){if(n=Ae,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,Yt(e,a),Tt(n,e,a,-1))}return Zo(),n=Jl(Error(I(421))),ta(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Hx.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,ct=ps(a.nextSibling),dt=t,ve=!0,_t=null,e!==null&&(xt[gt++]=Kt,xt[gt++]=Qt,xt[gt++]=Bs,Kt=e.id,Qt=e.overflow,Bs=t),t=Wo(t,n.children),t.flags|=4096,t)}function vd(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Ri(e.return,t,r)}function Gl(e,t,r,n,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=r,l.tailMode=a)}function th(e,t,r){var n=t.pendingProps,a=n.revealOrder,l=n.tail;if(Ke(e,t,n.children,r),n=ye.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vd(e,r,t);else if(e.tag===19)vd(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(pe(ye,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Da(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Gl(t,!1,a,r,l);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Da(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Gl(t,!0,r,null,l);break;case"together":Gl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ha(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function es(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Hs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,r=vs(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=vs(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Lx(e,t,r){switch(t.tag){case 3:Ym(t),wr();break;case 5:Em(t);break;case 1:st(t.type)&&Ma(t);break;case 4:Oo(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;pe(za,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(pe(ye,ye.current&1),t.flags|=128,null):r&t.child.childLanes?eh(e,t,r):(pe(ye,ye.current&1),e=es(e,t,r),e!==null?e.sibling:null);pe(ye,ye.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return th(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),pe(ye,ye.current),n)break;return null;case 22:case 23:return t.lanes=0,Xm(e,t,r)}return es(e,t,r)}var sh,Bi,rh,nh;sh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Bi=function(){};rh=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Fs($t.current);var l=null;switch(r){case"input":a=ui(e,a),n=ui(e,n),l=[];break;case"select":a=we({},a,{value:void 0}),n=we({},n,{value:void 0}),l=[];break;case"textarea":a=pi(e,a),n=pi(e,n),l=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Pa)}xi(r,n);var i;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var o=a[d];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ln.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in n){var c=n[d];if(o=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(l||(l=[]),l.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(l=l||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ln.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&fe("scroll",e),l||o===c||(l=[])):(l=l||[]).push(d,c))}r&&(l=l||[]).push("style",r);var d=l;(t.updateQueue=d)&&(t.flags|=4)}};nh=function(e,t,r,n){r!==n&&(t.flags|=4)};function Br(e,t){if(!ve)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ie(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function zx(e,t,r){var n=t.pendingProps;switch(Mo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(t),null;case 1:return st(t.type)&&Ta(),Ie(t),null;case 3:return n=t.stateNode,br(),xe(tt),xe(qe),Io(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Yn(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_t!==null&&(Xi(_t),_t=null))),Bi(e,t),Ie(t),null;case 5:Uo(t);var a=Fs(yn.current);if(r=t.type,e!==null&&t.stateNode!=null)rh(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(I(166));return Ie(t),null}if(e=Fs($t.current),Yn(t)){n=t.stateNode,r=t.type;var l=t.memoizedProps;switch(n[Ut]=t,n[gn]=l,e=(t.mode&1)!==0,r){case"dialog":fe("cancel",n),fe("close",n);break;case"iframe":case"object":case"embed":fe("load",n);break;case"video":case"audio":for(a=0;a<Jr.length;a++)fe(Jr[a],n);break;case"source":fe("error",n);break;case"img":case"image":case"link":fe("error",n),fe("load",n);break;case"details":fe("toggle",n);break;case"input":Ec(n,l),fe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},fe("invalid",n);break;case"textarea":Pc(n,l),fe("invalid",n)}xi(r,l),a=null;for(var i in l)if(l.hasOwnProperty(i)){var o=l[i];i==="children"?typeof o=="string"?n.textContent!==o&&(l.suppressHydrationWarning!==!0&&Zn(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&Zn(n.textContent,o,e),a=["children",""+o]):ln.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&fe("scroll",n)}switch(r){case"input":qn(n),_c(n,l,!0);break;case"textarea":qn(n),Tc(n);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(n.onclick=Pa)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Au(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Ut]=t,e[gn]=n,sh(e,t,!1,!1),t.stateNode=e;e:{switch(i=gi(r,n),r){case"dialog":fe("cancel",e),fe("close",e),a=n;break;case"iframe":case"object":case"embed":fe("load",e),a=n;break;case"video":case"audio":for(a=0;a<Jr.length;a++)fe(Jr[a],e);a=n;break;case"source":fe("error",e),a=n;break;case"img":case"image":case"link":fe("error",e),fe("load",e),a=n;break;case"details":fe("toggle",e),a=n;break;case"input":Ec(e,n),a=ui(e,n),fe("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=we({},n,{value:void 0}),fe("invalid",e);break;case"textarea":Pc(e,n),a=pi(e,n),fe("invalid",e);break;default:a=n}xi(r,a),o=a;for(l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="style"?Ru(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Lu(e,c)):l==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&on(e,c):typeof c=="number"&&on(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ln.hasOwnProperty(l)?c!=null&&l==="onScroll"&&fe("scroll",e):c!=null&&xo(e,l,c,i))}switch(r){case"input":qn(e),_c(e,n,!1);break;case"textarea":qn(e),Tc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ws(n.value));break;case"select":e.multiple=!!n.multiple,l=n.value,l!=null?mr(e,!!n.multiple,l,!1):n.defaultValue!=null&&mr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Pa)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ie(t),null;case 6:if(e&&t.stateNode!=null)nh(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(I(166));if(r=Fs(yn.current),Fs($t.current),Yn(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ut]=t,(l=n.nodeValue!==r)&&(e=dt,e!==null))switch(e.tag){case 3:Zn(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zn(n.nodeValue,r,(e.mode&1)!==0)}l&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ut]=t,t.stateNode=n}return Ie(t),null;case 13:if(xe(ye),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ve&&ct!==null&&t.mode&1&&!(t.flags&128))Nm(),wr(),t.flags|=98560,l=!1;else if(l=Yn(t),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(I(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(I(317));l[Ut]=t}else wr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ie(t),l=!1}else _t!==null&&(Xi(_t),_t=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ye.current&1?_e===0&&(_e=3):Zo())),t.updateQueue!==null&&(t.flags|=4),Ie(t),null);case 4:return br(),Bi(e,t),e===null&&fn(t.stateNode.containerInfo),Ie(t),null;case 10:return Ro(t.type._context),Ie(t),null;case 17:return st(t.type)&&Ta(),Ie(t),null;case 19:if(xe(ye),l=t.memoizedState,l===null)return Ie(t),null;if(n=(t.flags&128)!==0,i=l.rendering,i===null)if(n)Br(l,!1);else{if(_e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Da(e),i!==null){for(t.flags|=128,Br(l,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)l=r,e=n,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return pe(ye,ye.current&1|2),t.child}e=e.sibling}l.tail!==null&&be()>Sr&&(t.flags|=128,n=!0,Br(l,!1),t.lanes=4194304)}else{if(!n)if(e=Da(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Br(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!ve)return Ie(t),null}else 2*be()-l.renderingStartTime>Sr&&r!==1073741824&&(t.flags|=128,n=!0,Br(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(r=l.last,r!==null?r.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=be(),t.sibling=null,r=ye.current,pe(ye,n?r&1|2:r&1),t):(Ie(t),null);case 22:case 23:return Xo(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ot&1073741824&&(Ie(t),t.subtreeFlags&6&&(t.flags|=8192)):Ie(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function Rx(e,t){switch(Mo(t),t.tag){case 1:return st(t.type)&&Ta(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return br(),xe(tt),xe(qe),Io(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Uo(t),null;case 13:if(xe(ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));wr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(ye),null;case 4:return br(),null;case 10:return Ro(t.type._context),null;case 22:case 23:return Xo(),null;case 24:return null;default:return null}}var sa=!1,$e=!1,Fx=typeof WeakSet=="function"?WeakSet:Set,X=null;function dr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ne(e,t,n)}else r.current=null}function qi(e,t,r){try{r()}catch(n){Ne(e,t,n)}}var yd=!1;function Dx(e,t){if(Ei=Ca,e=cm(),Po(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var i=0,o=-1,c=-1,d=0,h=0,f=e,g=null;t:for(;;){for(var j;f!==r||a!==0&&f.nodeType!==3||(o=i+a),f!==l||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(j=f.firstChild)!==null;)g=f,f=j;for(;;){if(f===e)break t;if(g===r&&++d===a&&(o=i),g===l&&++h===n&&(c=i),(j=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=j}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(_i={focusedElem:e,selectionRange:r},Ca=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,S=v.memoizedState,x=t.stateNode,u=x.getSnapshotBeforeUpdate(t.elementType===t.type?w:Ct(t.type,w),S);x.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(y){Ne(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return v=yd,yd=!1,v}function sn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&qi(t,r,l)}a=a.next}while(a!==n)}}function ol(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Hi(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function ah(e){var t=e.alternate;t!==null&&(e.alternate=null,ah(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ut],delete t[gn],delete t[Mi],delete t[yx],delete t[jx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lh(e){return e.tag===5||e.tag===3||e.tag===4}function jd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wi(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Pa));else if(n!==4&&(e=e.child,e!==null))for(Wi(e,t,r),e=e.sibling;e!==null;)Wi(e,t,r),e=e.sibling}function Ki(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ki(e,t,r),e=e.sibling;e!==null;)Ki(e,t,r),e=e.sibling}var ze=null,Et=!1;function ss(e,t,r){for(r=r.child;r!==null;)ih(e,t,r),r=r.sibling}function ih(e,t,r){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(el,r)}catch{}switch(r.tag){case 5:$e||dr(r,t);case 6:var n=ze,a=Et;ze=null,ss(e,t,r),ze=n,Et=a,ze!==null&&(Et?(e=ze,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ze.removeChild(r.stateNode));break;case 18:ze!==null&&(Et?(e=ze,r=r.stateNode,e.nodeType===8?Bl(e.parentNode,r):e.nodeType===1&&Bl(e,r),mn(e)):Bl(ze,r.stateNode));break;case 4:n=ze,a=Et,ze=r.stateNode.containerInfo,Et=!0,ss(e,t,r),ze=n,Et=a;break;case 0:case 11:case 14:case 15:if(!$e&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var l=a,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&qi(r,t,i),a=a.next}while(a!==n)}ss(e,t,r);break;case 1:if(!$e&&(dr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Ne(r,t,o)}ss(e,t,r);break;case 21:ss(e,t,r);break;case 22:r.mode&1?($e=(n=$e)||r.memoizedState!==null,ss(e,t,r),$e=n):ss(e,t,r);break;default:ss(e,t,r)}}function wd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Fx),t.forEach(function(n){var a=Wx.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function St(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var l=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:ze=o.stateNode,Et=!1;break e;case 3:ze=o.stateNode.containerInfo,Et=!0;break e;case 4:ze=o.stateNode.containerInfo,Et=!0;break e}o=o.return}if(ze===null)throw Error(I(160));ih(l,i,a),ze=null,Et=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Ne(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)oh(t,e),t=t.sibling}function oh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(St(t,e),Ft(e),n&4){try{sn(3,e,e.return),ol(3,e)}catch(w){Ne(e,e.return,w)}try{sn(5,e,e.return)}catch(w){Ne(e,e.return,w)}}break;case 1:St(t,e),Ft(e),n&512&&r!==null&&dr(r,r.return);break;case 5:if(St(t,e),Ft(e),n&512&&r!==null&&dr(r,r.return),e.flags&32){var a=e.stateNode;try{on(a,"")}catch(w){Ne(e,e.return,w)}}if(n&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,i=r!==null?r.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&Tu(a,l),gi(o,i);var d=gi(o,l);for(i=0;i<c.length;i+=2){var h=c[i],f=c[i+1];h==="style"?Ru(a,f):h==="dangerouslySetInnerHTML"?Lu(a,f):h==="children"?on(a,f):xo(a,h,f,d)}switch(o){case"input":mi(a,l);break;case"textarea":Mu(a,l);break;case"select":var g=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var j=l.value;j!=null?mr(a,!!l.multiple,j,!1):g!==!!l.multiple&&(l.defaultValue!=null?mr(a,!!l.multiple,l.defaultValue,!0):mr(a,!!l.multiple,l.multiple?[]:"",!1))}a[gn]=l}catch(w){Ne(e,e.return,w)}}break;case 6:if(St(t,e),Ft(e),n&4){if(e.stateNode===null)throw Error(I(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(w){Ne(e,e.return,w)}}break;case 3:if(St(t,e),Ft(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{mn(t.containerInfo)}catch(w){Ne(e,e.return,w)}break;case 4:St(t,e),Ft(e);break;case 13:St(t,e),Ft(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(Jo=be())),n&4&&wd(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?($e=(d=$e)||h,St(t,e),$e=d):St(t,e),Ft(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!h&&e.mode&1)for(X=e,h=e.child;h!==null;){for(f=X=h;X!==null;){switch(g=X,j=g.child,g.tag){case 0:case 11:case 14:case 15:sn(4,g,g.return);break;case 1:dr(g,g.return);var v=g.stateNode;if(typeof v.componentWillUnmount=="function"){n=g,r=g.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){Ne(n,r,w)}}break;case 5:dr(g,g.return);break;case 22:if(g.memoizedState!==null){bd(f);continue}}j!==null?(j.return=g,X=j):bd(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{a=f.stateNode,d?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=zu("display",i))}catch(w){Ne(e,e.return,w)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(w){Ne(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:St(t,e),Ft(e),n&4&&wd(e);break;case 21:break;default:St(t,e),Ft(e)}}function Ft(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(lh(r)){var n=r;break e}r=r.return}throw Error(I(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(on(a,""),n.flags&=-33);var l=jd(e);Ki(e,l,a);break;case 3:case 4:var i=n.stateNode.containerInfo,o=jd(e);Wi(e,o,i);break;default:throw Error(I(161))}}catch(c){Ne(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ox(e,t,r){X=e,ch(e)}function ch(e,t,r){for(var n=(e.mode&1)!==0;X!==null;){var a=X,l=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||sa;if(!i){var o=a.alternate,c=o!==null&&o.memoizedState!==null||$e;o=sa;var d=$e;if(sa=i,($e=c)&&!d)for(X=a;X!==null;)i=X,c=i.child,i.tag===22&&i.memoizedState!==null?kd(a):c!==null?(c.return=i,X=c):kd(a);for(;l!==null;)X=l,ch(l),l=l.sibling;X=a,sa=o,$e=d}Nd(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,X=l):Nd(e)}}function Nd(e){for(;X!==null;){var t=X;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$e||ol(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!$e)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Ct(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&ld(t,l,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}ld(t,i,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&mn(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}$e||t.flags&512&&Hi(t)}catch(g){Ne(t,t.return,g)}}if(t===e){X=null;break}if(r=t.sibling,r!==null){r.return=t.return,X=r;break}X=t.return}}function bd(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var r=t.sibling;if(r!==null){r.return=t.return,X=r;break}X=t.return}}function kd(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ol(4,t)}catch(c){Ne(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Ne(t,a,c)}}var l=t.return;try{Hi(t)}catch(c){Ne(t,l,c)}break;case 5:var i=t.return;try{Hi(t)}catch(c){Ne(t,i,c)}}}catch(c){Ne(t,t.return,c)}if(t===e){X=null;break}var o=t.sibling;if(o!==null){o.return=t.return,X=o;break}X=t.return}}var Ux=Math.ceil,Ia=ts.ReactCurrentDispatcher,Ko=ts.ReactCurrentOwner,wt=ts.ReactCurrentBatchConfig,ce=0,Ae=null,Se=null,Fe=0,ot=0,ur=Cs(0),_e=0,bn=null,Hs=0,cl=0,Qo=0,rn=null,Ye=null,Jo=0,Sr=1/0,Ht=null,$a=!1,Qi=null,xs=null,ra=!1,cs=null,Va=0,nn=0,Ji=null,pa=-1,fa=0;function Je(){return ce&6?be():pa!==-1?pa:pa=be()}function gs(e){return e.mode&1?ce&2&&Fe!==0?Fe&-Fe:Nx.transition!==null?(fa===0&&(fa=Ku()),fa):(e=me,e!==0||(e=window.event,e=e===void 0?16:em(e.type)),e):1}function Tt(e,t,r,n){if(50<nn)throw nn=0,Ji=null,Error(I(185));Pn(e,r,n),(!(ce&2)||e!==Ae)&&(e===Ae&&(!(ce&2)&&(cl|=r),_e===4&&ls(e,Fe)),rt(e,n),r===1&&ce===0&&!(t.mode&1)&&(Sr=be()+500,al&&Es()))}function rt(e,t){var r=e.callbackNode;Nf(e,t);var n=Sa(e,e===Ae?Fe:0);if(n===0)r!==null&&Lc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Lc(r),t===1)e.tag===0?wx(Sd.bind(null,e)):ym(Sd.bind(null,e)),gx(function(){!(ce&6)&&Es()}),r=null;else{switch(Qu(n)){case 1:r=wo;break;case 4:r=Hu;break;case 16:r=ka;break;case 536870912:r=Wu;break;default:r=ka}r=gh(r,dh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function dh(e,t){if(pa=-1,fa=0,ce&6)throw Error(I(327));var r=e.callbackNode;if(gr()&&e.callbackNode!==r)return null;var n=Sa(e,e===Ae?Fe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ba(e,n);else{t=n;var a=ce;ce|=2;var l=mh();(Ae!==e||Fe!==t)&&(Ht=null,Sr=be()+500,Os(e,t));do try{Vx();break}catch(o){uh(e,o)}while(!0);zo(),Ia.current=l,ce=a,Se!==null?t=0:(Ae=null,Fe=0,t=_e)}if(t!==0){if(t===2&&(a=Ni(e),a!==0&&(n=a,t=Gi(e,a))),t===1)throw r=bn,Os(e,0),ls(e,n),rt(e,be()),r;if(t===6)ls(e,n);else{if(a=e.current.alternate,!(n&30)&&!Ix(a)&&(t=Ba(e,n),t===2&&(l=Ni(e),l!==0&&(n=l,t=Gi(e,l))),t===1))throw r=bn,Os(e,0),ls(e,n),rt(e,be()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(I(345));case 2:Ls(e,Ye,Ht);break;case 3:if(ls(e,n),(n&130023424)===n&&(t=Jo+500-be(),10<t)){if(Sa(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Je(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Ti(Ls.bind(null,e,Ye,Ht),t);break}Ls(e,Ye,Ht);break;case 4:if(ls(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-Pt(n);l=1<<i,i=t[i],i>a&&(a=i),n&=~l}if(n=a,n=be()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ux(n/1960))-n,10<n){e.timeoutHandle=Ti(Ls.bind(null,e,Ye,Ht),n);break}Ls(e,Ye,Ht);break;case 5:Ls(e,Ye,Ht);break;default:throw Error(I(329))}}}return rt(e,be()),e.callbackNode===r?dh.bind(null,e):null}function Gi(e,t){var r=rn;return e.current.memoizedState.isDehydrated&&(Os(e,t).flags|=256),e=Ba(e,t),e!==2&&(t=Ye,Ye=r,t!==null&&Xi(t)),e}function Xi(e){Ye===null?Ye=e:Ye.push.apply(Ye,e)}function Ix(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],l=a.getSnapshot;a=a.value;try{if(!At(l(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ls(e,t){for(t&=~Qo,t&=~cl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Pt(t),n=1<<r;e[r]=-1,t&=~n}}function Sd(e){if(ce&6)throw Error(I(327));gr();var t=Sa(e,0);if(!(t&1))return rt(e,be()),null;var r=Ba(e,t);if(e.tag!==0&&r===2){var n=Ni(e);n!==0&&(t=n,r=Gi(e,n))}if(r===1)throw r=bn,Os(e,0),ls(e,t),rt(e,be()),r;if(r===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ls(e,Ye,Ht),rt(e,be()),null}function Go(e,t){var r=ce;ce|=1;try{return e(t)}finally{ce=r,ce===0&&(Sr=be()+500,al&&Es())}}function Ws(e){cs!==null&&cs.tag===0&&!(ce&6)&&gr();var t=ce;ce|=1;var r=wt.transition,n=me;try{if(wt.transition=null,me=1,e)return e()}finally{me=n,wt.transition=r,ce=t,!(ce&6)&&Es()}}function Xo(){ot=ur.current,xe(ur)}function Os(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,xx(r)),Se!==null)for(r=Se.return;r!==null;){var n=r;switch(Mo(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ta();break;case 3:br(),xe(tt),xe(qe),Io();break;case 5:Uo(n);break;case 4:br();break;case 13:xe(ye);break;case 19:xe(ye);break;case 10:Ro(n.type._context);break;case 22:case 23:Xo()}r=r.return}if(Ae=e,Se=e=vs(e.current,null),Fe=ot=t,_e=0,bn=null,Qo=cl=Hs=0,Ye=rn=null,Rs!==null){for(t=0;t<Rs.length;t++)if(r=Rs[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,l=r.pending;if(l!==null){var i=l.next;l.next=a,n.next=i}r.pending=n}Rs=null}return e}function uh(e,t){do{var r=Se;try{if(zo(),ua.current=Ua,Oa){for(var n=je.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Oa=!1}if(qs=0,Te=Ee=je=null,tn=!1,jn=0,Ko.current=null,r===null||r.return===null){_e=1,bn=t,Se=null;break}e:{var l=e,i=r.return,o=r,c=t;if(t=Fe,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=o,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var j=md(i);if(j!==null){j.flags&=-257,hd(j,i,o,l,t),j.mode&1&&ud(l,d,t),t=j,c=d;var v=t.updateQueue;if(v===null){var w=new Set;w.add(c),t.updateQueue=w}else v.add(c);break e}else{if(!(t&1)){ud(l,d,t),Zo();break e}c=Error(I(426))}}else if(ve&&o.mode&1){var S=md(i);if(S!==null){!(S.flags&65536)&&(S.flags|=256),hd(S,i,o,l,t),Ao(kr(c,o));break e}}l=c=kr(c,o),_e!==4&&(_e=2),rn===null?rn=[l]:rn.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var x=Qm(l,c,t);ad(l,x);break e;case 1:o=c;var u=l.type,m=l.stateNode;if(!(l.flags&128)&&(typeof u.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(xs===null||!xs.has(m)))){l.flags|=65536,t&=-t,l.lanes|=t;var y=Jm(l,o,t);ad(l,y);break e}}l=l.return}while(l!==null)}ph(r)}catch(E){t=E,Se===r&&r!==null&&(Se=r=r.return);continue}break}while(!0)}function mh(){var e=Ia.current;return Ia.current=Ua,e===null?Ua:e}function Zo(){(_e===0||_e===3||_e===2)&&(_e=4),Ae===null||!(Hs&268435455)&&!(cl&268435455)||ls(Ae,Fe)}function Ba(e,t){var r=ce;ce|=2;var n=mh();(Ae!==e||Fe!==t)&&(Ht=null,Os(e,t));do try{$x();break}catch(a){uh(e,a)}while(!0);if(zo(),ce=r,Ia.current=n,Se!==null)throw Error(I(261));return Ae=null,Fe=0,_e}function $x(){for(;Se!==null;)hh(Se)}function Vx(){for(;Se!==null&&!hf();)hh(Se)}function hh(e){var t=xh(e.alternate,e,ot);e.memoizedProps=e.pendingProps,t===null?ph(e):Se=t,Ko.current=null}function ph(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Rx(r,t),r!==null){r.flags&=32767,Se=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_e=6,Se=null;return}}else if(r=zx(r,t,ot),r!==null){Se=r;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);_e===0&&(_e=5)}function Ls(e,t,r){var n=me,a=wt.transition;try{wt.transition=null,me=1,Bx(e,t,r,n)}finally{wt.transition=a,me=n}return null}function Bx(e,t,r,n){do gr();while(cs!==null);if(ce&6)throw Error(I(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(bf(e,l),e===Ae&&(Se=Ae=null,Fe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ra||(ra=!0,gh(ka,function(){return gr(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=wt.transition,wt.transition=null;var i=me;me=1;var o=ce;ce|=4,Ko.current=null,Dx(e,r),oh(r,e),cx(_i),Ca=!!Ei,_i=Ei=null,e.current=r,Ox(r),pf(),ce=o,me=i,wt.transition=l}else e.current=r;if(ra&&(ra=!1,cs=e,Va=a),l=e.pendingLanes,l===0&&(xs=null),gf(r.stateNode),rt(e,be()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if($a)throw $a=!1,e=Qi,Qi=null,e;return Va&1&&e.tag!==0&&gr(),l=e.pendingLanes,l&1?e===Ji?nn++:(nn=0,Ji=e):nn=0,Es(),null}function gr(){if(cs!==null){var e=Qu(Va),t=wt.transition,r=me;try{if(wt.transition=null,me=16>e?16:e,cs===null)var n=!1;else{if(e=cs,cs=null,Va=0,ce&6)throw Error(I(331));var a=ce;for(ce|=4,X=e.current;X!==null;){var l=X,i=l.child;if(X.flags&16){var o=l.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(X=d;X!==null;){var h=X;switch(h.tag){case 0:case 11:case 15:sn(8,h,l)}var f=h.child;if(f!==null)f.return=h,X=f;else for(;X!==null;){h=X;var g=h.sibling,j=h.return;if(ah(h),h===d){X=null;break}if(g!==null){g.return=j,X=g;break}X=j}}}var v=l.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var S=w.sibling;w.sibling=null,w=S}while(w!==null)}}X=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,X=i;else e:for(;X!==null;){if(l=X,l.flags&2048)switch(l.tag){case 0:case 11:case 15:sn(9,l,l.return)}var x=l.sibling;if(x!==null){x.return=l.return,X=x;break e}X=l.return}}var u=e.current;for(X=u;X!==null;){i=X;var m=i.child;if(i.subtreeFlags&2064&&m!==null)m.return=i,X=m;else e:for(i=u;X!==null;){if(o=X,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ol(9,o)}}catch(E){Ne(o,o.return,E)}if(o===i){X=null;break e}var y=o.sibling;if(y!==null){y.return=o.return,X=y;break e}X=o.return}}if(ce=a,Es(),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(el,e)}catch{}n=!0}return n}finally{me=r,wt.transition=t}}return!1}function Cd(e,t,r){t=kr(r,t),t=Qm(e,t,1),e=fs(e,t,1),t=Je(),e!==null&&(Pn(e,1,t),rt(e,t))}function Ne(e,t,r){if(e.tag===3)Cd(e,e,r);else for(;t!==null;){if(t.tag===3){Cd(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(xs===null||!xs.has(n))){e=kr(r,e),e=Jm(t,e,1),t=fs(t,e,1),e=Je(),t!==null&&(Pn(t,1,e),rt(t,e));break}}t=t.return}}function qx(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Je(),e.pingedLanes|=e.suspendedLanes&r,Ae===e&&(Fe&r)===r&&(_e===4||_e===3&&(Fe&130023424)===Fe&&500>be()-Jo?Os(e,0):Qo|=r),rt(e,t)}function fh(e,t){t===0&&(e.mode&1?(t=Kn,Kn<<=1,!(Kn&130023424)&&(Kn=4194304)):t=1);var r=Je();e=Yt(e,t),e!==null&&(Pn(e,t,r),rt(e,r))}function Hx(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),fh(e,r)}function Wx(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(I(314))}n!==null&&n.delete(t),fh(e,r)}var xh;xh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||tt.current)et=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return et=!1,Lx(e,t,r);et=!!(e.flags&131072)}else et=!1,ve&&t.flags&1048576&&jm(t,La,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ha(e,t),e=t.pendingProps;var a=jr(t,qe.current);xr(t,r),a=Vo(null,t,n,e,a,r);var l=Bo();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,st(n)?(l=!0,Ma(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Do(t),a.updater=il,t.stateNode=a,a._reactInternals=t,Di(t,n,e,r),t=Ii(null,t,n,!0,l,r)):(t.tag=0,ve&&l&&To(t),Ke(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ha(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=Qx(n),e=Ct(n,e),a){case 0:t=Ui(null,t,n,e,r);break e;case 1:t=xd(null,t,n,e,r);break e;case 11:t=pd(null,t,n,e,r);break e;case 14:t=fd(null,t,n,Ct(n.type,e),r);break e}throw Error(I(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ct(n,a),Ui(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ct(n,a),xd(e,t,n,a,r);case 3:e:{if(Ym(t),e===null)throw Error(I(387));n=t.pendingProps,l=t.memoizedState,a=l.element,Cm(e,t),Fa(t,n,null,r);var i=t.memoizedState;if(n=i.element,l.isDehydrated)if(l={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=kr(Error(I(423)),t),t=gd(e,t,n,r,a);break e}else if(n!==a){a=kr(Error(I(424)),t),t=gd(e,t,n,r,a);break e}else for(ct=ps(t.stateNode.containerInfo.firstChild),dt=t,ve=!0,_t=null,r=km(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(wr(),n===a){t=es(e,t,r);break e}Ke(e,t,n,r)}t=t.child}return t;case 5:return Em(t),e===null&&zi(t),n=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,i=a.children,Pi(n,a)?i=null:l!==null&&Pi(n,l)&&(t.flags|=32),Zm(e,t),Ke(e,t,i,r),t.child;case 6:return e===null&&zi(t),null;case 13:return eh(e,t,r);case 4:return Oo(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Nr(t,null,n,r):Ke(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ct(n,a),pd(e,t,n,a,r);case 7:return Ke(e,t,t.pendingProps,r),t.child;case 8:return Ke(e,t,t.pendingProps.children,r),t.child;case 12:return Ke(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,l=t.memoizedProps,i=a.value,pe(za,n._currentValue),n._currentValue=i,l!==null)if(At(l.value,i)){if(l.children===a.children&&!tt.current){t=es(e,t,r);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var o=l.dependencies;if(o!==null){i=l.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(l.tag===1){c=Jt(-1,r&-r),c.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),Ri(l.return,r,t),o.lanes|=r;break}c=c.next}}else if(l.tag===10)i=l.type===t.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(I(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),Ri(i,r,t),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===t){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}Ke(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,xr(t,r),a=bt(a),n=n(a),t.flags|=1,Ke(e,t,n,r),t.child;case 14:return n=t.type,a=Ct(n,t.pendingProps),a=Ct(n.type,a),fd(e,t,n,a,r);case 15:return Gm(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ct(n,a),ha(e,t),t.tag=1,st(n)?(e=!0,Ma(t)):e=!1,xr(t,r),Km(t,n,a),Di(t,n,a,r),Ii(null,t,n,!0,e,r);case 19:return th(e,t,r);case 22:return Xm(e,t,r)}throw Error(I(156,t.tag))};function gh(e,t){return qu(e,t)}function Kx(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(e,t,r,n){return new Kx(e,t,r,n)}function Yo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qx(e){if(typeof e=="function")return Yo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vo)return 11;if(e===yo)return 14}return 2}function vs(e,t){var r=e.alternate;return r===null?(r=yt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function xa(e,t,r,n,a,l){var i=2;if(n=e,typeof e=="function")Yo(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case tr:return Us(r.children,a,l,t);case go:i=8,a|=8;break;case ii:return e=yt(12,r,t,a|2),e.elementType=ii,e.lanes=l,e;case oi:return e=yt(13,r,t,a),e.elementType=oi,e.lanes=l,e;case ci:return e=yt(19,r,t,a),e.elementType=ci,e.lanes=l,e;case Eu:return dl(r,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Su:i=10;break e;case Cu:i=9;break e;case vo:i=11;break e;case yo:i=14;break e;case rs:i=16,n=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=yt(i,r,t,a),t.elementType=e,t.type=n,t.lanes=l,t}function Us(e,t,r,n){return e=yt(7,e,n,t),e.lanes=r,e}function dl(e,t,r,n){return e=yt(22,e,n,t),e.elementType=Eu,e.lanes=r,e.stateNode={isHidden:!1},e}function Xl(e,t,r){return e=yt(6,e,null,t),e.lanes=r,e}function Zl(e,t,r){return t=yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jx(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Al(0),this.expirationTimes=Al(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Al(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function ec(e,t,r,n,a,l,i,o,c){return e=new Jx(e,t,r,o,c),t===1?(t=1,l===!0&&(t|=8)):t=0,l=yt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Do(l),e}function Gx(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:er,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function vh(e){if(!e)return Ns;e=e._reactInternals;e:{if(Gs(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(st(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var r=e.type;if(st(r))return vm(e,r,t)}return t}function yh(e,t,r,n,a,l,i,o,c){return e=ec(r,n,!0,e,a,l,i,o,c),e.context=vh(null),r=e.current,n=Je(),a=gs(r),l=Jt(n,a),l.callback=t??null,fs(r,l,a),e.current.lanes=a,Pn(e,a,n),rt(e,n),e}function ul(e,t,r,n){var a=t.current,l=Je(),i=gs(a);return r=vh(r),t.context===null?t.context=r:t.pendingContext=r,t=Jt(l,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=fs(a,t,i),e!==null&&(Tt(e,a,i,l),da(e,a,i)),i}function qa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ed(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function tc(e,t){Ed(e,t),(e=e.alternate)&&Ed(e,t)}function Xx(){return null}var jh=typeof reportError=="function"?reportError:function(e){console.error(e)};function sc(e){this._internalRoot=e}ml.prototype.render=sc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));ul(e,t,null,null)};ml.prototype.unmount=sc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ws(function(){ul(null,e,null,null)}),t[Zt]=null}};function ml(e){this._internalRoot=e}ml.prototype.unstable_scheduleHydration=function(e){if(e){var t=Xu();e={blockedOn:null,target:e,priority:t};for(var r=0;r<as.length&&t!==0&&t<as[r].priority;r++);as.splice(r,0,e),r===0&&Yu(e)}};function rc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _d(){}function Zx(e,t,r,n,a){if(a){if(typeof n=="function"){var l=n;n=function(){var d=qa(i);l.call(d)}}var i=yh(t,n,e,0,null,!1,!1,"",_d);return e._reactRootContainer=i,e[Zt]=i.current,fn(e.nodeType===8?e.parentNode:e),Ws(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var d=qa(c);o.call(d)}}var c=ec(e,0,!1,null,null,!1,!1,"",_d);return e._reactRootContainer=c,e[Zt]=c.current,fn(e.nodeType===8?e.parentNode:e),Ws(function(){ul(t,c,r,n)}),c}function pl(e,t,r,n,a){var l=r._reactRootContainer;if(l){var i=l;if(typeof a=="function"){var o=a;a=function(){var c=qa(i);o.call(c)}}ul(t,i,e,a)}else i=Zx(r,t,e,a,n);return qa(i)}Ju=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Qr(t.pendingLanes);r!==0&&(No(t,r|1),rt(t,be()),!(ce&6)&&(Sr=be()+500,Es()))}break;case 13:Ws(function(){var n=Yt(e,1);if(n!==null){var a=Je();Tt(n,e,1,a)}}),tc(e,1)}};bo=function(e){if(e.tag===13){var t=Yt(e,134217728);if(t!==null){var r=Je();Tt(t,e,134217728,r)}tc(e,134217728)}};Gu=function(e){if(e.tag===13){var t=gs(e),r=Yt(e,t);if(r!==null){var n=Je();Tt(r,e,t,n)}tc(e,t)}};Xu=function(){return me};Zu=function(e,t){var r=me;try{return me=e,t()}finally{me=r}};yi=function(e,t,r){switch(t){case"input":if(mi(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=nl(n);if(!a)throw Error(I(90));Pu(n),mi(n,a)}}}break;case"textarea":Mu(e,r);break;case"select":t=r.value,t!=null&&mr(e,!!r.multiple,t,!1)}};Ou=Go;Uu=Ws;var Yx={usingClientEntryPoint:!1,Events:[Mn,ar,nl,Fu,Du,Go]},qr={findFiberByHostInstance:zs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},e0={bundleType:qr.bundleType,version:qr.version,rendererPackageName:qr.rendererPackageName,rendererConfig:qr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ts.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Vu(e),e===null?null:e.stateNode},findFiberByHostInstance:qr.findFiberByHostInstance||Xx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var na=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!na.isDisabled&&na.supportsFiber)try{el=na.inject(e0),It=na}catch{}}ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yx;ht.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rc(t))throw Error(I(200));return Gx(e,t,null,r)};ht.createRoot=function(e,t){if(!rc(e))throw Error(I(299));var r=!1,n="",a=jh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=ec(e,1,!1,null,null,r,!1,n,a),e[Zt]=t.current,fn(e.nodeType===8?e.parentNode:e),new sc(t)};ht.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=Vu(t),e=e===null?null:e.stateNode,e};ht.flushSync=function(e){return Ws(e)};ht.hydrate=function(e,t,r){if(!hl(t))throw Error(I(200));return pl(null,e,t,!0,r)};ht.hydrateRoot=function(e,t,r){if(!rc(e))throw Error(I(405));var n=r!=null&&r.hydratedSources||null,a=!1,l="",i=jh;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=yh(t,null,e,1,r??null,a,!1,l,i),e[Zt]=t.current,fn(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new ml(t)};ht.render=function(e,t,r){if(!hl(t))throw Error(I(200));return pl(null,e,t,!1,r)};ht.unmountComponentAtNode=function(e){if(!hl(e))throw Error(I(40));return e._reactRootContainer?(Ws(function(){pl(null,null,e,!1,function(){e._reactRootContainer=null,e[Zt]=null})}),!0):!1};ht.unstable_batchedUpdates=Go;ht.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!hl(r))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return pl(e,t,r,!1,n)};ht.version="18.3.1-next-f1338f8080-20240426";function wh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wh)}catch(e){console.error(e)}}wh(),wu.exports=ht;var t0=wu.exports,Nh,Pd=t0;Nh=Pd.createRoot,Pd.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kn(){return kn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kn.apply(this,arguments)}var ds;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ds||(ds={}));const Td="popstate";function s0(e){e===void 0&&(e={});function t(n,a){let{pathname:l,search:i,hash:o}=n.location;return Zi("",{pathname:l,search:i,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Ha(a)}return n0(t,r,null,e)}function ke(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function bh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function r0(){return Math.random().toString(36).substr(2,8)}function Md(e,t){return{usr:e.state,key:e.key,idx:t}}function Zi(e,t,r,n){return r===void 0&&(r=null),kn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Mr(t):t,{state:r,key:t&&t.key||n||r0()})}function Ha(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Mr(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function n0(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:l=!1}=n,i=a.history,o=ds.Pop,c=null,d=h();d==null&&(d=0,i.replaceState(kn({},i.state,{idx:d}),""));function h(){return(i.state||{idx:null}).idx}function f(){o=ds.Pop;let S=h(),x=S==null?null:S-d;d=S,c&&c({action:o,location:w.location,delta:x})}function g(S,x){o=ds.Push;let u=Zi(w.location,S,x);d=h()+1;let m=Md(u,d),y=w.createHref(u);try{i.pushState(m,"",y)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(y)}l&&c&&c({action:o,location:w.location,delta:1})}function j(S,x){o=ds.Replace;let u=Zi(w.location,S,x);d=h();let m=Md(u,d),y=w.createHref(u);i.replaceState(m,"",y),l&&c&&c({action:o,location:w.location,delta:0})}function v(S){let x=a.location.origin!=="null"?a.location.origin:a.location.href,u=typeof S=="string"?S:Ha(S);return u=u.replace(/ $/,"%20"),ke(x,"No window.location.(origin|href) available to create URL for href: "+u),new URL(u,x)}let w={get action(){return o},get location(){return e(a,i)},listen(S){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Td,f),c=S,()=>{a.removeEventListener(Td,f),c=null}},createHref(S){return t(a,S)},createURL:v,encodeLocation(S){let x=v(S);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:j,go(S){return i.go(S)}};return w}var Ad;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ad||(Ad={}));function a0(e,t,r){return r===void 0&&(r="/"),l0(e,t,r,!1)}function l0(e,t,r,n){let a=typeof t=="string"?Mr(t):t,l=nc(a.pathname||"/",r);if(l==null)return null;let i=kh(e);i0(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let d=v0(l);o=x0(i[c],d,n)}return o}function kh(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(l,i,o)=>{let c={relativePath:o===void 0?l.path||"":o,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};c.relativePath.startsWith("/")&&(ke(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=ys([n,c.relativePath]),h=r.concat(c);l.children&&l.children.length>0&&(ke(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),kh(l.children,t,h,d)),!(l.path==null&&!l.index)&&t.push({path:d,score:p0(d,l.index),routesMeta:h})};return e.forEach((l,i)=>{var o;if(l.path===""||!((o=l.path)!=null&&o.includes("?")))a(l,i);else for(let c of Sh(l.path))a(l,i,c)}),t}function Sh(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return a?[l,""]:[l];let i=Sh(n.join("/")),o=[];return o.push(...i.map(c=>c===""?l:[l,c].join("/"))),a&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function i0(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:f0(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const o0=/^:[\w-]+$/,c0=3,d0=2,u0=1,m0=10,h0=-2,Ld=e=>e==="*";function p0(e,t){let r=e.split("/"),n=r.length;return r.some(Ld)&&(n+=h0),t&&(n+=d0),r.filter(a=>!Ld(a)).reduce((a,l)=>a+(o0.test(l)?c0:l===""?u0:m0),n)}function f0(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function x0(e,t,r){let{routesMeta:n}=e,a={},l="/",i=[];for(let o=0;o<n.length;++o){let c=n[o],d=o===n.length-1,h=l==="/"?t:t.slice(l.length)||"/",f=zd({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),g=c.route;if(!f&&d&&r&&!n[n.length-1].route.index&&(f=zd({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:ys([l,f.pathname]),pathnameBase:N0(ys([l,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(l=ys([l,f.pathnameBase]))}return i}function zd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=g0(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let l=a[0],i=l.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((d,h,f)=>{let{paramName:g,isOptional:j}=h;if(g==="*"){let w=o[f]||"";i=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const v=o[f];return j&&!v?d[g]=void 0:d[g]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:i,pattern:e}}function g0(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),bh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function v0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return bh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function nc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function y0(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Mr(e):e;return{pathname:r?r.startsWith("/")?r:j0(r,t):t,search:b0(n),hash:k0(a)}}function j0(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Yl(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function w0(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ac(e,t){let r=w0(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function lc(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Mr(e):(a=kn({},e),ke(!a.pathname||!a.pathname.includes("?"),Yl("?","pathname","search",a)),ke(!a.pathname||!a.pathname.includes("#"),Yl("#","pathname","hash",a)),ke(!a.search||!a.search.includes("#"),Yl("#","search","hash",a)));let l=e===""||a.pathname==="",i=l?"/":a.pathname,o;if(i==null)o=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let g=i.split("/");for(;g[0]==="..";)g.shift(),f-=1;a.pathname=g.join("/")}o=f>=0?t[f]:"/"}let c=y0(a,o),d=i&&i!=="/"&&i.endsWith("/"),h=(l||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const ys=e=>e.join("/").replace(/\/\/+/g,"/"),N0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),b0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,k0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function S0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ch=["post","put","patch","delete"];new Set(Ch);const C0=["get",...Ch];new Set(C0);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sn(){return Sn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sn.apply(this,arguments)}const ic=p.createContext(null),E0=p.createContext(null),_s=p.createContext(null),fl=p.createContext(null),Bt=p.createContext({outlet:null,matches:[],isDataRoute:!1}),Eh=p.createContext(null);function _0(e,t){let{relative:r}=t===void 0?{}:t;Ar()||ke(!1);let{basename:n,navigator:a}=p.useContext(_s),{hash:l,pathname:i,search:o}=Ph(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:ys([n,i])),a.createHref({pathname:c,search:o,hash:l})}function Ar(){return p.useContext(fl)!=null}function Xs(){return Ar()||ke(!1),p.useContext(fl).location}function _h(e){p.useContext(_s).static||p.useLayoutEffect(e)}function qt(){let{isDataRoute:e}=p.useContext(Bt);return e?B0():P0()}function P0(){Ar()||ke(!1);let e=p.useContext(ic),{basename:t,future:r,navigator:n}=p.useContext(_s),{matches:a}=p.useContext(Bt),{pathname:l}=Xs(),i=JSON.stringify(ac(a,r.v7_relativeSplatPath)),o=p.useRef(!1);return _h(()=>{o.current=!0}),p.useCallback(function(d,h){if(h===void 0&&(h={}),!o.current)return;if(typeof d=="number"){n.go(d);return}let f=lc(d,JSON.parse(i),l,h.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ys([t,f.pathname])),(h.replace?n.replace:n.push)(f,h.state,h)},[t,n,i,l,e])}const T0=p.createContext(null);function M0(e){let t=p.useContext(Bt).outlet;return t&&p.createElement(T0.Provider,{value:e},t)}function Ln(){let{matches:e}=p.useContext(Bt),t=e[e.length-1];return t?t.params:{}}function Ph(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=p.useContext(_s),{matches:a}=p.useContext(Bt),{pathname:l}=Xs(),i=JSON.stringify(ac(a,n.v7_relativeSplatPath));return p.useMemo(()=>lc(e,JSON.parse(i),l,r==="path"),[e,i,l,r])}function A0(e,t){return L0(e,t)}function L0(e,t,r,n){Ar()||ke(!1);let{navigator:a}=p.useContext(_s),{matches:l}=p.useContext(Bt),i=l[l.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=Xs(),h;if(t){var f;let S=typeof t=="string"?Mr(t):t;c==="/"||(f=S.pathname)!=null&&f.startsWith(c)||ke(!1),h=S}else h=d;let g=h.pathname||"/",j=g;if(c!=="/"){let S=c.replace(/^\//,"").split("/");j="/"+g.replace(/^\//,"").split("/").slice(S.length).join("/")}let v=a0(e,{pathname:j}),w=O0(v&&v.map(S=>Object.assign({},S,{params:Object.assign({},o,S.params),pathname:ys([c,a.encodeLocation?a.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:ys([c,a.encodeLocation?a.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),l,r,n);return t&&w?p.createElement(fl.Provider,{value:{location:Sn({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ds.Pop}},w):w}function z0(){let e=V0(),t=S0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:a},r):null,null)}const R0=p.createElement(z0,null);class F0 extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?p.createElement(Bt.Provider,{value:this.props.routeContext},p.createElement(Eh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function D0(e){let{routeContext:t,match:r,children:n}=e,a=p.useContext(ic);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(Bt.Provider,{value:t},n)}function O0(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var l;if(!r)return null;if(r.errors)e=r.matches;else if((l=n)!=null&&l.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let h=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);h>=0||ke(!1),i=i.slice(0,Math.min(i.length,h+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<i.length;h++){let f=i[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:g,errors:j}=r,v=f.route.loader&&g[f.route.id]===void 0&&(!j||j[f.route.id]===void 0);if(f.route.lazy||v){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((h,f,g)=>{let j,v=!1,w=null,S=null;r&&(j=o&&f.route.id?o[f.route.id]:void 0,w=f.route.errorElement||R0,c&&(d<0&&g===0?(v=!0,S=null):d===g&&(v=!0,S=f.route.hydrateFallbackElement||null)));let x=t.concat(i.slice(0,g+1)),u=()=>{let m;return j?m=w:v?m=S:f.route.Component?m=p.createElement(f.route.Component,null):f.route.element?m=f.route.element:m=h,p.createElement(D0,{match:f,routeContext:{outlet:h,matches:x,isDataRoute:r!=null},children:m})};return r&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?p.createElement(F0,{location:r.location,revalidation:r.revalidation,component:w,error:j,children:u(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):u()},null)}var Th=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Th||{}),Wa=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Wa||{});function U0(e){let t=p.useContext(ic);return t||ke(!1),t}function I0(e){let t=p.useContext(E0);return t||ke(!1),t}function $0(e){let t=p.useContext(Bt);return t||ke(!1),t}function Mh(e){let t=$0(),r=t.matches[t.matches.length-1];return r.route.id||ke(!1),r.route.id}function V0(){var e;let t=p.useContext(Eh),r=I0(Wa.UseRouteError),n=Mh(Wa.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function B0(){let{router:e}=U0(Th.UseNavigateStable),t=Mh(Wa.UseNavigateStable),r=p.useRef(!1);return _h(()=>{r.current=!0}),p.useCallback(function(a,l){l===void 0&&(l={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Sn({fromRouteId:t},l)))},[e,t])}function q0(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function js(e){let{to:t,replace:r,state:n,relative:a}=e;Ar()||ke(!1);let{future:l,static:i}=p.useContext(_s),{matches:o}=p.useContext(Bt),{pathname:c}=Xs(),d=qt(),h=lc(t,ac(o,l.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(h);return p.useEffect(()=>d(JSON.parse(f),{replace:r,state:n,relative:a}),[d,f,a,r,n]),null}function Ah(e){return M0(e.context)}function ue(e){ke(!1)}function H0(e){let{basename:t="/",children:r=null,location:n,navigationType:a=ds.Pop,navigator:l,static:i=!1,future:o}=e;Ar()&&ke(!1);let c=t.replace(/^\/*/,"/"),d=p.useMemo(()=>({basename:c,navigator:l,static:i,future:Sn({v7_relativeSplatPath:!1},o)}),[c,o,l,i]);typeof n=="string"&&(n=Mr(n));let{pathname:h="/",search:f="",hash:g="",state:j=null,key:v="default"}=n,w=p.useMemo(()=>{let S=nc(h,c);return S==null?null:{location:{pathname:S,search:f,hash:g,state:j,key:v},navigationType:a}},[c,h,f,g,j,v,a]);return w==null?null:p.createElement(_s.Provider,{value:d},p.createElement(fl.Provider,{children:r,value:w}))}function W0(e){let{children:t,location:r}=e;return A0(Yi(t),r)}new Promise(()=>{});function Yi(e,t){t===void 0&&(t=[]);let r=[];return p.Children.forEach(e,(n,a)=>{if(!p.isValidElement(n))return;let l=[...t,a];if(n.type===p.Fragment){r.push.apply(r,Yi(n.props.children,l));return}n.type!==ue&&ke(!1),!n.props.index||!n.props.children||ke(!1);let i={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Yi(n.props.children,l)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eo(){return eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eo.apply(this,arguments)}function K0(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,l;for(l=0;l<n.length;l++)a=n[l],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Q0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function J0(e,t){return e.button===0&&(!t||t==="_self")&&!Q0(e)}const G0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],X0="6";try{window.__reactRouterVersion=X0}catch{}const Z0="startTransition",Rd=Bp[Z0];function Y0(e){let{basename:t,children:r,future:n,window:a}=e,l=p.useRef();l.current==null&&(l.current=s0({window:a,v5Compat:!0}));let i=l.current,[o,c]=p.useState({action:i.action,location:i.location}),{v7_startTransition:d}=n||{},h=p.useCallback(f=>{d&&Rd?Rd(()=>c(f)):c(f)},[c,d]);return p.useLayoutEffect(()=>i.listen(h),[i,h]),p.useEffect(()=>q0(n),[n]),p.createElement(H0,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:i,future:n})}const eg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ge=p.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:l,replace:i,state:o,target:c,to:d,preventScrollReset:h,viewTransition:f}=t,g=K0(t,G0),{basename:j}=p.useContext(_s),v,w=!1;if(typeof d=="string"&&tg.test(d)&&(v=d,eg))try{let m=new URL(window.location.href),y=d.startsWith("//")?new URL(m.protocol+d):new URL(d),E=nc(y.pathname,j);y.origin===m.origin&&E!=null?d=E+y.search+y.hash:w=!0}catch{}let S=_0(d,{relative:a}),x=sg(d,{replace:i,state:o,target:c,preventScrollReset:h,relative:a,viewTransition:f});function u(m){n&&n(m),m.defaultPrevented||x(m)}return p.createElement("a",eo({},g,{href:v||S,onClick:w||l?n:u,ref:r,target:c}))});var Fd;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Fd||(Fd={}));var Dd;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Dd||(Dd={}));function sg(e,t){let{target:r,replace:n,state:a,preventScrollReset:l,relative:i,viewTransition:o}=t===void 0?{}:t,c=qt(),d=Xs(),h=Ph(e,{relative:i});return p.useCallback(f=>{if(J0(f,r)){f.preventDefault();let g=n!==void 0?n:Ha(d)===Ha(h);c(e,{replace:g,state:a,preventScrollReset:l,relative:i,viewTransition:o})}},[d,c,h,n,a,r,e,l,i,o])}function Lh(e,t){return function(){return e.apply(t,arguments)}}const{toString:rg}=Object.prototype,{getPrototypeOf:oc}=Object,{iterator:xl,toStringTag:zh}=Symbol,gl=(e=>t=>{const r=rg.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Lt=e=>(e=e.toLowerCase(),t=>gl(t)===e),vl=e=>t=>typeof t===e,{isArray:Lr}=Array,Cn=vl("undefined");function zn(e){return e!==null&&!Cn(e)&&e.constructor!==null&&!Cn(e.constructor)&&nt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Rh=Lt("ArrayBuffer");function ng(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Rh(e.buffer),t}const ag=vl("string"),nt=vl("function"),Fh=vl("number"),Rn=e=>e!==null&&typeof e=="object",lg=e=>e===!0||e===!1,ga=e=>{if(gl(e)!=="object")return!1;const t=oc(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(zh in e)&&!(xl in e)},ig=e=>{if(!Rn(e)||zn(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},og=Lt("Date"),cg=Lt("File"),dg=Lt("Blob"),ug=Lt("FileList"),mg=e=>Rn(e)&&nt(e.pipe),hg=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||nt(e.append)&&((t=gl(e))==="formdata"||t==="object"&&nt(e.toString)&&e.toString()==="[object FormData]"))},pg=Lt("URLSearchParams"),[fg,xg,gg,vg]=["ReadableStream","Request","Response","Headers"].map(Lt),yg=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fn(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),Lr(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(zn(e))return;const l=r?Object.getOwnPropertyNames(e):Object.keys(e),i=l.length;let o;for(n=0;n<i;n++)o=l[n],t.call(null,e[o],o,e)}}function Dh(e,t){if(zn(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const Ds=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Oh=e=>!Cn(e)&&e!==Ds;function to(){const{caseless:e}=Oh(this)&&this||{},t={},r=(n,a)=>{const l=e&&Dh(t,a)||a;ga(t[l])&&ga(n)?t[l]=to(t[l],n):ga(n)?t[l]=to({},n):Lr(n)?t[l]=n.slice():t[l]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&Fn(arguments[n],r);return t}const jg=(e,t,r,{allOwnKeys:n}={})=>(Fn(t,(a,l)=>{r&&nt(a)?e[l]=Lh(a,r):e[l]=a},{allOwnKeys:n}),e),wg=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Ng=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},bg=(e,t,r,n)=>{let a,l,i;const o={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),l=a.length;l-- >0;)i=a[l],(!n||n(i,e,t))&&!o[i]&&(t[i]=e[i],o[i]=!0);e=r!==!1&&oc(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kg=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},Sg=e=>{if(!e)return null;if(Lr(e))return e;let t=e.length;if(!Fh(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Cg=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&oc(Uint8Array)),Eg=(e,t)=>{const n=(e&&e[xl]).call(e);let a;for(;(a=n.next())&&!a.done;){const l=a.value;t.call(e,l[0],l[1])}},_g=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},Pg=Lt("HTMLFormElement"),Tg=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),Od=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Mg=Lt("RegExp"),Uh=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Fn(r,(a,l)=>{let i;(i=t(a,l,e))!==!1&&(n[l]=i||a)}),Object.defineProperties(e,n)},Ag=e=>{Uh(e,(t,r)=>{if(nt(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(nt(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Lg=(e,t)=>{const r={},n=a=>{a.forEach(l=>{r[l]=!0})};return Lr(e)?n(e):n(String(e).split(t)),r},zg=()=>{},Rg=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Fg(e){return!!(e&&nt(e.append)&&e[zh]==="FormData"&&e[xl])}const Dg=e=>{const t=new Array(10),r=(n,a)=>{if(Rn(n)){if(t.indexOf(n)>=0)return;if(zn(n))return n;if(!("toJSON"in n)){t[a]=n;const l=Lr(n)?[]:{};return Fn(n,(i,o)=>{const c=r(i,a+1);!Cn(c)&&(l[o]=c)}),t[a]=void 0,l}}return n};return r(e,0)},Og=Lt("AsyncFunction"),Ug=e=>e&&(Rn(e)||nt(e))&&nt(e.then)&&nt(e.catch),Ih=((e,t)=>e?setImmediate:t?((r,n)=>(Ds.addEventListener("message",({source:a,data:l})=>{a===Ds&&l===r&&n.length&&n.shift()()},!1),a=>{n.push(a),Ds.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",nt(Ds.postMessage)),Ig=typeof queueMicrotask<"u"?queueMicrotask.bind(Ds):typeof process<"u"&&process.nextTick||Ih,$g=e=>e!=null&&nt(e[xl]),L={isArray:Lr,isArrayBuffer:Rh,isBuffer:zn,isFormData:hg,isArrayBufferView:ng,isString:ag,isNumber:Fh,isBoolean:lg,isObject:Rn,isPlainObject:ga,isEmptyObject:ig,isReadableStream:fg,isRequest:xg,isResponse:gg,isHeaders:vg,isUndefined:Cn,isDate:og,isFile:cg,isBlob:dg,isRegExp:Mg,isFunction:nt,isStream:mg,isURLSearchParams:pg,isTypedArray:Cg,isFileList:ug,forEach:Fn,merge:to,extend:jg,trim:yg,stripBOM:wg,inherits:Ng,toFlatObject:bg,kindOf:gl,kindOfTest:Lt,endsWith:kg,toArray:Sg,forEachEntry:Eg,matchAll:_g,isHTMLForm:Pg,hasOwnProperty:Od,hasOwnProp:Od,reduceDescriptors:Uh,freezeMethods:Ag,toObjectSet:Lg,toCamelCase:Tg,noop:zg,toFiniteNumber:Rg,findKey:Dh,global:Ds,isContextDefined:Oh,isSpecCompliantForm:Fg,toJSONObject:Dg,isAsyncFn:Og,isThenable:Ug,setImmediate:Ih,asap:Ig,isIterable:$g};function te(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}L.inherits(te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:L.toJSONObject(this.config),code:this.code,status:this.status}}});const $h=te.prototype,Vh={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Vh[e]={value:e}});Object.defineProperties(te,Vh);Object.defineProperty($h,"isAxiosError",{value:!0});te.from=(e,t,r,n,a,l)=>{const i=Object.create($h);return L.toFlatObject(e,i,function(c){return c!==Error.prototype},o=>o!=="isAxiosError"),te.call(i,e.message,t,r,n,a),i.cause=e,i.name=e.name,l&&Object.assign(i,l),i};const Vg=null;function so(e){return L.isPlainObject(e)||L.isArray(e)}function Bh(e){return L.endsWith(e,"[]")?e.slice(0,-2):e}function Ud(e,t,r){return e?e.concat(t).map(function(a,l){return a=Bh(a),!r&&l?"["+a+"]":a}).join(r?".":""):t}function Bg(e){return L.isArray(e)&&!e.some(so)}const qg=L.toFlatObject(L,{},null,function(t){return/^is[A-Z]/.test(t)});function yl(e,t,r){if(!L.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=L.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,S){return!L.isUndefined(S[w])});const n=r.metaTokens,a=r.visitor||h,l=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&L.isSpecCompliantForm(t);if(!L.isFunction(a))throw new TypeError("visitor must be a function");function d(v){if(v===null)return"";if(L.isDate(v))return v.toISOString();if(L.isBoolean(v))return v.toString();if(!c&&L.isBlob(v))throw new te("Blob is not supported. Use a Buffer instead.");return L.isArrayBuffer(v)||L.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function h(v,w,S){let x=v;if(v&&!S&&typeof v=="object"){if(L.endsWith(w,"{}"))w=n?w:w.slice(0,-2),v=JSON.stringify(v);else if(L.isArray(v)&&Bg(v)||(L.isFileList(v)||L.endsWith(w,"[]"))&&(x=L.toArray(v)))return w=Bh(w),x.forEach(function(m,y){!(L.isUndefined(m)||m===null)&&t.append(i===!0?Ud([w],y,l):i===null?w:w+"[]",d(m))}),!1}return so(v)?!0:(t.append(Ud(S,w,l),d(v)),!1)}const f=[],g=Object.assign(qg,{defaultVisitor:h,convertValue:d,isVisitable:so});function j(v,w){if(!L.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+w.join("."));f.push(v),L.forEach(v,function(x,u){(!(L.isUndefined(x)||x===null)&&a.call(t,x,L.isString(u)?u.trim():u,w,g))===!0&&j(x,w?w.concat(u):[u])}),f.pop()}}if(!L.isObject(e))throw new TypeError("data must be an object");return j(e),t}function Id(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function cc(e,t){this._pairs=[],e&&yl(e,this,t)}const qh=cc.prototype;qh.append=function(t,r){this._pairs.push([t,r])};qh.toString=function(t){const r=t?function(n){return t.call(this,n,Id)}:Id;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Hg(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Hh(e,t,r){if(!t)return e;const n=r&&r.encode||Hg;L.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let l;if(a?l=a(t,r):l=L.isURLSearchParams(t)?t.toString():new cc(t,r).toString(n),l){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class $d{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){L.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Wh={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Wg=typeof URLSearchParams<"u"?URLSearchParams:cc,Kg=typeof FormData<"u"?FormData:null,Qg=typeof Blob<"u"?Blob:null,Jg={isBrowser:!0,classes:{URLSearchParams:Wg,FormData:Kg,Blob:Qg},protocols:["http","https","file","blob","url","data"]},dc=typeof window<"u"&&typeof document<"u",ro=typeof navigator=="object"&&navigator||void 0,Gg=dc&&(!ro||["ReactNative","NativeScript","NS"].indexOf(ro.product)<0),Xg=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Zg=dc&&window.location.href||"http://localhost",Yg=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:dc,hasStandardBrowserEnv:Gg,hasStandardBrowserWebWorkerEnv:Xg,navigator:ro,origin:Zg},Symbol.toStringTag,{value:"Module"})),Ve={...Yg,...Jg};function ev(e,t){return yl(e,new Ve.classes.URLSearchParams,{visitor:function(r,n,a,l){return Ve.isNode&&L.isBuffer(r)?(this.append(n,r.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function tv(e){return L.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function sv(e){const t={},r=Object.keys(e);let n;const a=r.length;let l;for(n=0;n<a;n++)l=r[n],t[l]=e[l];return t}function Kh(e){function t(r,n,a,l){let i=r[l++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),c=l>=r.length;return i=!i&&L.isArray(a)?a.length:i,c?(L.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!o):((!a[i]||!L.isObject(a[i]))&&(a[i]=[]),t(r,n,a[i],l)&&L.isArray(a[i])&&(a[i]=sv(a[i])),!o)}if(L.isFormData(e)&&L.isFunction(e.entries)){const r={};return L.forEachEntry(e,(n,a)=>{t(tv(n),a,r,0)}),r}return null}function rv(e,t,r){if(L.isString(e))try{return(t||JSON.parse)(e),L.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}const Dn={transitional:Wh,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,l=L.isObject(t);if(l&&L.isHTMLForm(t)&&(t=new FormData(t)),L.isFormData(t))return a?JSON.stringify(Kh(t)):t;if(L.isArrayBuffer(t)||L.isBuffer(t)||L.isStream(t)||L.isFile(t)||L.isBlob(t)||L.isReadableStream(t))return t;if(L.isArrayBufferView(t))return t.buffer;if(L.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(l){if(n.indexOf("application/x-www-form-urlencoded")>-1)return ev(t,this.formSerializer).toString();if((o=L.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return yl(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return l||a?(r.setContentType("application/json",!1),rv(t)):t}],transformResponse:[function(t){const r=this.transitional||Dn.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(L.isResponse(t)||L.isReadableStream(t))return t;if(t&&L.isString(t)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(o){if(i)throw o.name==="SyntaxError"?te.from(o,te.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ve.classes.FormData,Blob:Ve.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};L.forEach(["delete","get","head","post","put","patch"],e=>{Dn.headers[e]={}});const nv=L.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),av=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||t[r]&&nv[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Vd=Symbol("internals");function Hr(e){return e&&String(e).trim().toLowerCase()}function va(e){return e===!1||e==null?e:L.isArray(e)?e.map(va):String(e)}function lv(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const iv=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ei(e,t,r,n,a){if(L.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!L.isString(t)){if(L.isString(n))return t.indexOf(n)!==-1;if(L.isRegExp(n))return n.test(t)}}function ov(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function cv(e,t){const r=L.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,l,i){return this[n].call(this,t,a,l,i)},configurable:!0})})}class at{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function l(o,c,d){const h=Hr(c);if(!h)throw new Error("header name must be a non-empty string");const f=L.findKey(a,h);(!f||a[f]===void 0||d===!0||d===void 0&&a[f]!==!1)&&(a[f||c]=va(o))}const i=(o,c)=>L.forEach(o,(d,h)=>l(d,h,c));if(L.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(L.isString(t)&&(t=t.trim())&&!iv(t))i(av(t),r);else if(L.isObject(t)&&L.isIterable(t)){let o={},c,d;for(const h of t){if(!L.isArray(h))throw TypeError("Object iterator must return a key-value pair");o[d=h[0]]=(c=o[d])?L.isArray(c)?[...c,h[1]]:[c,h[1]]:h[1]}i(o,r)}else t!=null&&l(r,t,n);return this}get(t,r){if(t=Hr(t),t){const n=L.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return lv(a);if(L.isFunction(r))return r.call(this,a,n);if(L.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Hr(t),t){const n=L.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||ei(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function l(i){if(i=Hr(i),i){const o=L.findKey(n,i);o&&(!r||ei(n,n[o],o,r))&&(delete n[o],a=!0)}}return L.isArray(t)?t.forEach(l):l(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const l=r[n];(!t||ei(this,this[l],l,t,!0))&&(delete this[l],a=!0)}return a}normalize(t){const r=this,n={};return L.forEach(this,(a,l)=>{const i=L.findKey(n,l);if(i){r[i]=va(a),delete r[l];return}const o=t?ov(l):String(l).trim();o!==l&&delete r[l],r[o]=va(a),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return L.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&L.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[Vd]=this[Vd]={accessors:{}}).accessors,a=this.prototype;function l(i){const o=Hr(i);n[o]||(cv(a,i),n[o]=!0)}return L.isArray(t)?t.forEach(l):l(t),this}}at.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);L.reduceDescriptors(at.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});L.freezeMethods(at);function ti(e,t){const r=this||Dn,n=t||r,a=at.from(n.headers);let l=n.data;return L.forEach(e,function(o){l=o.call(r,l,a.normalize(),t?t.status:void 0)}),a.normalize(),l}function Qh(e){return!!(e&&e.__CANCEL__)}function zr(e,t,r){te.call(this,e??"canceled",te.ERR_CANCELED,t,r),this.name="CanceledError"}L.inherits(zr,te,{__CANCEL__:!0});function Jh(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new te("Request failed with status code "+r.status,[te.ERR_BAD_REQUEST,te.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function dv(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function uv(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,l=0,i;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),h=n[l];i||(i=d),r[a]=c,n[a]=d;let f=l,g=0;for(;f!==a;)g+=r[f++],f=f%e;if(a=(a+1)%e,a===l&&(l=(l+1)%e),d-i<t)return;const j=h&&d-h;return j?Math.round(g*1e3/j):void 0}}function mv(e,t){let r=0,n=1e3/t,a,l;const i=(d,h=Date.now())=>{r=h,a=null,l&&(clearTimeout(l),l=null),e(...d)};return[(...d)=>{const h=Date.now(),f=h-r;f>=n?i(d,h):(a=d,l||(l=setTimeout(()=>{l=null,i(a)},n-f)))},()=>a&&i(a)]}const Ka=(e,t,r=3)=>{let n=0;const a=uv(50,250);return mv(l=>{const i=l.loaded,o=l.lengthComputable?l.total:void 0,c=i-n,d=a(c),h=i<=o;n=i;const f={loaded:i,total:o,progress:o?i/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&h?(o-i)/d:void 0,event:l,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(f)},r)},Bd=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},qd=e=>(...t)=>L.asap(()=>e(...t)),hv=Ve.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Ve.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Ve.origin),Ve.navigator&&/(msie|trident)/i.test(Ve.navigator.userAgent)):()=>!0,pv=Ve.hasStandardBrowserEnv?{write(e,t,r,n,a,l){const i=[e+"="+encodeURIComponent(t)];L.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),L.isString(n)&&i.push("path="+n),L.isString(a)&&i.push("domain="+a),l===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function fv(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function xv(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Gh(e,t,r){let n=!fv(t);return e&&(n||r==!1)?xv(e,t):t}const Hd=e=>e instanceof at?{...e}:e;function Ks(e,t){t=t||{};const r={};function n(d,h,f,g){return L.isPlainObject(d)&&L.isPlainObject(h)?L.merge.call({caseless:g},d,h):L.isPlainObject(h)?L.merge({},h):L.isArray(h)?h.slice():h}function a(d,h,f,g){if(L.isUndefined(h)){if(!L.isUndefined(d))return n(void 0,d,f,g)}else return n(d,h,f,g)}function l(d,h){if(!L.isUndefined(h))return n(void 0,h)}function i(d,h){if(L.isUndefined(h)){if(!L.isUndefined(d))return n(void 0,d)}else return n(void 0,h)}function o(d,h,f){if(f in t)return n(d,h);if(f in e)return n(void 0,d)}const c={url:l,method:l,data:l,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(d,h,f)=>a(Hd(d),Hd(h),f,!0)};return L.forEach(Object.keys({...e,...t}),function(h){const f=c[h]||a,g=f(e[h],t[h],h);L.isUndefined(g)&&f!==o||(r[h]=g)}),r}const Xh=e=>{const t=Ks({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:l,headers:i,auth:o}=t;t.headers=i=at.from(i),t.url=Hh(Gh(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let c;if(L.isFormData(r)){if(Ve.hasStandardBrowserEnv||Ve.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((c=i.getContentType())!==!1){const[d,...h]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];i.setContentType([d||"multipart/form-data",...h].join("; "))}}if(Ve.hasStandardBrowserEnv&&(n&&L.isFunction(n)&&(n=n(t)),n||n!==!1&&hv(t.url))){const d=a&&l&&pv.read(l);d&&i.set(a,d)}return t},gv=typeof XMLHttpRequest<"u",vv=gv&&function(e){return new Promise(function(r,n){const a=Xh(e);let l=a.data;const i=at.from(a.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=a,h,f,g,j,v;function w(){j&&j(),v&&v(),a.cancelToken&&a.cancelToken.unsubscribe(h),a.signal&&a.signal.removeEventListener("abort",h)}let S=new XMLHttpRequest;S.open(a.method.toUpperCase(),a.url,!0),S.timeout=a.timeout;function x(){if(!S)return;const m=at.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),E={data:!o||o==="text"||o==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:m,config:e,request:S};Jh(function(z){r(z),w()},function(z){n(z),w()},E),S=null}"onloadend"in S?S.onloadend=x:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(x)},S.onabort=function(){S&&(n(new te("Request aborted",te.ECONNABORTED,e,S)),S=null)},S.onerror=function(){n(new te("Network Error",te.ERR_NETWORK,e,S)),S=null},S.ontimeout=function(){let y=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const E=a.transitional||Wh;a.timeoutErrorMessage&&(y=a.timeoutErrorMessage),n(new te(y,E.clarifyTimeoutError?te.ETIMEDOUT:te.ECONNABORTED,e,S)),S=null},l===void 0&&i.setContentType(null),"setRequestHeader"in S&&L.forEach(i.toJSON(),function(y,E){S.setRequestHeader(E,y)}),L.isUndefined(a.withCredentials)||(S.withCredentials=!!a.withCredentials),o&&o!=="json"&&(S.responseType=a.responseType),d&&([g,v]=Ka(d,!0),S.addEventListener("progress",g)),c&&S.upload&&([f,j]=Ka(c),S.upload.addEventListener("progress",f),S.upload.addEventListener("loadend",j)),(a.cancelToken||a.signal)&&(h=m=>{S&&(n(!m||m.type?new zr(null,e,S):m),S.abort(),S=null)},a.cancelToken&&a.cancelToken.subscribe(h),a.signal&&(a.signal.aborted?h():a.signal.addEventListener("abort",h)));const u=dv(a.url);if(u&&Ve.protocols.indexOf(u)===-1){n(new te("Unsupported protocol "+u+":",te.ERR_BAD_REQUEST,e));return}S.send(l||null)})},yv=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const l=function(d){if(!a){a=!0,o();const h=d instanceof Error?d:this.reason;n.abort(h instanceof te?h:new zr(h instanceof Error?h.message:h))}};let i=t&&setTimeout(()=>{i=null,l(new te(`timeout ${t} of ms exceeded`,te.ETIMEDOUT))},t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(l):d.removeEventListener("abort",l)}),e=null)};e.forEach(d=>d.addEventListener("abort",l));const{signal:c}=n;return c.unsubscribe=()=>L.asap(o),c}},jv=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},wv=async function*(e,t){for await(const r of Nv(e))yield*jv(r,t)},Nv=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Wd=(e,t,r,n)=>{const a=wv(e,t);let l=0,i,o=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:h}=await a.next();if(d){o(),c.close();return}let f=h.byteLength;if(r){let g=l+=f;r(g)}c.enqueue(new Uint8Array(h))}catch(d){throw o(d),d}},cancel(c){return o(c),a.return()}},{highWaterMark:2})},jl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Zh=jl&&typeof ReadableStream=="function",bv=jl&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Yh=(e,...t)=>{try{return!!e(...t)}catch{return!1}},kv=Zh&&Yh(()=>{let e=!1;const t=new Request(Ve.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Kd=64*1024,no=Zh&&Yh(()=>L.isReadableStream(new Response("").body)),Qa={stream:no&&(e=>e.body)};jl&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Qa[t]&&(Qa[t]=L.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new te(`Response type '${t}' is not supported`,te.ERR_NOT_SUPPORT,n)})})})(new Response);const Sv=async e=>{if(e==null)return 0;if(L.isBlob(e))return e.size;if(L.isSpecCompliantForm(e))return(await new Request(Ve.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(L.isArrayBufferView(e)||L.isArrayBuffer(e))return e.byteLength;if(L.isURLSearchParams(e)&&(e=e+""),L.isString(e))return(await bv(e)).byteLength},Cv=async(e,t)=>{const r=L.toFiniteNumber(e.getContentLength());return r??Sv(t)},Ev=jl&&(async e=>{let{url:t,method:r,data:n,signal:a,cancelToken:l,timeout:i,onDownloadProgress:o,onUploadProgress:c,responseType:d,headers:h,withCredentials:f="same-origin",fetchOptions:g}=Xh(e);d=d?(d+"").toLowerCase():"text";let j=yv([a,l&&l.toAbortSignal()],i),v;const w=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let S;try{if(c&&kv&&r!=="get"&&r!=="head"&&(S=await Cv(h,n))!==0){let E=new Request(t,{method:"POST",body:n,duplex:"half"}),N;if(L.isFormData(n)&&(N=E.headers.get("content-type"))&&h.setContentType(N),E.body){const[z,C]=Bd(S,Ka(qd(c)));n=Wd(E.body,Kd,z,C)}}L.isString(f)||(f=f?"include":"omit");const x="credentials"in Request.prototype;v=new Request(t,{...g,signal:j,method:r.toUpperCase(),headers:h.normalize().toJSON(),body:n,duplex:"half",credentials:x?f:void 0});let u=await fetch(v,g);const m=no&&(d==="stream"||d==="response");if(no&&(o||m&&w)){const E={};["status","statusText","headers"].forEach(D=>{E[D]=u[D]});const N=L.toFiniteNumber(u.headers.get("content-length")),[z,C]=o&&Bd(N,Ka(qd(o),!0))||[];u=new Response(Wd(u.body,Kd,z,()=>{C&&C(),w&&w()}),E)}d=d||"text";let y=await Qa[L.findKey(Qa,d)||"text"](u,e);return!m&&w&&w(),await new Promise((E,N)=>{Jh(E,N,{data:y,headers:at.from(u.headers),status:u.status,statusText:u.statusText,config:e,request:v})})}catch(x){throw w&&w(),x&&x.name==="TypeError"&&/Load failed|fetch/i.test(x.message)?Object.assign(new te("Network Error",te.ERR_NETWORK,e,v),{cause:x.cause||x}):te.from(x,x&&x.code,e,v)}}),ao={http:Vg,xhr:vv,fetch:Ev};L.forEach(ao,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Qd=e=>`- ${e}`,_v=e=>L.isFunction(e)||e===null||e===!1,ep={getAdapter:e=>{e=L.isArray(e)?e:[e];const{length:t}=e;let r,n;const a={};for(let l=0;l<t;l++){r=e[l];let i;if(n=r,!_v(r)&&(n=ao[(i=String(r)).toLowerCase()],n===void 0))throw new te(`Unknown adapter '${i}'`);if(n)break;a[i||"#"+l]=n}if(!n){const l=Object.entries(a).map(([o,c])=>`adapter ${o} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=t?l.length>1?`since :
`+l.map(Qd).join(`
`):" "+Qd(l[0]):"as no adapter specified";throw new te("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n},adapters:ao};function si(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new zr(null,e)}function Jd(e){return si(e),e.headers=at.from(e.headers),e.data=ti.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ep.getAdapter(e.adapter||Dn.adapter)(e).then(function(n){return si(e),n.data=ti.call(e,e.transformResponse,n),n.headers=at.from(n.headers),n},function(n){return Qh(n)||(si(e),n&&n.response&&(n.response.data=ti.call(e,e.transformResponse,n.response),n.response.headers=at.from(n.response.headers))),Promise.reject(n)})}const tp="1.11.0",wl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{wl[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Gd={};wl.transitional=function(t,r,n){function a(l,i){return"[Axios v"+tp+"] Transitional option '"+l+"'"+i+(n?". "+n:"")}return(l,i,o)=>{if(t===!1)throw new te(a(i," has been removed"+(r?" in "+r:"")),te.ERR_DEPRECATED);return r&&!Gd[i]&&(Gd[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(l,i,o):!0}};wl.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Pv(e,t,r){if(typeof e!="object")throw new te("options must be an object",te.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const l=n[a],i=t[l];if(i){const o=e[l],c=o===void 0||i(o,l,e);if(c!==!0)throw new te("option "+l+" must be "+c,te.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new te("Unknown option "+l,te.ERR_BAD_OPTION)}}const ya={assertOptions:Pv,validators:wl},Dt=ya.validators;class Is{constructor(t){this.defaults=t||{},this.interceptors={request:new $d,response:new $d}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?l&&!String(n.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+l):n.stack=l}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ks(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:l}=r;n!==void 0&&ya.assertOptions(n,{silentJSONParsing:Dt.transitional(Dt.boolean),forcedJSONParsing:Dt.transitional(Dt.boolean),clarifyTimeoutError:Dt.transitional(Dt.boolean)},!1),a!=null&&(L.isFunction(a)?r.paramsSerializer={serialize:a}:ya.assertOptions(a,{encode:Dt.function,serialize:Dt.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),ya.assertOptions(r,{baseUrl:Dt.spelling("baseURL"),withXsrfToken:Dt.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=l&&L.merge(l.common,l[r.method]);l&&L.forEach(["delete","get","head","post","put","patch","common"],v=>{delete l[v]}),r.headers=at.concat(i,l);const o=[];let c=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(r)===!1||(c=c&&w.synchronous,o.unshift(w.fulfilled,w.rejected))});const d=[];this.interceptors.response.forEach(function(w){d.push(w.fulfilled,w.rejected)});let h,f=0,g;if(!c){const v=[Jd.bind(this),void 0];for(v.unshift(...o),v.push(...d),g=v.length,h=Promise.resolve(r);f<g;)h=h.then(v[f++],v[f++]);return h}g=o.length;let j=r;for(f=0;f<g;){const v=o[f++],w=o[f++];try{j=v(j)}catch(S){w.call(this,S);break}}try{h=Jd.call(this,j)}catch(v){return Promise.reject(v)}for(f=0,g=d.length;f<g;)h=h.then(d[f++],d[f++]);return h}getUri(t){t=Ks(this.defaults,t);const r=Gh(t.baseURL,t.url,t.allowAbsoluteUrls);return Hh(r,t.params,t.paramsSerializer)}}L.forEach(["delete","get","head","options"],function(t){Is.prototype[t]=function(r,n){return this.request(Ks(n||{},{method:t,url:r,data:(n||{}).data}))}});L.forEach(["post","put","patch"],function(t){function r(n){return function(l,i,o){return this.request(Ks(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:l,data:i}))}}Is.prototype[t]=r(),Is.prototype[t+"Form"]=r(!0)});class uc{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(l){r=l});const n=this;this.promise.then(a=>{if(!n._listeners)return;let l=n._listeners.length;for(;l-- >0;)n._listeners[l](a);n._listeners=null}),this.promise.then=a=>{let l;const i=new Promise(o=>{n.subscribe(o),l=o}).then(a);return i.cancel=function(){n.unsubscribe(l)},i},t(function(l,i,o){n.reason||(n.reason=new zr(l,i,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new uc(function(a){t=a}),cancel:t}}}function Tv(e){return function(r){return e.apply(null,r)}}function Mv(e){return L.isObject(e)&&e.isAxiosError===!0}const lo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(lo).forEach(([e,t])=>{lo[t]=e});function sp(e){const t=new Is(e),r=Lh(Is.prototype.request,t);return L.extend(r,Is.prototype,t,{allOwnKeys:!0}),L.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return sp(Ks(e,a))},r}const Ce=sp(Dn);Ce.Axios=Is;Ce.CanceledError=zr;Ce.CancelToken=uc;Ce.isCancel=Qh;Ce.VERSION=tp;Ce.toFormData=yl;Ce.AxiosError=te;Ce.Cancel=Ce.CanceledError;Ce.all=function(t){return Promise.all(t)};Ce.spread=Tv;Ce.isAxiosError=Mv;Ce.mergeConfig=Ks;Ce.AxiosHeaders=at;Ce.formToJSON=e=>Kh(L.isHTMLForm(e)?new FormData(e):e);Ce.getAdapter=ep.getAdapter;Ce.HttpStatusCode=lo;Ce.default=Ce;const J=Ce.create({baseURL:"https://api.medicareclinic.ma",timeout:1e4,headers:{"Content-Type":"application/json",Accept:"application/json"}});J.interceptors.request.use(e=>{var r;console.log(` ${(r=e.method)==null?void 0:r.toUpperCase()} ${e.baseURL}${e.url}`,{data:e.data,headers:e.headers});const t=localStorage.getItem("authToken");return t&&(e.headers.Authorization=`Bearer ${t}`,console.log(` Adding auth token: ${t.substring(0,20)}...`)),e},e=>(console.error(" Request error:",e),Promise.reject(e)));J.interceptors.response.use(e=>(console.log(` ${e.status} ${e.config.url}`,{data:e.data}),e),e=>{var t,r,n,a,l,i,o,c;if(console.error(` Response error ${(t=e.response)==null?void 0:t.status}:`,{url:(r=e.config)==null?void 0:r.url,method:(n=e.config)==null?void 0:n.method,status:(a=e.response)==null?void 0:a.status,statusText:(l=e.response)==null?void 0:l.statusText,data:(i=e.response)==null?void 0:i.data}),((o=e.response)==null?void 0:o.status)===401){const d=((c=e.config)==null?void 0:c.url)||"";d.includes("/me")||d.includes("/login")?(console.log(" Auth validation failed - clearing auth data"),localStorage.removeItem("authToken"),localStorage.removeItem("currentUser"),localStorage.removeItem("authType"),window.location.pathname.includes("/login")||(window.location.href="/MedicareClinic/login")):console.warn(" 401 error on non-auth endpoint:",d,"This might be a permission or route guard issue")}return Promise.reject(e)});const Av=()=>J.get("/chats"),Lv=e=>J.get(`/chats/${e}`),zv=(e,t)=>J.post(`/chats/${e}/messages`,{message:t}),rp=p.createContext(void 0),zt=()=>{const e=p.useContext(rp);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Rv=({children:e})=>{const[t,r]=p.useState({user:null,isAuthenticated:!1,authType:null}),[n,a]=p.useState(!0),l=()=>{localStorage.removeItem("currentUser"),localStorage.removeItem("authToken"),localStorage.removeItem("authType")};p.useEffect(()=>{(async()=>{var j,v,w,S,x,u;console.group(" AuthProvider - validateStoredAuth");const h=localStorage.getItem("currentUser"),f=localStorage.getItem("authToken"),g=localStorage.getItem("authType");if(console.log(" Storage contents:",{savedUser:h?"Exists":"Missing",authToken:f?`Exists (${f.length} chars)`:"Missing",savedAuthType:g||"Missing"}),h&&f&&g)try{const m=JSON.parse(h),y=g;console.log(" Parsed user:",m),console.log(" Auth type:",y),r({user:m,isAuthenticated:!0,authType:y});const E=y==="admin"?"/admin/me":"/auth/me";console.log(" Making validation request to:",E);try{const N=await J.get(E);console.log(" Validation successful:",N.data),r({user:N.data,isAuthenticated:!0,authType:y})}catch(N){console.warn(" Auth validation failed, but keeping existing auth:",{message:N.message,status:(j=N.response)==null?void 0:j.status,statusText:(v=N.response)==null?void 0:v.statusText,url:(w=N.config)==null?void 0:w.url}),((S=N.response)==null?void 0:S.status)===401&&((u=(x=N.response)==null?void 0:x.data)==null?void 0:u.message)==="Unauthenticated."&&(console.log(" Definitive auth failure - clearing storage"),l(),r({user:null,isAuthenticated:!1,authType:null}))}}catch(m){console.error(" Error parsing stored data:",m),l(),r({user:null,isAuthenticated:!1,authType:null})}else console.log(" No valid authentication data found in storage"),l(),r({user:null,isAuthenticated:!1,authType:null});console.groupEnd(),a(!1)})()},[]);const i=async(d,h)=>{var f,g,j,v,w,S,x,u,m,y,E;console.group(" AuthProvider - login"),console.log(" Login attempt with:",{usernameOrEmail:d,passwordLength:h.length});try{console.log(" Attempting admin login...");try{const N=await J.post("/admin/login",{login:d,password:h});if(console.log(" Admin login response:",N.data),(f=N==null?void 0:N.data)!=null&&f.access_token&&((g=N==null?void 0:N.data)!=null&&g.user))return localStorage.setItem("authToken",N.data.access_token),localStorage.setItem("currentUser",JSON.stringify(N.data.user)),localStorage.setItem("authType","admin"),r({user:N.data.user,isAuthenticated:!0,authType:"admin"}),console.log(" Admin login successful"),console.groupEnd(),!0;console.warn(" Admin login response missing token or user data")}catch(N){console.log(" Admin login failed:",{status:(j=N.response)==null?void 0:j.status,statusText:(v=N.response)==null?void 0:v.statusText,message:N.message,url:(w=N.config)==null?void 0:w.url})}console.log(" Attempting user login...");try{const N=await J.post("/auth/login",{login:d,password:h});if(console.log(" User login response:",N.data),(S=N==null?void 0:N.data)!=null&&S.access_token&&((x=N==null?void 0:N.data)!=null&&x.user))return localStorage.setItem("authToken",N.data.access_token),localStorage.setItem("currentUser",JSON.stringify(N.data.user)),localStorage.setItem("authType","user"),r({user:N.data.user,isAuthenticated:!0,authType:"user"}),console.log(" User login successful"),console.groupEnd(),!0;console.warn(" User login response missing token or user data")}catch(N){console.error(" User login failed:",{status:(u=N.response)==null?void 0:u.status,statusText:(m=N.response)==null?void 0:m.statusText,message:N.message,url:(y=N.config)==null?void 0:y.url,data:(E=N.response)==null?void 0:E.data})}return console.log(" Both login attempts failed"),console.groupEnd(),!1}catch(N){return console.error(" Unexpected login error:",{message:N.message,stack:N.stack}),console.groupEnd(),!1}},o=()=>{console.log(" Logging out"),l(),r({user:null,isAuthenticated:!1,authType:null})},c=()=>t.isAuthenticated&&!!t.user;return s.jsx(rp.Provider,{value:{...t,login:i,logout:o,checkAccess:c,isLoading:n},children:e})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),G=(e,t)=>{const r=p.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:o="",children:c,...d},h)=>p.createElement("svg",{ref:h,...Fv,width:a,height:a,stroke:n,strokeWidth:i?Number(l)*24/Number(a):l,className:["lucide",`lucide-${Dv(e)}`,o].join(" "),...d},[...t.map(([f,g])=>p.createElement(f,g)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=G("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=G("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=G("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=G("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=G("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=G("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=G("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=G("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=G("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=G("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=G("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=G("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=G("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=G("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=G("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=G("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=G("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=G("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=G("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=G("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=G("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yd=G("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=G("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=G("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=G("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=G("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=G("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=G("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=G("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=G("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=G("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=G("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=G("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=G("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=G("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=G("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=G("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=G("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=G("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=G("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=G("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=G("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=G("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=G("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=G("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=G("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=G("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=G("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=G("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=G("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=G("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=G("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=G("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=G("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=G("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=G("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=G("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=G("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=G("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=G("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=G("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=G("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=G("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=G("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=G("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=G("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=G("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),cp="/assets/aa2-CtAh1B7u.png",sy="/assets/Landing-VsKU_f_R.avif",ry=()=>{const[e,t]=p.useState({name:"",email:"",phone:"",message:""}),[r,n]=p.useState({name:"",email:"",message:""}),[a,l]=p.useState(!1),[i,o]=p.useState(!1),[c,d]=p.useState(!1),[h,f]=p.useState(null),[g,j]=p.useState(!1),v=p.useRef(null),w=p.useRef(null),S=p.useRef(null),x=p.useRef(null),u=p.useRef(null),m=[{name:"Asmaa Messaoudi",review:"Je recommande fortement. Je me prpare chaque t chez Medicare Clinic. Je m'offre des packs d'amincissement pour affiner et remodeler mon corps. C'est ma troisime anne chez eux. Toujours professionnelles et accueillantes. Et le rsultat est toujours l ! Trs trs satisfaite."},{name:"Oumaima Deroui",review:"Je flicite Mme Ghizlane pour le service incroyable, je suis trs ravie du rsultat aprs le traitement hydrafacial, car il m'a donn un clat parfait et aussi une peau douce, alors merci pour tout cela."},{name:"Imane El Kouzoudi",review:"Je fais mes traitements chez Medicare depuis 3 mois maintenant et je ne peux que fliciter le propritaire et l'quipe pour la qualit du service et de l'hospitalit. Ghizlane sait trs bien ce qu'elle fait et elle a le personnel le plus gentil. Je suis plus que satisfaite du rsultat, je recommande vivement !"},{name:"Aya Lemnaoure",review:"Trs satisfaite  Un grand merci  Mme Ghizlane et Fatima Zahrae "},{name:"Malak Aboutaib",review:"Franchement, super exprience pour le laser ! Les rsultats sont au rendez-vous, je vois une vraie diffrence. Les filles sont adorables, toujours souriantes et trs pro. L'ambiance est chaleureuse, on se sent vite en confiance. Je recommande  100 % "},{name:"Ichrak Gaougaou",review:"Aprs avoir vcu une belle exprience au sein de la clinique Mdicale, la seule chose que je peux dire c'est que je suis trs satisfait de tous les rsultats. Ce fut un plaisir de voir des femmes comme la propritaire de l'entreprise aimer leur travail et bnficier de services de bonne qualit. Merci"},{name:"Ilham Kalila",review:"J'ai eu une exprience exceptionnelle au centre Medicare pour un soin Hydrafacial. Le soin tait tout simplement top, et les rsultats sont visibles ds la premire sance. L'quipe est incroyablement gentille, souriante et trs professionnelle. Le centre est propre, moderne et quip des dernires technologies pour offrir les meilleurs soins. Un grand merci  Madame Ghizlane pour ce magnifique centre o l'on se sent entre de bonnes mains. Je recommande vivement."},{name:"Khawla Hamim",review:"Toooop j'ai beaucoup aim le rsultat. Mme Ghizlane est trs sympa. J'ai fait le peeling, zina incroyable la diffrence. Je termine aussi mes sances de laser "},{name:"Nadia Aitoumajjoud",review:"Que Dieu vous bnisse, si Dieu le veut, vous obtenez des rsultats tonnants ds la premire sance, et la diffrence est nette en ce qui concerne le  soin hydrafacial . Traitement classe, bon accueil et grande humilit de la part du Dr Ghazlan. Je vous souhaite du succs, si Dieu le veut."},{name:"Oumaima Elfaz",review:"Trs satisfaite de mon exprience chez Medicare Clinic, 2me soin hydrafacial effectu par Mme Ghizlane toujours avec autant de professionnalisme, de bienveillance et d'coute. Ghizlane fait tout pour votre bien-tre et que le soin soit un moment de plaisir et de dtente. Ce soin a t vraiment un moment de dcompression totale et de lcher-prise sous ses mains douces et expertes."},{name:"Raby El",review:"The Best, franchement toutes les prestations sont au top. Moi j'ai fais le laser, l'amincissement, le lifting... et je suis satisfaite. Les filles sont aimables, elles prennent leur travail  cur. Bon courage et bonne continuation."}];p.useEffect(()=>{const P=u.current;if(!P)return;let F,U=!1,M;const he=320+24,A=m.length*he,b=()=>{if(!U&&P){const K=P.scrollLeft;K>=A?P.scrollLeft=0:P.scrollLeft=K+1}F=requestAnimationFrame(b)},O=()=>{U=!0,clearTimeout(M),M=setTimeout(()=>{U=!1},3e3)};return P.addEventListener("scroll",O),b(),()=>{cancelAnimationFrame(F),clearTimeout(M),P==null||P.removeEventListener("scroll",O)}},[]);const y=P=>{P.current&&(P.current.scrollIntoView({behavior:"smooth"}),d(!1))},E=P=>{const{name:F,value:U}=P.target;t(M=>({...M,[F]:U}))},N=()=>{const P={name:"",email:"",message:""};let F=!0;return e.name.trim()||(P.name="Le nom est requis",F=!1),e.email.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&(P.email="Format d'email invalide",F=!1),e.message.trim()||(P.message="Le message est requis",F=!1),n(P),F};p.useEffect(()=>{if(i){const P=setTimeout(()=>{o(!1)},1e4);return()=>clearTimeout(P)}},[i]);const z=P=>{if(P.preventDefault(),!N())return;l(!0);const F=`*Nouvelle demande de formation*

*Nom:* ${e.name}
*Email:* ${e.email?e.email:"Non fourni"}
*Tlphone:* ${e.phone||"Non fourni"}
*Type de formation:* ${le}

*Message:* ${e.message}`,M=`https://wa.me/212661280787?text=${encodeURIComponent(F)}`;setTimeout(()=>{window.open(M,"_blank"),t({name:"",email:"",phone:"",message:""}),l(!1),o(!0)},500)},C=[{title:"Thorie + Pratique",description:"Formation complte alliant thorie et ateliers pratiques en clinique.",icon:Er,gradient:"from-pink-400 to-rose-500",features:["Cours thoriques complets","Ateliers pratiques","Suivi personnalis","Certification"]},{title:"Thorie uniquement",description:"Accs  tout le contenu thorique en ligne,  votre rythme.",icon:Qe,gradient:"from-purple-400 to-pink-500",features:["Plateforme en ligne","Contenu multimdia","Accs illimit","Explications dtailles"]},{title:"Pratique uniquement",description:"Sessions pratiques intensives en clinique avec nos experts.",icon:nu,gradient:"from-rose-400 to-orange-500",features:["Sessions intensives","quipement professionnel","Experts ddis","Mise en situation"]}],D=[{title:"Soins du Visage Avancs",description:"Traitements professionnels pour amliorer la qualit et l'apparence de votre peau avec les dernires technologies.",icon:Yv,gradient:"from-pink-400 to-rose-400",services:["Hydrafacial","Carbon Peel","Microneedling","Radiofrquence fractionne"]},{title:"Traitements Anti-ge",description:"Solutions non-invasives pour rduire les signes du vieillissement et raffermir votre peau.",icon:Yd,gradient:"from-purple-400 to-pink-400",services:["HIFU Visage","HIFU Double Menton","HIFU Vaginal","Lifting non-chirurgical"]},{title:"pilation & Dtatouage Laser",description:"Technologies laser de pointe pour l'pilation permanente et le dtatouage scuris.",icon:nu,gradient:"from-rose-400 to-orange-400",services:["pilation Laser","Dtatouage","Laser Alexandrite","Laser Diode"]},{title:"Soins Capillaires PRP",description:"Traitement rvolutionnaire au Plasma Riche en Plaquettes pour stimuler la croissance des cheveux.",icon:$v,gradient:"from-emerald-400 to-teal-400",services:["PRP Cheveux","Stimulation folliculaire","Traitement chute","Rgnration capillaire"]}],k=(P,F)=>{P.stopPropagation(),de(F),y(x)},B=[{id:1,title:"Traitement de la peau",isAvailable:!0,duration:"4h",level:"Intermdiaire",description:"Techniques avances pour amliorer la qualit et l'apparence de la peau.",content:{sections:[{title:"Hydrafacial + Carbon Peel",content:"Cette combinaison innovante permet de nettoyer en profondeur, d'hydrater et d'exfolier la peau. Les participants dcouvriront les bienfaits de l'hydrafacial pour revitaliser la peau, ainsi que l'utilisation du carbon peel pour attnuer les imperfections et les signes de vieillissement."},{title:"Microneedling",content:"Ce traitement favorise la rgnration cutane en stimulant la production de collagne. La formation inclura des dmonstrations de la technique, ainsi que des conseils sur les soins post-traitement pour maximiser les rsultats."},{title:"Radiofrquence fractionne",content:"Les participants exploreront cette mthode non invasive, qui utilise des ondes radio pour resserrer la peau et amliorer sa texture. Le module couvrira les indications, contre-indications, et les diffrents types d'appareils utiliss dans le cadre de ces traitements."}]}},{id:2,title:"Anti-ge",isAvailable:!0,duration:"3h",level:"Avanc",description:"Techniques visant  rduire les signes du vieillissement et amliorer l'apparence de la peau.",content:{sections:[{title:"HIFU Visage et Double Menton",content:"Ce traitement non invasif utilise l'ultrason focalis de haute intensit (HIFU) pour stimuler le collagne et raffermir la peau du visage et du double menton. Les participants apprendront les protocoles de traitement, les zones cibles et les rsultats attendus, ainsi que les soins post-traitement."},{title:"HIFU Vaginal",content:"Ce traitement permet de revitaliser la zone intime fminine en utilisant la technologie HIFU pour amliorer l'lasticit et la fermet. Le module inclura des discussions sur les indications, les bnfices, et les prcautions  prendre pour garantir un traitement sr et efficace."}]}},{id:3,title:"pilation Laser",isAvailable:!0,duration:"5h",level:"Intermdiaire",description:"Techniques d'pilation permanente par laser avec comprhension des procdures et meilleures pratiques.",content:{sections:[{title:"Principes de l'pilation Laser",content:"Introduction  la technologie laser, incluant le fonctionnement des lasers (comme le laser Alexandrite et le laser diode) et leur interaction avec la mlanine dans les poils. Les participants apprendront comment la lumire laser cible dtruit le follicule pileux tout en prservant la peau environnante."},{title:"Protocoles de Traitement",content:"Les tapes essentielles pour effectuer un traitement d'pilation laser en toute scurit, y compris : valuation de la peau et des poils des clients, prparation de la zone  traiter, rglages des paramtres du laser en fonction du type de peau et de poil."},{title:"Scurit et Contre-indications",content:"Identification des situations o l'pilation laser ne pourrait pas tre recommande, telles que les maladies cutanes actives ou l'utilisation de mdicaments photosensibilisants. Les participants apprendront galement les moyens de minimiser les effets secondaires potentiels."}]}},{id:4,title:"Dtatouage",isAvailable:!0,duration:"3h",level:"Avanc",description:"Techniques de dtatouage pour rduire ou enlever des tatouages de manire sre et efficace.",content:{sections:[{title:"Principes du Dtatouage",content:"Comprendre les mthodes de dtatouage courantes, notamment le dtatouage au laser, qui utilise des impulsions de lumire pour fragmenter les pigments du tatouage. Les participants dcouvriront galement d'autres approches comme les solutions chimiques et les techniques chirurgicales."},{title:"Techniques de Dtatouage au Laser",content:"Protocoles de Traitement : tapes  suivre pour raliser un traitement, y compris la prparation de la peau, le rglage des paramtres du laser, et l'administration du traitement."}]}},{id:5,title:"PRP Cheveux",isAvailable:!0,duration:"2h",level:"Intermdiaire",description:"Traitement PRP (Plasma Riche en Plaquettes) pour stimuler la croissance capillaire.",content:{sections:[{title:"Introduction au PRP",content:"Prsentation du PRP, ses caractristiques, et principes de fonctionnement. Le PRP est un plasma autologue enrichi en plaquettes, riche en facteurs de croissance favorisant la rgnration et la croissance des tissus, notamment des follicules pileux."},{title:"Indications et bnfices",content:"Traitement contre la chute de cheveux lgre  modre, stimulation de la repousse, amlioration de l'paisseur et de la qualit du cheveu, notamment pour des alopcies androgniques."},{title:"tapes pratiques",content:"Prlvement sanguin du patient, centrifugation pour sparer le plasma riche en plaquettes, injection du PRP dans le cuir chevelu avec des micro-aiguilles en diffrents points cibls."}]}}],R=[{id:6,title:"Onglerie",isAvailable:!1,duration:"6h",level:"Dbutant",launchDate:"Mars 2025",description:"Formation complte en prothsie ongulaire, nail art et soins des mains.",content:{sections:[{title:"Introduction et connaissances de base",content:"Prsentation de la formation, objectifs, anatomie de l'ongle, composition, cycle de croissance, anomalies et maladies courantes. Notions d'hygine, dsinfection du matriel, risques professionnels."},{title:"Matriel et prparation",content:"Prsentation des outils et produits utiliss en onglerie. Prparation de l'ongle naturel : limage, repoussage des cuticules, petite manucure."},{title:"Techniques de pose et faonnage",content:"Pose de vernis rgulier, semi-permanent, french manucure. Techniques de pose gel, rsine acrylique et acrygel."},{title:"Nail art et dcoration",content:"Techniques de dcoration d'ongles : dessins, motifs, strass, paillettes. Utilisation des outils spcifiques."}]}},{id:7,title:"Formation Cils",isAvailable:!1,duration:"4h",level:"Intermdiaire",launchDate:"Avril 2025",description:"Techniques d'extension et rehaussement de cils, spcialiste du regard.",content:{sections:[{title:"Introduction au mtier",content:"Prsentation du mtier de technicien(ne) cil  cil et spcialiste du regard. Anatomie des cils et regard : comprendre la structure, cycle de croissance, et prcautions."},{title:"Hygine et scurit",content:"Protocoles de dsinfection du matriel et hygine en salon. Prvention des allergies, contre-indications et scurit client."},{title:"Techniques d'extension de cils",content:"Types d'extensions (classiques, volume russe, hybride). Choix des matriaux : types de cils synthtiques, longueur, courbure."},{title:"Techniques de rehaussement de cils",content:"Procd de rehaussement : droulement, produits utiliss. Techniques de teinture des cils et soins complmentaires."}]}},{id:8,title:"Formation Hijama",isAvailable:!1,duration:"3h",level:"Dbutant",launchDate:"Mai 2025",description:"Introduction  la Hijama (cupping), techniques de base et scurit.",content:{sections:[{title:"Introduction rapide",content:"Qu'est-ce que la Hijama (cupping) ? Bienfaits principaux et indications courantes."},{title:"Matriel de base",content:"Ventouses simples : types et utilisation. Rgles d'hygine faciles  appliquer."},{title:"Anatomie et zones d'application",content:"Localisation simple des points principaux (zones dos, bras, jambes). Comprendre o poser les ventouses sans entrer dans le dtail des mridiens."},{title:"Techniques de base",content:"Hijama sche (sans saigne) : pose et retrait des ventouses. Dure moyenne et sensations possibles. Prcautions lmentaires."}]}}],Q=P=>{f(P),j(!0)},H=()=>{j(!1),f(null)},ae=["Thorie + Pratique","Thorie uniquement","Pratique uniquement"],[le,de]=p.useState(ae[0]);return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-rose-50 to-orange-50",children:[s.jsxs("nav",{className:"sticky top-0 z-50 bg-white/80 backdrop-blur-md border-b border-pink-200",children:[s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsx("div",{className:"flex items-center mt-6",children:s.jsx("img",{src:cp,alt:"Logo Medicare Clinic",className:"h-24 md:h-28 lg:h-32 w-auto object-contain my-2"})}),s.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[s.jsx("button",{onClick:()=>y(v),className:"text-gray-700 hover:text-pink-600 font-medium",children:"Formations"}),s.jsx("button",{onClick:()=>y(w),className:"text-gray-700 hover:text-pink-600 font-medium",children:"Services"}),s.jsx("button",{onClick:()=>y(S),className:"text-gray-700 hover:text-pink-600 font-medium",children:"Tmoignages"}),s.jsx("button",{onClick:()=>y(x),className:"text-gray-700 hover:text-pink-600 font-medium",children:"Contact"})]}),s.jsx("div",{className:"hidden md:flex space-x-4",children:s.jsx(ge,{to:"/login",className:"w-full text-center bg-gradient-to-r from-pink-500 to-rose-500 text-white py-2 px-3 rounded-lg hover:opacity-90 transition-opacity font-medium",children:"Voir les cours"})}),s.jsx("div",{className:"md:hidden",children:s.jsx("button",{onClick:()=>d(!c),className:"p-2 rounded-md text-gray-600 hover:bg-pink-50",children:c?s.jsx(ut,{className:"h-6 w-6"}):s.jsx(ip,{className:"h-6 w-6"})})})]})}),c&&s.jsx("div",{className:"md:hidden bg-white border-b border-pink-100 py-4 px-4",children:s.jsxs("div",{className:"flex flex-col space-y-3",children:[s.jsx("button",{onClick:()=>y(v),className:"text-gray-700 hover:text-pink-600 font-medium py-2 px-3 rounded-md hover:bg-pink-50",children:"Formations"}),s.jsx("button",{onClick:()=>y(w),className:"text-gray-700 hover:text-pink-600 font-medium py-2 px-3 rounded-md hover:bg-pink-50",children:"Services"}),s.jsx("button",{onClick:()=>y(S),className:"text-gray-700 hover:text-pink-600 font-medium py-2 px-3 rounded-md hover:bg-pink-50",children:"Tmoignages"}),s.jsx("button",{onClick:()=>y(x),className:"text-gray-700 hover:text-pink-600 font-medium py-2 px-3 rounded-md hover:bg-pink-50",children:"Contact"}),s.jsx("hr",{className:"border-pink-100 my-2"}),s.jsx("div",{className:"flex",children:s.jsx(ge,{to:"/login",className:"w-full text-center bg-gradient-to-r from-pink-500 to-rose-500 text-white py-2 px-3 rounded-lg hover:opacity-90 transition-opacity font-medium",children:"Voir les cours"})})]})})]}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 md:py-24 flex flex-col md:flex-row items-center",children:[s.jsxs("div",{className:"md:w-1/2 mb-8 md:mb-0",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6 leading-tight",children:"Rejoignez l'Acadmie Clinique Esthtique pour des Formations d'Excellence"}),s.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Dcouvrez notre plateforme de formation en ligne ddie  la mdecine esthtique : soins du visage, lasers, PRP, microneedling et bien plus."}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs(ge,{to:"/login",className:"bg-gradient-to-r from-pink-500 to-rose-500 text-white px-6 py-3 rounded-lg hover:opacity-90 transition-opacity font-medium flex items-center",children:["Commencer ",s.jsx(Uv,{className:"ml-2 h-5 w-5"})]}),s.jsxs("button",{onClick:()=>y(v),className:"flex items-center text-pink-600 font-medium hover:underline",children:["En savoir plus ",s.jsx(ni,{className:"ml-1 h-5 w-5"})]})]})]}),s.jsxs("div",{className:"md:w-1/2 relative",children:[s.jsx("div",{className:"bg-gradient-to-br from-pink-400 to-rose-500 rounded-lg overflow-hidden shadow-xl transform -rotate-2",children:s.jsx("img",{src:sy,alt:"Formation esthtique",className:"w-full h-auto opacity-90"})}),s.jsxs("div",{className:"absolute -bottom-6 -right-6 bg-white rounded-lg p-4 shadow-lg",children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Rejoignez notre Acadmie Clinique Esthtique"}),s.jsxs("div",{className:"flex mt-2",children:[s.jsx("div",{className:"flex -space-x-2",children:[1,2,3,4,5].map(P=>s.jsx("div",{className:"w-8 h-8 rounded-full bg-pink-300 border-2 border-white flex items-center justify-center text-white text-xs",children:P},P))}),s.jsxs("div",{className:"ml-2 text-sm text-gray-600",children:[s.jsx("div",{className:"font-medium",children:"Formations 5 toiles"}),s.jsx("div",{children:"pour professionnels"})]})]})]})]})]}),s.jsx("section",{id:"features",ref:v,className:"py-16 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Formation en mdecine esthtique"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"3 options de formation rserves  nos clients :"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:C.map((P,F)=>s.jsxs("div",{className:"group relative bg-white rounded-xl shadow-lg p-6 hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-500 border border-gray-100 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br opacity-0 group-hover:opacity-5 transition-opacity duration-500",style:{background:"linear-gradient(to bottom right, rgb(236 72 153), rgb(239 68 68))"}}),s.jsx("div",{className:`bg-gradient-to-r ${P.gradient} w-16 h-16 rounded-full flex items-center justify-center mb-6 transform group-hover:scale-110 transition-transform duration-300`,children:s.jsx(P.icon,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3 group-hover:text-pink-600 transition-colors",children:P.title}),s.jsx("p",{className:"text-gray-600 mb-6",children:P.description}),s.jsx("ul",{className:"space-y-2 mb-6",children:P.features.map((U,M)=>s.jsxs("li",{className:"flex items-center text-sm",children:[s.jsx(Me,{className:"h-4 w-4 text-pink-500 mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:U})]},M))}),s.jsx("div",{className:"text-center",children:s.jsx("button",{onClick:U=>k(U,P.title),className:"bg-gradient-to-r from-pink-500 to-rose-500 text-white px-4 py-2 rounded-lg opacity-0 group-hover:opacity-100 transform translate-y-2 group-hover:translate-y-0 transition-all duration-300 hover:scale-105",children:"Choisir cette formation"})}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-pink-400 to-rose-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"})]},F))}),s.jsxs("div",{className:"mb-12",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-8 text-center",children:"Modules Disponibles"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:B.map(P=>s.jsxs("div",{onClick:()=>Q(P),className:"group bg-white rounded-xl p-6 cursor-pointer hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 border border-gray-200 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-green-400 to-emerald-500"}),s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-400 to-emerald-500 w-12 h-12 rounded-lg flex items-center justify-center shadow-lg",children:s.jsx(Er,{className:"h-6 w-6 text-white"})}),s.jsx("div",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-xs font-medium",children:"Disponible"})]}),s.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-2 group-hover:text-green-600 transition-colors",children:P.title}),s.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:P.description}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(vt,{className:"h-4 w-4 mr-1"}),P.duration]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(an,{className:"h-4 w-4 mr-1"}),P.level]})]}),s.jsx("div",{className:"text-center",children:s.jsxs("button",{className:"text-green-600 font-medium text-sm hover:text-green-700 transition-colors flex items-center mx-auto",children:["Voir le contenu ",s.jsx(ni,{className:"h-4 w-4 ml-1"})]})})]},P.id))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-8 text-center",children:"Modules  Venir"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:R.map(P=>s.jsxs("div",{onClick:()=>Q(P),className:"group bg-white rounded-xl p-6 cursor-pointer hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 border border-gray-200 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-orange-400 to-amber-500"}),s.jsx("div",{className:"absolute top-4 right-4 bg-gradient-to-r from-orange-400 to-amber-500 text-white px-3 py-1 rounded-full text-xs font-medium animate-pulse",children:"Bientt"}),s.jsx("div",{className:"flex items-start justify-between mb-4",children:s.jsx("div",{className:"bg-gradient-to-r from-orange-400 to-amber-500 w-12 h-12 rounded-lg flex items-center justify-center shadow-lg",children:s.jsx(vt,{className:"h-6 w-6 text-white"})})}),s.jsx("h4",{className:"text-lg font-bold text-gray-700 mb-2 group-hover:text-orange-600 transition-colors",children:P.title}),s.jsx("p",{className:"text-gray-500 text-sm mb-4 line-clamp-2",children:P.description}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-400 mb-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(vt,{className:"h-4 w-4 mr-1"}),P.duration]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(an,{className:"h-4 w-4 mr-1"}),P.level]})]}),s.jsx("div",{className:"text-xs text-orange-600 font-medium mb-4"}),s.jsx("div",{className:"text-center",children:s.jsxs("button",{className:"text-orange-600 font-medium text-sm hover:text-orange-700 transition-colors flex items-center mx-auto",children:["Aperu du contenu ",s.jsx(ni,{className:"h-4 w-4 ml-1"})]})})]},P.id))})]})]})}),s.jsx("section",{id:"services",ref:w,className:"py-16 bg-gradient-to-br from-gray-50 to-pink-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Nos Services en Clinique"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Dcouvrez nos traitements esthtiques professionnels dans notre clinique  Marrakech"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:D.map((P,F)=>s.jsxs("div",{className:"group bg-white rounded-xl p-5 hover:shadow-xl transform hover:-translate-y-2 transition-all duration-500 border border-gray-100 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br opacity-0 group-hover:opacity-5 transition-opacity duration-500",style:{background:"linear-gradient(to bottom right, rgb(236 72 153), rgb(239 68 68))"}}),s.jsx("div",{className:`bg-gradient-to-r ${P.gradient} w-10 h-10 rounded-full flex items-center justify-center mb-3 transform group-hover:scale-110 transition-transform duration-300`,children:s.jsx(P.icon,{className:"h-5 w-5 text-white"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 group-hover:text-pink-600 transition-colors",children:P.title}),s.jsx("p",{className:"text-gray-600 text-sm mb-3",children:P.description}),s.jsx("ul",{className:"space-y-1.5",children:P.services.map((U,M)=>s.jsxs("li",{className:"flex items-center",children:[s.jsx(Me,{className:"h-3.5 w-3.5 text-pink-500 mr-2 flex-shrink-0"}),s.jsx("span",{className:"text-xs text-gray-700",children:U})]},M))}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-pink-400 to-rose-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"})]},F))})]})}),g&&h&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto m-2",children:[s.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 sm:p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start sm:items-center flex-col sm:flex-row",children:[s.jsx("div",{className:`${h.isAvailable?"bg-gradient-to-r from-pink-400 to-rose-500":"bg-gradient-to-r from-gray-400 to-gray-500"} w-10 h-10 sm:w-12 sm:h-12 rounded-full flex items-center justify-center mb-2 sm:mb-0 sm:mr-4`,children:h.isAvailable?s.jsx(Nt,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"}):s.jsx(vt,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:h.title}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 mt-1",children:[s.jsxs("span",{className:"text-sm text-gray-500 flex items-center",children:[s.jsx(vt,{className:"h-4 w-4 mr-1"}),h.duration]}),s.jsxs("span",{className:"text-sm text-gray-500 flex items-center",children:[s.jsx(an,{className:"h-4 w-4 mr-1"}),h.level]}),h.isAvailable?s.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium",children:"Disponible"}):s.jsx("span",{className:"bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-xs font-medium",children:"Bientt"})]})]})]}),s.jsx("button",{onClick:H,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(ut,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-500"})})]})}),s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsx("p",{className:"text-gray-600 mb-6",children:h.description}),s.jsx("div",{className:"space-y-4 sm:space-y-6",children:h.content.sections.map((P,F)=>s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 sm:p-6",children:[s.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2 sm:mb-3 flex items-center",children:[s.jsx("div",{className:"bg-pink-100 text-pink-600 w-5 h-5 sm:w-6 sm:h-6 rounded-full flex items-center justify-center text-xs sm:text-sm font-bold mr-2 sm:mr-3 flex-shrink-0",children:F+1}),s.jsx("span",{children:P.title})]}),s.jsx("p",{className:"text-gray-700 text-sm sm:text-base leading-relaxed",children:P.content})]},F))}),s.jsx("div",{className:"mt-6 sm:mt-8 text-center",children:h.isAvailable?s.jsx(ge,{to:"/login",className:"bg-gradient-to-r from-pink-500 to-rose-500 text-white px-6 sm:px-8 py-2 sm:py-3 rounded-lg hover:opacity-90 transition-opacity font-medium inline-block",children:"Commencer ce module"}):s.jsx("button",{className:"bg-gray-400 text-white px-6 sm:px-8 py-2 sm:py-3 rounded-lg cursor-not-allowed font-medium",children:"Bientt Disponible"})})]})]})}),s.jsx("section",{id:"testimonials",ref:S,className:"py-16 bg-gradient-to-r from-rose-50 to-pink-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Tmoignages de nos clients"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Dcouvrez ce que nos clients disent de leur exprience chez Medicare Clinic"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{ref:u,className:"flex overflow-x-auto scrollbar-hide space-x-6 pb-4",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[m.map((P,F)=>s.jsxs("div",{className:"flex-none w-80 bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-pink-300 to-rose-300 flex items-center justify-center text-white font-bold",children:P.name.charAt(0)}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h4",{className:"font-bold text-gray-900",children:P.name}),s.jsx("div",{className:"flex",children:[...Array(5)].map((U,M)=>s.jsx(oo,{className:"h-4 w-4 text-yellow-400 fill-current"},M))})]})]}),s.jsxs("p",{className:"text-gray-700 italic text-sm leading-relaxed",children:['"',P.review,'"']})]},`original-${F}`)),m.map((P,F)=>s.jsxs("div",{className:"flex-none w-80 bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-pink-300 to-rose-300 flex items-center justify-center text-white font-bold",children:P.name.charAt(0)}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h4",{className:"font-bold text-gray-900",children:P.name}),s.jsx("div",{className:"flex",children:[...Array(5)].map((U,M)=>s.jsx(oo,{className:"h-4 w-4 text-yellow-400 fill-current"},M))})]})]}),s.jsxs("p",{className:"text-gray-700 italic text-sm leading-relaxed",children:['"',P.review,'"']})]},`duplicate-${F}`))]}),s.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-8 bg-gradient-to-r from-rose-50 to-transparent pointer-events-none"}),s.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-8 bg-gradient-to-l from-pink-50 to-transparent pointer-events-none"})]}),s.jsxs("div",{className:"text-center mt-6 flex items-center justify-center space-x-3",children:[s.jsx("div",{className:"text-2xl animate-bounce",children:s.jsx("span",{className:"inline-block animate-pulse",children:""})}),s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Faites dfiler pour voir plus de tmoignages"}),s.jsx("div",{className:"text-2xl animate-bounce animation-delay-500",children:s.jsx("span",{className:"inline-block animate-pulse",style:{animationDelay:"0.5s"},children:""})})]})]})}),s.jsx("section",{id:"contact",ref:x,className:"py-16 bg-white",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"bg-gradient-to-r from-pink-50 to-rose-50 rounded-2xl p-8 md:p-12",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Vous souhaitez en savoir plus ?"}),s.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Contactez notre quipe pour dcouvrir les options d'adhsion et les parcours de formation spcialiss."}),s.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[s.jsx("div",{className:"p-2 bg-pink-100 rounded-full",children:s.jsx(lt,{className:"h-6 w-6 text-pink-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-900",children:"Accompagnement personnalis"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Bnficiez d'un suivi individuel et de conseils adapts  votre parcours"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"p-2 bg-pink-100 rounded-full",children:s.jsx(vr,{className:"h-6 w-6 text-pink-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-900",children:"Parcours de certification"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Suivez les cours et obtenez des certificats"})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Contactez-nous"}),i?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center p-2 bg-green-100 rounded-full mb-4",children:s.jsx(Me,{className:"h-8 w-8 text-green-600"})}),s.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-2",children:"Merci !"}),s.jsx("p",{className:"text-gray-600",children:"Nous avons bien reu votre message et nous vous contacterons rapidement."})]}):s.jsxs("form",{onSubmit:z,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom complet"}),s.jsx("input",{type:"text",id:"name",name:"name",value:e.name,onChange:E,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500",required:!0}),r.name&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:E,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"}),r.email&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.email})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tlphone"}),s.jsx("input",{type:"tel",id:"phone",name:"phone",value:e.phone,onChange:E,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"formation",className:"block text-sm font-medium text-gray-700 mb-1",children:"Type de formation"}),s.jsx("select",{id:"formation",name:"formation",value:le,onChange:P=>de(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500",required:!0,children:ae.map(P=>s.jsx("option",{value:P,children:P},P))})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),s.jsx("textarea",{id:"message",name:"message",value:e.message,onChange:E,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500",required:!0}),r.message&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.message})]}),s.jsx("button",{type:"submit",disabled:a,className:"w-full bg-gradient-to-r from-pink-500 to-rose-500 text-white py-2 px-4 rounded-md hover:opacity-90 transition-opacity disabled:opacity-50 font-medium flex items-center justify-center",children:a?"Envoi en cours...":s.jsxs(s.Fragment,{children:["Envoyer sur WhatsApp",s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"})})]})})]})]})]})})})}),s.jsx("footer",{className:"bg-gray-900 text-white py-12",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"flex items-center justify-center p-2 bg-gradient-to-r from-pink-400 to-rose-400 rounded-full mr-2",children:s.jsx(Yd,{className:"h-5 w-5 text-white"})}),s.jsx("span",{className:"text-xl font-bold text-white",children:"MediCare Clinic"})]}),s.jsx("p",{className:"text-gray-400 mb-6 max-w-md",children:"Nous accompagnons les professionnels de la beaut avec des formations expertes en soins du visage, lasers et procdures esthtiques avances."}),s.jsxs("div",{className:"space-y-4 mb-8",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-gray-800 rounded-full mr-3",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-pink-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),s.jsx("a",{href:"tel:+212524434640",className:"text-gray-300 hover:text-pink-400 transition-colors",children:"+212 524 434 640"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-gray-800 rounded-full mr-3",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-pink-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),s.jsx("a",{href:"https://wa.me/212661280787",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-pink-400 transition-colors",children:"+212 661 280 787"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-gray-800 rounded-full mr-3",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-pink-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),s.jsx("a",{href:"https://www.google.com/maps?q=31.6376501,+-8.0112558&z=17&hl=fr",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-pink-400 transition-colors",children:"N 9 Rsidence Ahlam A, Entre 1, 2me tage, Av. Yacoub El Mansour, Marrakech 40000"})]})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("a",{href:"https://www.facebook.com/p/Medicare-Clinic-100083241855250/",target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-gray-800 rounded-full hover:bg-pink-500 transition-colors",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"})})}),s.jsx("a",{href:"https://www.instagram.com/medicare_clinic_marrakech/?hl=fr",target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-gray-800 rounded-full hover:bg-pink-500 transition-colors",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})}),s.jsx("a",{href:"https://wa.me/212661280787",target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-gray-800 rounded-full hover:bg-pink-500 transition-colors",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"})})})]})]}),s.jsx("div",{className:"h-64 md:h-auto",children:s.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3396.779924761284!2d-8.011255825060234!3d31.637650074571902!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMzHCsDM4JzE1LjYiTiA4wrAwMCczNi42Ilc!5e0!3m2!1sen!2sma!4v1628550897505!5m2!1sen!2sma",className:"w-full h-full rounded-lg",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]}),s.jsxs("div",{className:"border-t border-gray-800 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center",children:[s.jsx("p",{className:"text-gray-400 text-sm",children:" 2025 MediCare Clinic. Tous droits rservs."}),s.jsxs("div",{className:"flex mt-4 md:mt-0 space-x-6",children:[s.jsx("button",{onClick:()=>y(v),className:"text-gray-400 hover:text-pink-400 transition-colors text-sm",children:"Formations"}),s.jsx("button",{onClick:()=>y(S),className:"text-gray-400 hover:text-pink-400 transition-colors text-sm",children:"Tmoignages"}),s.jsx("button",{onClick:()=>y(x),className:"text-gray-400 hover:text-pink-400 transition-colors text-sm",children:"Contact"})]})]})]})}),s.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed bottom-6 right-6 bg-pink-500 text-white p-3 rounded-full shadow-lg hover:bg-pink-600 transition-colors z-40","aria-label":"Retour en haut",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"})})}),s.jsx("style",{children:`
        .scrollbar-hide {
          -ms-overflow-style: none;
          scrollbar-width: none;
        }
        .scrollbar-hide::-webkit-scrollbar {
          display: none;
        }
        .animation-delay-500 {
          animation-delay: 0.5s;
        }
        @keyframes wave {
          0%, 100% { transform: rotate(0deg); }
          25% { transform: rotate(20deg); }
          75% { transform: rotate(-20deg); }
        }
        .animate-wave {
          animation: wave 2s ease-in-out infinite;
        }
      `})]})},V=p.forwardRef(({className:e="",variant:t="primary",size:r="md",isLoading:n,children:a,disabled:l,...i},o)=>{const c="inline-flex items-center justify-center rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",d={primary:"bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-600 hover:to-rose-600 text-white shadow-lg hover:shadow-xl focus:ring-pink-500",secondary:"bg-gray-100 hover:bg-gray-200 text-gray-900 focus:ring-gray-500",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500",ghost:"text-gray-600 hover:text-gray-900 hover:bg-gray-100 focus:ring-gray-500"},h={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};return s.jsx("button",{ref:o,className:`${c} ${d[t]} ${h[r]} ${e}`,disabled:l||n,...i,children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Loading..."]}):a})});V.displayName="Button";const dp=({onMenuClick:e})=>{const{user:t,isAuthenticated:r,logout:n}=zt(),a=qt(),[l,i]=p.useState(0),[o,c]=p.useState(!1),[d,h]=p.useState([]),[f,g]=p.useState(!1),[j,v]=p.useState(!1),[w,S]=p.useState("all"),[x,u]=p.useState("all"),[m,y]=p.useState(!1),E=p.useRef(null),N=p.useRef(null),z=J;p.useEffect(()=>{const M=q=>{E.current&&!E.current.contains(q.target)&&y(!1),N.current&&!N.current.contains(q.target)&&c(!1)};return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[]);const C=async()=>{try{const M=await z.get("/notifications/unread-count");i(M.data.data.unread_count)}catch(M){console.error("Failed to fetch notification count:",M)}},D=async()=>{g(!0);try{let M="/notifications?per_page=50";w==="unread"&&(M+="&unread_only=true"),x!=="all"&&(M+=`&type=${x}`);const q=await z.get(M);h(q.data.data)}catch(M){console.error("Failed to fetch notifications:",M)}finally{g(!1)}},k=async M=>{try{await z.patch(`/notifications/${M}/read`),h(q=>q.map(se=>se.id===M?{...se,is_read:!0}:se)),C()}catch(q){console.error("Failed to mark as read:",q)}},B=async()=>{try{await z.patch("/notifications/mark-all-read"),h(M=>M.map(q=>({...q,is_read:!0}))),C()}catch(M){console.error("Failed to mark all as read:",M)}},R=async M=>{try{await z.delete(`/notifications/${M}`),h(q=>q.filter(se=>se.id!==M)),C()}catch(q){console.error("Failed to delete notification:",q)}},Q=M=>{switch(M){case"urgent":return s.jsx(De,{className:"h-4 w-4 text-red-500"});case"high":return s.jsx(De,{className:"h-4 w-4 text-orange-500"});case"medium":return s.jsx(Vv,{className:"h-4 w-4 text-blue-500"});default:return s.jsx(ri,{className:"h-4 w-4 text-gray-500"})}},H=M=>({video_added:"Nouvelle vido",comment_approved:"Commentaire approuv",comment_rejected:"Commentaire rejet",new_comment:"Nouveau commentaire",access_expiring:"Accs expirant",category_assigned:"Catgorie assigne",welcome:"Bienvenue"})[M]||M,ae=M=>{var q,se;switch(M.type){case"video_added":return`/app/watch/${((q=M.data)==null?void 0:q.video_id)??""}`;case"comment_approved":case"comment_rejected":return`/app/watch/${((se=M.data)==null?void 0:se.video_id)??""}`;case"category_assigned":return"/app/dashboard";case"access_expiring":return"/app/profile";default:return"#"}},le=async()=>{o||await D(),c(!o),v(!1),y(!1)},de=async()=>{await D(),v(!0),c(!1)},P=()=>{v(!1)},F=()=>{n(),a("/login")},U=()=>{y(!m),c(!1)};return p.useEffect(()=>{if(r){C();const M=setInterval(C,3e4);return()=>clearInterval(M)}},[r]),r?j?s.jsx("div",{className:"fixed inset-0 z-50 bg-white",children:s.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Notifications"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("select",{value:w,onChange:M=>S(M.target.value),className:"border border-gray-300 rounded-md px-3 py-2",children:[s.jsx("option",{value:"all",children:"Tous"}),s.jsx("option",{value:"unread",children:"Non lus uniquement"}),s.jsx("option",{value:"read",children:"Lus uniquement"})]}),s.jsxs("select",{value:x,onChange:M=>u(M.target.value),className:"border border-gray-300 rounded-md px-3 py-2",children:[s.jsx("option",{value:"all",children:"Tous les types"}),s.jsx("option",{value:"video_added",children:"Nouvelles vidos"}),s.jsx("option",{value:"comment_approved",children:"Commentaires approuvs"}),s.jsx("option",{value:"comment_rejected",children:"Commentaires rejets"}),s.jsx("option",{value:"access_expiring",children:"Accs expirant"}),s.jsx("option",{value:"category_assigned",children:"Mises  jour de catgorie"})]}),s.jsx(V,{onClick:B,variant:"outline",children:"Tout marquer comme lu"}),s.jsx(V,{onClick:P,variant:"outline",children:"Fermer"})]})]}),s.jsx("div",{className:"space-y-4",children:f?s.jsx("div",{className:"text-center py-12 text-gray-500",children:"Chargement des notifications..."}):d.length===0?s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(ri,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),s.jsx("p",{children:"Aucune notification trouve"})]}):d.map(M=>s.jsx("div",{className:`p-4 border rounded-lg ${M.is_read?"bg-white border-gray-200":"bg-blue-50 border-blue-200"}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:Q(M.priority)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:M.title}),s.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full",children:H(M.type)})]}),s.jsx("p",{className:"text-gray-700 mb-2",children:M.message}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[s.jsx("span",{children:new Date(M.created_at).toLocaleDateString()}),s.jsx("span",{className:"capitalize",children:M.priority})]}),s.jsx(ge,{to:ae(M),className:"inline-block mt-3 text-sm text-blue-600 hover:text-blue-800",onClick:()=>k(M.id),children:"View details "})]})]}),s.jsxs("div",{className:"flex space-x-2 ml-4",children:[!M.is_read&&s.jsx("button",{onClick:()=>k(M.id),className:"p-1 text-gray-400 hover:text-green-600",title:"Marquer comme lu",children:s.jsx(Me,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>R(M.id),className:"p-1 text-gray-400 hover:text-red-600",title:"Supprimer la notification",children:s.jsx(ks,{className:"h-5 w-5"})})]})]})},M.id))})]})}):s.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-white/80 backdrop-blur-md border-b border-pink-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[(t==null?void 0:t.role)==="admin"&&e&&s.jsx("button",{onClick:e,className:"lg:hidden p-2 rounded-lg hover:bg-gray-100",children:s.jsx(ip,{className:"h-5 w-5 text-gray-600"})}),s.jsx(ge,{to:(t==null?void 0:t.role)==="admin"?"/admin/dashboard":"/app/dashboard",className:"flex items-center space-x-2",children:s.jsx("div",{className:"flex items-center mt-6",children:s.jsx("img",{src:cp,alt:"Logo Medicare Clinic",className:"h-24 md:h-28 lg:h-32 w-auto object-contain my-2"})})})]}),s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[s.jsxs("div",{className:"relative flex items-center",ref:N,children:[s.jsxs(V,{variant:"ghost",size:"sm",onClick:le,className:"relative",children:[s.jsx(ri,{className:"h-4 w-4"}),l>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:l>9?"9+":l})]}),s.jsx(ge,{to:(t==null?void 0:t.role)==="admin"?"/admin/chat":"/app/chat",className:"ml-2",title:"Chat",children:s.jsx(V,{variant:"ghost",size:"sm",className:"relative",children:s.jsx(jt,{className:"h-4 w-4"})})}),o&&s.jsxs("div",{className:"fixed left-1/2 transform -translate-x-1/2 lg:left-auto lg:transform-none lg:right-48 xl:right-8 top-16 w-80 max-w-[calc(100vw-2rem)] bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[s.jsxs("div",{className:"p-3 sm:p-4 border-b border-gray-200 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 sm:gap-0",children:[s.jsx("h3",{className:"font-semibold text-gray-800 text-sm sm:text-base",children:"Notifications"}),d.some(M=>!M.is_read)&&s.jsx("button",{onClick:B,className:"text-xs sm:text-sm text-blue-600 hover:text-blue-800",children:"Mark all read"})]}),s.jsx("div",{className:"max-h-60 sm:max-h-96 overflow-y-auto",children:f?s.jsx("div",{className:"p-3 sm:p-4 text-center text-gray-500 text-sm",children:"Chargement..."}):d.length===0?s.jsx("div",{className:"p-3 sm:p-4 text-center text-gray-500 text-sm",children:"Aucune notification"}):d.slice(0,5).map(M=>s.jsx("div",{className:`p-3 sm:p-4 border-b border-gray-100 hover:bg-gray-50 ${M.is_read?"":"bg-blue-50"}`,children:s.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:Q(M.priority)}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs(ge,{to:ae(M),onClick:()=>k(M.id),className:"block hover:no-underline",children:[s.jsx("h4",{className:"text-xs sm:text-sm font-medium text-gray-900 leading-tight",children:M.title}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mt-1 leading-tight",children:M.message}),s.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400 mt-1 sm:mt-2",children:new Date(M.created_at).toLocaleDateString()})]})}),!M.is_read&&s.jsx("button",{onClick:()=>k(M.id),className:"flex-shrink-0 text-gray-400 hover:text-gray-600 p-1",title:"Marquer comme lu",children:s.jsx(np,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})},M.id))}),s.jsx("div",{className:"p-2 sm:p-3 border-t border-gray-200 text-center",children:s.jsx("button",{onClick:de,className:"text-xs sm:text-sm text-blue-600 hover:text-blue-800",children:"View all notifications"})})]})]}),s.jsxs("div",{className:"relative",ref:E,children:[s.jsxs("button",{onClick:U,className:"flex items-center space-x-2 text-sm text-gray-600 hover:text-gray-900 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsx(Xd,{className:"h-6 w-6"}),s.jsx("span",{className:"hidden md:inline",children:t==null?void 0:t.username}),s.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:t==null?void 0:t.role}),s.jsx(mc,{className:"h-3 w-3"})]}),m&&s.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Xd,{className:"h-8 w-8 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:(t==null?void 0:t.name)||(t==null?void 0:t.username)}),s.jsx("p",{className:"text-sm text-gray-500",children:t==null?void 0:t.email})]})]})}),s.jsx("div",{className:"py-2",children:(t==null?void 0:t.role)==="admin"?s.jsxs(s.Fragment,{children:[s.jsxs(ge,{to:"/admin/profile",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>y(!1),children:[s.jsx(En,{className:"h-4 w-4 mr-3"}),"Profile Settings"]}),s.jsxs(ge,{to:"/admin/dashboard",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>y(!1),children:[s.jsx(Be,{className:"h-4 w-4 mr-3"}),"Admin Dashboard"]}),s.jsxs(ge,{to:"/admin/chat",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>y(!1),children:[s.jsx(jt,{className:"h-4 w-4 mr-3"}),"Admin Chat"]})]}):s.jsxs(s.Fragment,{children:[s.jsxs(ge,{to:"/app/dashboard",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>y(!1),children:[s.jsx(Be,{className:"h-4 w-4 mr-3"}),"Dashboard"]}),s.jsxs(ge,{to:"/app/profile",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>y(!1),children:[s.jsx(En,{className:"h-4 w-4 mr-3"}),"Profile Settings"]}),s.jsxs(ge,{to:"/app/chat",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>y(!1),children:[s.jsx(jt,{className:"h-4 w-4 mr-3"}),"Chat Support"]})]})}),s.jsx("div",{className:"border-t border-gray-200 py-2",children:s.jsxs("button",{onClick:()=>{y(!1),F()},className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[s.jsx(Wv,{className:"h-4 w-4 mr-3"}),"Sign Out"]})})]})]})]})]})})}):null},ny=()=>s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-rose-50 to-orange-50",children:[s.jsx(dp,{}),s.jsx("main",{className:"pt-16",children:s.jsx(Ah,{})})]}),ay=({isOpen:e,onClose:t})=>{const r=Xs(),n=[{path:"/admin",icon:Bv,label:"Tableau de bord",exact:!0},{path:"/admin/videos",icon:it,label:"Gestion des vidos"},{path:"/admin/videos/new",icon:$s,label:"Ajouter une vido"},{path:"/admin/categories",icon:Xa,label:"Catgories"},{path:"/admin/users",icon:Qe,label:"Gestion des utilisateurs"},{path:"/admin/progress",icon:Cr,label:"Progression des utilisateurs"},{path:"/admin/chat",icon:jt,label:"Chat"},{path:"/admin/preview",icon:Mt,label:"Aperu du portail"}],a=(l,i)=>i?r.pathname===l:r.pathname.startsWith(l);return s.jsxs(s.Fragment,{children:[e&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:t}),s.jsxs("div",{className:`
        w-64 bg-white shadow-lg border-r border-gray-200 h-screen fixed left-0 top-16 z-50
        transform transition-transform duration-300 ease-in-out
        ${e?"translate-x-0":"-translate-x-full"}
        lg:translate-x-0
      `,children:[s.jsx("div",{className:"lg:hidden flex justify-end p-4",children:s.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100",children:s.jsx(ut,{className:"h-5 w-5 text-gray-600"})})}),s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Panneau d'administration"}),s.jsx("nav",{className:"space-y-2",children:n.map(l=>{const i=l.icon;return s.jsxs(ge,{to:l.path,onClick:t,className:`flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors duration-200 ${a(l.path,l.exact)?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[s.jsx(i,{className:"h-5 w-5 flex-shrink-0"}),s.jsx("span",{className:"font-medium",children:l.label})]},l.path)})})]})]})]})},ly=()=>{const[e,t]=p.useState(!1);return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-rose-50 to-orange-50",children:[s.jsx(dp,{onMenuClick:()=>t(!e)}),s.jsx(ay,{isOpen:e,onClose:()=>t(!1)}),s.jsx("main",{className:"pt-16 lg:pl-64 transition-all duration-300",children:s.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:s.jsx(Ah,{})})})]})},au=({children:e,requiredAuthType:t})=>{const{isAuthenticated:r,authType:n,isLoading:a}=zt();return console.log(" ProtectedRoute check:",{isAuthenticated:r,authType:n,isLoading:a,requiredAuthType:t}),a?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r?t&&n!==t?(console.log(` Redirecting to unauthorized - expected ${t}, got ${n}`),s.jsx(js,{to:"/unauthorized",replace:!0})):(console.log(" Access granted"),s.jsx(s.Fragment,{children:e})):(console.log(" Redirecting to login - not authenticated"),s.jsx(js,{to:"/login",replace:!0}))},W=({className:e="",children:t,...r})=>s.jsx("div",{className:`bg-white/90 backdrop-blur-sm rounded-xl shadow-lg border border-pink-100 ${e}`,...r,children:t}),iy="/assets/MDClogo-aVz-vUkD.png",oy=()=>{var S,x;const[e,t]=p.useState(""),[r,n]=p.useState(""),[a,l]=p.useState(""),[i,o]=p.useState(!1),{login:c,isAuthenticated:d,user:h,isLoading:f}=zt(),g=qt(),v=((x=(S=Xs().state)==null?void 0:S.from)==null?void 0:x.pathname)||null;if(f)return s.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(qv,{className:"h-6 w-6 animate-spin text-pink-600"}),s.jsx("span",{className:"text-gray-600",children:"Checking authentication..."})]})});const w=async u=>{u.preventDefault(),l(""),o(!0),console.group(" Login Component - handleSubmit"),console.log(" Form submitted:",{username:e,passwordLength:r.length});try{if(console.log(" Calling auth.login()..."),await c(e,r)){const y=localStorage.getItem("authType"),E=JSON.parse(localStorage.getItem("currentUser")||"{}");console.log(" Login successful:",{authType:y,user:E,from:v||"none"});let N;v&&v!=="/login"?(N=v,console.log(" Redirecting to intended destination:",N)):(N=y==="admin"?"/admin":"/app/dashboard",console.log(" Redirecting to default path:",N)),g(N,{replace:!0})}else console.warn(" Login failed - invalid credentials"),l("Invalid credentials or access expired")}catch(m){console.error(" Login error:",{message:m.message,stack:m.stack}),l("Login failed. Please try again.")}finally{console.groupEnd(),o(!1)}};if(d&&h){const u=h.role==="admin"?"/admin":"/app/dashboard",m=v&&v!=="/login"?v:u;return s.jsx(js,{to:m,replace:!0})}return s.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("img",{src:iy,alt:"Medicare Clinic Logo",className:"h-20 w-auto object-contain"})}),s.jsx("p",{className:"text-lg font-medium bg-gradient-to-r from-pink-600 to-rose-600 bg-clip-text text-transparent",children:"Accdez  votre portail d'apprentissage"})]}),s.jsxs(W,{className:"p-8",children:[s.jsxs("form",{onSubmit:w,className:"space-y-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",value:e,onChange:u=>t(u.target.value),placeholder:"Entrez votre nom d'utilisateur",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,disabled:i})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Hv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"password",value:r,onChange:u=>n(u.target.value),placeholder:"Entrez votre mot de passe",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,disabled:i})]}),a&&s.jsxs("div",{className:"flex items-center space-x-2 text-red-600 bg-red-50 p-3 rounded-lg",children:[s.jsx(De,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:a})]}),s.jsx(V,{type:"submit",className:"w-full",size:"lg",isLoading:i,disabled:i,children:"Sign In"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs(ge,{to:"/",className:"flex items-center justify-center gap-2 text-pink-600 hover:text-pink-700 font-medium",children:[s.jsx(Vt,{className:"h-4 w-4"}),"Retour  la page d'accueil"]})})]})]})})},cy=()=>{const{user:e}=zt(),[t,r]=p.useState([]),[n,a]=p.useState([]),[l,i]=p.useState(!0),[o,c]=p.useState(null),[d,h]=p.useState({totalWatchTime:0,favoriteCategory:"",lastWatched:null,achievements:0});p.useEffect(()=>{e!=null&&e.id&&(f(),g(),j())},[e==null?void 0:e.id]);const f=async()=>{var C,D;try{i(!0),c(null);const k=await J.get("/my-videos");k.data.success?a(k.data.data):c("Failed to load videos")}catch(k){console.error("Error loading videos:",k),c(((D=(C=k.response)==null?void 0:C.data)==null?void 0:D.message)||"Failed to load videos. Please try again.")}finally{i(!1)}},g=async()=>{var C;try{const D=await J.get(`/user-progress/${e==null?void 0:e.id}`);if(D.data.success){const k=D.data.data.progress_details||[];console.log("Progress from API:",k),r(k)}else throw new Error("API response not successful")}catch(D){console.warn("Failed to load progress from API, using localStorage fallback:",D);try{const k=[];for(let B=0;B<localStorage.length;B++){const R=localStorage.key(B);if(R&&R.startsWith(`progress_${e==null?void 0:e.id}_`)){const Q=localStorage.getItem(R);if(Q)try{const H=JSON.parse(Q);(H.videoId||H.video_id)&&k.push({videoId:H.videoId||((C=H.video_id)==null?void 0:C.toString()),video_id:H.video_id||parseInt(H.videoId),progress:parseFloat(H.progress)||0,current_time:parseFloat(H.current_time)||0,completed:H.completed||H.progress>=95,last_updated:H.last_updated||new Date().toISOString()})}catch(H){console.error("Failed to parse progress data:",H)}}}console.log("Progress from localStorage:",k),r(k)}catch(k){console.error("Failed to load from localStorage:",k),r([])}}},j=async()=>{try{const C=await J.get(`/user-stats/${e==null?void 0:e.id}`);C.data.success&&h(C.data.data)}catch(C){console.warn("Failed to load user stats:",C)}},v=C=>{var k;const D=t.find(B=>{var H;const R=typeof B.videoId=="string"?parseInt(B.videoId):B.videoId,Q=typeof B.video_id=="number"?B.video_id:parseInt(((H=B.video_id)==null?void 0:H.toString())||"0");return R===C||Q===C});if(D){const B=parseFloat(((k=D.progress)==null?void 0:k.toString())||"0");return console.log(`Progress for video ${C}:`,B,D),Math.max(0,Math.min(100,B))}return 0},w=()=>{if(!(e!=null&&e.access_end))return 0;const C=new Date,k=new Date(e.access_end).getTime()-C.getTime();return Math.ceil(k/(1e3*60*60*24))},S=C=>C.cover_cloudinary_url?C.cover_cloudinary_url:C.cover_url?C.cover_url:C.cover_image?C.cover_image.startsWith("http")?C.cover_image:`http://127.0.0.1:8000/storage/${C.cover_image}`:'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="400" height="200" viewBox="0 0 400 200"%3E%3Crect width="400" height="200" fill="%23f3f4f6"/%3E%3Ctext x="200" y="100" text-anchor="middle" dy="0.3em" font-family="Arial, sans-serif" font-size="16" fill="%236b7280"%3ENo Image%3C/text%3E%3C/svg%3E',x=C=>{if(!C)return"N/A";const D=Math.floor(C/3600),k=Math.floor(C%3600/60),B=Math.floor(C%60);return D>0?`${D}h ${k}m ${B}s`:`${k}m ${B}s`},u=C=>new Date(C).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),m=C=>{if(!C)return"N/A";const D=["Bytes","KB","MB","GB"];if(C===0)return"0 Bytes";const k=Math.floor(Math.log(C)/Math.log(1024));return Math.round(C/Math.pow(1024,k)*100)/100+" "+D[k]},y=t.filter(C=>{var k;const D=parseFloat(((k=C.progress)==null?void 0:k.toString())||"0");return C.completed===!0||D>=95}).length,E=t.filter(C=>{var k;const D=parseFloat(((k=C.progress)==null?void 0:k.toString())||"0");return D>0&&D<95&&!C.completed}).length,N=Math.max(0,n.length-y-E),z=t.length>0?Math.round(t.reduce((C,D)=>{var B;const k=parseFloat(((B=D.progress)==null?void 0:B.toString())||"0");return C+k},0)/t.length):0;return e?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 lg:py-8",children:[s.jsx("div",{className:"mb-6 md:mb-8",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl md:rounded-2xl p-4 md:p-6 text-white shadow-xl",children:s.jsxs("div",{className:"text-center md:text-left",children:[s.jsxs("h1",{className:"text-xl md:text-2xl lg:text-3xl font-bold mb-2",children:["Bienvenue, ",e.username," ! "]}),s.jsx("p",{className:"text-blue-100 text-base md:text-lg mb-3 md:mb-2",children:"Prt  poursuivre votre parcours d'apprentissage ?"}),s.jsxs("div",{className:"flex items-center justify-center md:justify-start",children:[s.jsx(Be,{className:"h-4 w-4 mr-2"}),s.jsxs("span",{className:"text-blue-200 text-sm",children:["Membre depuis ",u(e.created_at||new Date().toISOString())]})]})]})})}),o&&s.jsx("div",{className:"mb-4 md:mb-6 p-3 md:p-4 border border-red-200 bg-red-50 rounded-xl shadow-sm",children:s.jsxs("div",{className:"flex items-center text-red-600",children:[s.jsx(De,{className:"h-5 w-5 mr-2"}),s.jsx("span",{className:"text-sm md:text-base",children:o}),s.jsx("button",{onClick:()=>c(null),className:"ml-auto text-red-600 hover:text-red-800 font-bold text-xl leading-none",children:""})]})}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-6 mb-6 md:mb-8",children:[s.jsx(W,{className:"p-3 md:p-6 bg-white shadow-lg hover:shadow-xl transition-shadow duration-300 border-0",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 md:p-3 bg-blue-100 rounded-lg md:rounded-xl",children:s.jsx(Er,{className:"h-4 w-4 md:h-6 md:w-6 text-blue-600"})}),s.jsxs("div",{className:"ml-2 md:ml-4",children:[s.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Vidos disponibles"}),s.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:n.length})]})]})}),s.jsx(W,{className:"p-3 md:p-6 bg-white shadow-lg hover:shadow-xl transition-shadow duration-300 border-0",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 md:p-3 bg-green-100 rounded-lg md:rounded-xl",children:s.jsx(an,{className:"h-4 w-4 md:h-6 md:w-6 text-green-600"})}),s.jsxs("div",{className:"ml-2 md:ml-4",children:[s.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Termines"}),s.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:y})]})]})}),s.jsx(W,{className:"p-3 md:p-6 bg-white shadow-lg hover:shadow-xl transition-shadow duration-300 border-0",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 md:p-3 bg-orange-100 rounded-lg md:rounded-xl",children:s.jsx(Nl,{className:"h-4 w-4 md:h-6 md:w-6 text-orange-600"})}),s.jsxs("div",{className:"ml-2 md:ml-4",children:[s.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"En cours"}),s.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:E})]})]})}),s.jsx(W,{className:"p-3 md:p-6 bg-white shadow-lg hover:shadow-xl transition-shadow duration-300 border-0",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 md:p-3 bg-yellow-100 rounded-lg md:rounded-xl",children:s.jsx(lt,{className:"h-4 w-4 md:h-6 md:w-6 text-yellow-600"})}),s.jsxs("div",{className:"ml-2 md:ml-4",children:[s.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Expiration de l'accs"}),s.jsxs("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:[w(),"d"]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 mb-6 md:mb-8",children:[s.jsxs(W,{className:"p-4 md:p-6 bg-white shadow-lg border-0",children:[s.jsxs("h3",{className:"text-base md:text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(Cr,{className:"h-4 w-4 md:h-5 md:w-5 mr-2 text-indigo-600"}),"Progression d'apprentissage"]}),s.jsxs("div",{className:"space-y-3 md:space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-xs md:text-sm mb-1",children:[s.jsx("span",{className:"text-gray-600",children:"Termines"}),s.jsxs("span",{className:"font-medium",children:[y," vidos"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"h-2 rounded-full bg-green-500",style:{width:`${n.length>0?y/n.length*100:0}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-xs md:text-sm mb-1",children:[s.jsx("span",{className:"text-gray-600",children:"En cours"}),s.jsxs("span",{className:"font-medium",children:[E," vidos"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"h-2 rounded-full bg-blue-500",style:{width:`${n.length>0?E/n.length*100:0}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-xs md:text-sm mb-1",children:[s.jsx("span",{className:"text-gray-600",children:"Non commences"}),s.jsxs("span",{className:"font-medium",children:[N," vidos"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"h-2 rounded-full bg-gray-400",style:{width:`${n.length>0?N/n.length*100:0}%`}})})]})]})]}),s.jsxs(W,{className:"p-4 md:p-6 bg-white shadow-lg border-0",children:[s.jsxs("h3",{className:"text-base md:text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(ey,{className:"h-4 w-4 md:h-5 md:w-5 mr-2 text-indigo-600"}),"Statistiques d'apprentissage"]}),s.jsxs("div",{className:"space-y-2 md:space-y-3",children:[d.favoriteCategory&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-xs md:text-sm text-gray-600",children:"Catgorie prfre :"}),s.jsx("span",{className:"text-xs md:text-sm font-medium",children:d.favoriteCategory})]}),d.totalWatchTime>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-xs md:text-sm text-gray-600",children:"Temps total de visionnage :"}),s.jsx("span",{className:"text-xs md:text-sm font-medium",children:x(d.totalWatchTime)})]}),d.lastWatched&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-xs md:text-sm text-gray-600",children:"Dernire vido vue :"}),s.jsx("span",{className:"text-xs md:text-sm font-medium text-right",children:d.lastWatched.title})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-xs md:text-sm text-gray-600",children:"Progression moyenne :"}),s.jsxs("span",{className:"text-xs md:text-sm font-medium",children:[z,"%"]})]})]})]})]}),s.jsx("div",{className:"mb-4 md:mb-6",children:s.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[s.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Votre contenu d'apprentissage"}),s.jsxs("div",{className:"text-xs md:text-sm text-gray-600",children:[n.length," vido",n.length!==1?"s":""," disponibles  ",y," termines"]})]})}),l?s.jsxs("div",{className:"text-center py-12 md:py-16",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),s.jsx("p",{className:"text-gray-600 text-base md:text-lg",children:"Chargement de vos vidos..."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:n.map(C=>{const D=v(C.id),k=D>=95,B=D>0;return s.jsx(dy,{video:C,videoProgress:D,isCompleted:k,hasStarted:B,getCoverImageUrl:S,formatDate:u,formatDuration:x,formatFileSize:m},C.id)})}),!l&&n.length===0&&s.jsxs("div",{className:"text-center py-12 md:py-16",children:[s.jsx("div",{className:"inline-flex items-center justify-center p-4 bg-blue-100 rounded-full mb-6",children:s.jsx(Er,{className:"h-12 w-12 text-blue-600"})}),s.jsx("h3",{className:"text-lg md:text-xl font-semibold text-gray-900 mb-3",children:"Aucune vido disponible pour le moment"}),s.jsx("p",{className:"text-sm md:text-base text-gray-600 max-w-md mx-auto",children:"Il semble qu'aucun contenu d'apprentissage ne vous ait encore t attribu. Revenez plus tard ou contactez votre instructeur pour plus d'informations."})]})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"Loading your dashboard..."})]})})},dy=({video:e,videoProgress:t,isCompleted:r,hasStarted:n,getCoverImageUrl:a,formatDate:l,formatDuration:i,formatFileSize:o})=>s.jsxs(W,{className:"overflow-hidden hover:shadow-lg transition-shadow duration-200 bg-white h-full flex flex-col",children:[s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:a(e),alt:e.title,className:"w-full h-36 md:h-48 object-cover cursor-pointer",onError:c=>{c.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="400" height="200" viewBox="0 0 400 200"%3E%3Crect width="400" height="200" fill="%23f3f4f6"/%3E%3Ctext x="200" y="100" text-anchor="middle" dy="0.3em" font-family="Arial, sans-serif" font-size="16" fill="%236b7280"%3ENo Image%3C/text%3E%3C/svg%3E'}}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",children:s.jsx(ge,{to:`/app/watch/${e.id}`,className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 bg-white bg-opacity-90 hover:bg-opacity-100 rounded-full p-2 md:p-3 transform hover:scale-110 transition-transform",title:"Watch video",children:s.jsx(Nt,{className:"h-5 w-5 md:h-6 md:w-6 text-gray-700 ml-1"})})}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${e.is_published?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:e.is_published?"Publie":"Brouillon"})}),e.category&&s.jsx("div",{className:"absolute top-2 left-2",children:s.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:e.category.name})}),r&&s.jsx("div",{className:"absolute top-12 right-2",children:s.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-500 text-white",children:" Termine"})}),e.average_rating&&e.average_rating>0&&s.jsx("div",{className:"absolute bottom-2 left-2",children:s.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800 flex items-center",children:[s.jsx(oo,{className:"h-3 w-3 mr-1 fill-yellow-500 text-yellow-500"}),e.average_rating.toFixed(1)]})}),e.views_count!==void 0&&s.jsx("div",{className:"absolute bottom-2 right-2",children:s.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-800 flex items-center",children:[s.jsx(Mt,{className:"h-3 w-3 mr-1"}),e.views_count]})})]}),s.jsxs("div",{className:"p-3 md:p-4 flex-grow flex flex-col",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2 text-sm md:text-base",title:e.title,children:e.title}),s.jsx("p",{className:"text-xs md:text-sm text-gray-600 mb-3 line-clamp-2 flex-grow",title:e.description,children:e.description||"Aucune description fournie"}),s.jsxs("div",{className:"space-y-2 text-xs text-gray-500 mb-3 md:mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(vt,{className:"h-3 w-3 mr-1"}),s.jsx("span",{children:i(e.duration)})]}),s.jsx("div",{children:s.jsx("span",{children:o(e.file_size)})})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(lt,{className:"h-3 w-3 mr-1"}),s.jsxs("span",{children:["Ajoute le ",l(e.created_at)]})]})]}),n&&s.jsxs("div",{className:"mb-3 md:mb-4",children:[s.jsxs("div",{className:"flex justify-between text-xs md:text-sm mb-2",children:[s.jsx("span",{className:"text-gray-600",children:"Votre progression"}),s.jsxs("span",{className:"font-medium text-gray-900",children:[Math.round(t),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${r?"bg-gradient-to-r from-green-500 to-emerald-500":"bg-gradient-to-r from-blue-500 to-indigo-500"}`,style:{width:`${t}%`}})})]}),s.jsx(ge,{to:`/app/watch/${e.id}`,className:"mt-auto",children:s.jsxs(V,{size:"sm",variant:r?"secondary":"primary",className:"w-full text-xs md:text-sm",children:[s.jsx(Nt,{className:"h-3 w-3 md:h-4 md:w-4 mr-2"}),r?"Revoir la vido":n?"Continuer l'apprentissage":"Commencer l'apprentissage"]})})]})]}),lu=[{id:"1",title:"React Fundamentals",description:"Learn the core concepts of React including components, props, state, and hooks.",thumbnail:"https://images.pexels.com/photos/11035380/pexels-photo-11035380.jpeg?auto=compress&cs=tinysrgb&w=500",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",duration:"45:30",category:"Frontend",isPublished:!0,publishedAt:"2024-01-15T10:00:00Z",createdAt:"2024-01-10T10:00:00Z"},{id:"2",title:"TypeScript Mastery",description:"Master TypeScript from basics to advanced concepts with practical examples.",thumbnail:"https://images.pexels.com/photos/574071/pexels-photo-574071.jpeg?auto=compress&cs=tinysrgb&w=500",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4",duration:"38:15",category:"Programming",isPublished:!0,publishedAt:"2024-01-20T10:00:00Z",createdAt:"2024-01-15T10:00:00Z"},{id:"3",title:"Node.js Backend Development",description:"Build scalable backend applications with Node.js, Express, and databases.",thumbnail:"https://images.pexels.com/photos/1181675/pexels-photo-1181675.jpeg?auto=compress&cs=tinysrgb&w=500",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4",duration:"52:45",category:"Backend",isPublished:!1,createdAt:"2024-01-25T10:00:00Z"},{id:"4",title:"Modern CSS Techniques",description:"Explore advanced CSS features including Grid, Flexbox, and CSS animations.",thumbnail:"https://images.pexels.com/photos/1779487/pexels-photo-1779487.jpeg?auto=compress&cs=tinysrgb&w=500",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4",duration:"41:20",category:"Design",isPublished:!0,publishedAt:"2024-01-30T10:00:00Z",createdAt:"2024-01-28T10:00:00Z"}],uy=()=>{const e=localStorage.getItem("courses");return e?JSON.parse(e):(localStorage.setItem("courses",JSON.stringify(lu)),lu)},my=({courseId:e})=>{const{user:t}=zt(),[r,n]=p.useState([]),[a,l]=p.useState("");p.useEffect(()=>{const d=localStorage.getItem(`comments_${e}`);d&&n(JSON.parse(d))},[e]);const i=d=>{n(d),localStorage.setItem(`comments_${e}`,JSON.stringify(d))},o=d=>{if(d.preventDefault(),!a.trim()||!t)return;const f=[{id:Date.now().toString(),courseId:e,userId:t.id,username:t.username,content:a.trim(),timestamp:Date.now(),createdAt:new Date().toISOString()},...r];i(f),l("")},c=d=>{const f=Date.now()-d,g=Math.floor(f/(1e3*60)),j=Math.floor(f/(1e3*60*60)),v=Math.floor(f/(1e3*60*60*24));return v>0?`il y a ${v}j`:j>0?`il y a ${j}h`:g>0?`il y a ${g}min`:" l'instant"};return s.jsxs(W,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[s.jsx(jt,{className:"h-5 w-5 text-blue-600"}),s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Discussion (",r.length,")"]})]}),s.jsx("form",{onSubmit:o,className:"mb-6",children:s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(Be,{className:"h-4 w-4 text-blue-600"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("textarea",{value:a,onChange:d=>l(d.target.value),placeholder:"Partagez vos ides sur ce cours...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"}),s.jsx("div",{className:"flex justify-end mt-2",children:s.jsxs(V,{type:"submit",size:"sm",disabled:!a.trim(),children:[s.jsx(Ja,{className:"h-3 w-3 mr-1"}),"Publier un commentaire"]})})]})]})}),s.jsx("div",{className:"space-y-4",children:r.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(jt,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),s.jsx("p",{children:"Aucun commentaire pour le moment. Soyez le premier  partager vos ides !"})]}):r.map(d=>s.jsxs("div",{className:"flex space-x-3 p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(Be,{className:"h-4 w-4 text-blue-600"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx("span",{className:"font-medium text-gray-900",children:d.username}),s.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[s.jsx(vt,{className:"h-3 w-3 mr-1"}),c(d.timestamp)]})]}),s.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:d.content})]})]},d.id))})]})},hy=()=>{const{courseId:e}=Ln(),{user:t,checkAccess:r}=zt(),n=p.useRef(null),[a,l]=p.useState(!1),[i,o]=p.useState(0),[c,d]=p.useState(0),[h,f]=p.useState(1),[g,j]=p.useState([]),w=uy().find(N=>N.id===e&&N.isPublished);if(p.useEffect(()=>{if(!t)return;const N=localStorage.getItem(`progress_${t.id}`);N&&j(JSON.parse(N))},[t]),p.useEffect(()=>{const N=n.current;if(!N)return;const z=()=>o(N.currentTime),C=()=>d(N.duration),D=()=>l(!0),k=()=>l(!1);return N.addEventListener("timeupdate",z),N.addEventListener("loadedmetadata",C),N.addEventListener("play",D),N.addEventListener("pause",k),()=>{N.removeEventListener("timeupdate",z),N.removeEventListener("loadedmetadata",C),N.removeEventListener("play",D),N.removeEventListener("pause",k)}},[]),p.useEffect(()=>{if(!t||!w)return;const z=setInterval(()=>{const C=c>0?i/c*100:0,D=[...g],k=D.findIndex(R=>R.courseId===w.id&&R.userId===t.id),B={userId:t.id,courseId:w.id,progress:Math.round(C),lastWatched:new Date().toISOString(),completed:C>=90,timeSpent:i};k>=0?D[k]=B:D.push(B),j(D),localStorage.setItem(`progress_${t.id}`,JSON.stringify(D))},5e3);return()=>clearInterval(z)},[i,c,t,w,g]),!r())return s.jsx(js,{to:"/access-expired",replace:!0});if(!w)return s.jsx(js,{to:"/dashboard",replace:!0});const S=()=>{const N=n.current;N&&(a?N.pause():N.play())},x=N=>{const z=n.current;if(!z)return;const C=parseFloat(N.target.value)*c/100;z.currentTime=C,o(C)},u=N=>{const z=n.current;if(!z)return;const C=parseFloat(N.target.value);z.volume=C,f(C)},m=()=>{const N=n.current;N&&(document.fullscreenElement?document.exitFullscreen():N.requestFullscreen())},y=N=>{const z=Math.floor(N/60),C=Math.floor(N%60);return`${z}:${C.toString().padStart(2,"0")}`},E=c>0?i/c*100:0;return s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6 lg:py-8",children:[s.jsxs("div",{className:"mb-4 lg:mb-6",children:[s.jsxs(V,{variant:"ghost",onClick:()=>window.history.back(),className:"mb-4",children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:w.title}),s.jsx("p",{className:"text-gray-600 mt-2",children:w.description})]}),s.jsx("div",{className:"bg-black rounded-xl overflow-hidden shadow-2xl mb-6 lg:mb-8",children:s.jsxs("div",{className:"relative",children:[s.jsx("video",{ref:n,className:"w-full aspect-video",src:w.videoUrl,poster:w.thumbnail}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-2 lg:p-4",children:s.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-4",children:[s.jsx(V,{variant:"ghost",size:"sm",onClick:S,className:"text-white hover:text-gray-300",children:a?s.jsx(io,{className:"h-4 w-4 lg:h-5 lg:w-5"}):s.jsx(Nt,{className:"h-4 w-4 lg:h-5 lg:w-5"})}),s.jsx("div",{className:"flex-1",children:s.jsx("input",{type:"range",min:"0",max:"100",value:E,onChange:x,className:"w-full h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer slider"})}),s.jsxs("span",{className:"text-white text-xs lg:text-sm font-mono",children:[y(i)," / ",y(c)]}),s.jsxs("div",{className:"hidden sm:flex items-center space-x-2",children:[s.jsx(op,{className:"h-4 w-4 text-white"}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:h,onChange:u,className:"w-12 lg:w-16 h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer slider"})]}),s.jsx(V,{variant:"ghost",size:"sm",onClick:m,className:"text-white hover:text-gray-300",children:s.jsx(lp,{className:"h-4 w-4"})})]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs("div",{className:"bg-white rounded-xl p-4 lg:p-6 shadow-lg mb-6 lg:mb-8",children:[s.jsx("h2",{className:"text-lg lg:text-xl font-semibold mb-4",children:"Course Progress"}),s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Progress"}),s.jsxs("span",{className:"text-sm font-medium",children:[Math.round(E),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 h-3 rounded-full transition-all duration-300",style:{width:`${E}%`}})}),E>=90&&s.jsx("div",{className:"mt-4 p-3 bg-green-50 rounded-lg",children:s.jsx("p",{className:"text-green-800 font-medium",children:" Congratulations! You've completed this course!"})})]}),s.jsx(my,{courseId:w.id})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-white rounded-xl p-4 lg:p-6 shadow-lg sticky top-24",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Course Details"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Duration:"}),s.jsx("span",{className:"font-medium",children:w.duration})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Category:"}),s.jsx("span",{className:"font-medium",children:w.category})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Published:"}),s.jsx("span",{className:"font-medium",children:w.publishedAt?new Date(w.publishedAt).toLocaleDateString():"N/A"})]})]})]})})]})]})},py=({isOpen:e,onClose:t,title:r,message:n,type:a="success"})=>{if(!e)return null;const l=a==="success"?"text-green-500":"text-red-500",i=a==="success"?Me:ut;return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 shadow-xl",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(i,{className:`h-8 w-8 ${l}`})}),s.jsx("div",{className:"ml-3",children:s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:r})})]}),s.jsx("div",{className:"mb-6",children:s.jsx("p",{className:"text-gray-600",children:n})}),s.jsx("div",{className:"flex justify-end",children:s.jsx(V,{onClick:t,className:"px-4 py-2",children:"OK"})})]})})},iu=()=>{const{id:e}=Ln(),t=qt(),{user:r}=zt(),[n,a]=p.useState(null),[l,i]=p.useState(!0),[o,c]=p.useState(null),[d,h]=p.useState(""),[f,g]=p.useState(!1),[j,v]=p.useState(null),[w,S]=p.useState(0),[x,u]=p.useState(null),m=p.useRef(null),y=p.useRef(null),[E,N]=p.useState(!1),[z,C]=p.useState(0),[D,k]=p.useState(0),[B,R]=p.useState(1),[Q,H]=p.useState(!1),[ae,le]=p.useState(1),[de,P]=p.useState(!0),[F,U]=p.useState(!1),[M,q]=p.useState(!1),se=p.useRef(null),[he,_]=p.useState(!0),[A,b]=p.useState(!1),[O,K]=p.useState(0),[Y,re]=p.useState({}),[He,Ps]=p.useState({isOpen:!1,title:"",message:"",type:"success"});p.useEffect(()=>{e&&Ze(parseInt(e)),Le()},[e,r]),p.useEffect(()=>{const T=m.current;if(!T||!j||!n)return;let $=null;const ee=()=>{if(T.duration&&T.duration>0){const Rt=T.currentTime,ft=T.duration,$n=Rt/ft*100;S($n),C(Rt),$&&clearTimeout($),$=setTimeout(()=>{Ts(n.id,Rt,ft)},2e3)}},ie=()=>{T.duration&&T.duration>0&&(Ts(n.id,T.duration,T.duration),N(!1))},Z=()=>{u("Failed to load video. Please try refreshing the page."),_(!1)},oe=()=>{u(null);const Rt=T.duration||0;k(Rt),_(!1),We()},We=async()=>{try{const Rt=await J.get(`/user-progress/${j.id}/${n.id}`);if(Rt.data.success&&Rt.data.data){const ft=Rt.data.data;ft.current_time&&ft.current_time>30&&(T.currentTime=ft.current_time,C(ft.current_time),S(ft.progress))}}catch{try{const ft=`progress_${j.id}_${n.id}`,$n=localStorage.getItem(ft);if($n){const Fr=JSON.parse($n);Fr.current_time&&Fr.current_time>30&&(T.currentTime=Fr.current_time,C(Fr.current_time),S(Fr.progress))}}catch(ft){console.error("Failed to load progress from localStorage:",ft)}}},yc=()=>N(!0),jc=()=>N(!1);return T.addEventListener("timeupdate",ee),T.addEventListener("ended",ie),T.addEventListener("error",Z),T.addEventListener("canplay",oe),T.addEventListener("play",yc),T.addEventListener("pause",jc),T.addEventListener("loadedmetadata",oe),()=>{$&&clearTimeout($),T.removeEventListener("timeupdate",ee),T.removeEventListener("ended",ie),T.removeEventListener("error",Z),T.removeEventListener("canplay",oe),T.removeEventListener("play",yc),T.removeEventListener("pause",jc),T.removeEventListener("loadedmetadata",oe)}},[n,j]),p.useEffect(()=>{const T=()=>{U(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",T),document.addEventListener("webkitfullscreenchange",T),document.addEventListener("mozfullscreenchange",T),document.addEventListener("MSFullscreenChange",T),()=>{document.removeEventListener("fullscreenchange",T),document.removeEventListener("webkitfullscreenchange",T),document.removeEventListener("mozfullscreenchange",T),document.removeEventListener("MSFullscreenChange",T)}},[]),p.useEffect(()=>{const T=$=>{if(!($.target instanceof HTMLInputElement||$.target instanceof HTMLTextAreaElement||$.target instanceof HTMLSelectElement)&&m.current)switch($.code){case"Space":$.preventDefault(),In();break;case"ArrowLeft":$.preventDefault(),pc();break;case"ArrowRight":$.preventDefault(),hc();break;case"ArrowUp":$.preventDefault(),fc(.1);break;case"ArrowDown":$.preventDefault(),fc(-.1);break;case"KeyM":$.preventDefault(),xc();break;case"KeyF":$.preventDefault(),bl();break}};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[]),p.useEffect(()=>{const T=m.current;if(!T)return;const $=ee=>{ee.preventDefault();const ie=Date.now(),Z=300;ie-O<Z?bl():setTimeout(()=>{Date.now()-O>=Z&&In()},Z),K(ie)};return T.addEventListener("touchend",$,{passive:!1}),()=>{T.removeEventListener("touchend",$)}},[O]);const Rr=()=>{se.current&&clearTimeout(se.current),P(!0),se.current=setTimeout(()=>{E&&!M&&P(!1)},3e3)},Pe=(T,$,ee="success")=>{Ps({isOpen:!0,title:T,message:$,type:ee})},Un=()=>{Ps({isOpen:!1,title:"",message:"",type:"success"})},Le=()=>{const T=localStorage.getItem("currentUser"),$=localStorage.getItem("authType");if(console.log(" Auth check:",{userData:!!T,authType:$}),T&&$){const ee=JSON.parse(T);$==="admin"?(console.log(" Admin user detected"),v({...ee,role:"admin"})):$==="user"&&(console.log(" Regular user detected"),v({...ee,role:"student"}))}else r&&v({id:r.id,name:r.name||r.username,email:r.email,username:r.username,role:"student"})},Ze=async T=>{var $,ee,ie;try{i(!0),c(null);const Z=await J.get(`/videos/${T}`);if(Z.data&&Z.data.success){const oe=Z.data.data;a(oe)}else c((($=Z.data)==null?void 0:$.message)||"Failed to fetch video")}catch(Z){console.error("Failed to fetch video:",Z),c(((ie=(ee=Z.response)==null?void 0:ee.data)==null?void 0:ie.message)||Z.message||"Failed to fetch video")}finally{i(!1)}},Ts=async(T,$,ee)=>{try{if(!j||!ee||ee<=0)return;const ie=Math.min(100,Math.max(0,$/ee*100));if(ie<1)return;if(console.log("Saving progress:",{videoId:T,currentTime:$,duration:ee,progress:ie,userId:j.id}),(await J.post("/progress",{video_id:T,user_id:j.id,progress:ie,current_time:$,duration:ee})).data.success){const oe=`progress_${j.id}_${T}`,We={videoId:T.toString(),video_id:T,progress:ie,current_time:$,duration:ee,completed:ie>=95,last_updated:new Date().toISOString()};localStorage.setItem(oe,JSON.stringify(We))}}catch(ie){console.error("Failed to save progress:",ie);try{const Z=Math.min(100,Math.max(0,$/ee*100)),oe=`progress_${j.id}_${T}`,We={videoId:T.toString(),video_id:T,progress:Z,current_time:$,duration:ee,completed:Z>=95,last_updated:new Date().toISOString()};localStorage.setItem(oe,JSON.stringify(We))}catch(Z){console.error("Failed to save to localStorage:",Z)}}},Ms=()=>n?n.cloudinary_url?n.cloudinary_url:n.video_url&&n.video_url.includes("cloudinary")||n.video_url?n.video_url:n.video_path?`http://127.0.0.1:8000/storage/${n.video_path}`:"":"",mp=()=>n?n.cover_cloudinary_url?n.cover_cloudinary_url:n.cover_url&&n.cover_url.includes("cloudinary")||n.cover_url?n.cover_url:n.cover_image?`http://127.0.0.1:8000/storage/${n.cover_image}`:"":"",In=()=>{m.current&&(E?m.current.pause():m.current.play().catch(T=>{console.error("Error playing video:",T),u("Failed to play video. Please try again.")}))},hc=()=>{if(!m.current||A)return;b(!0);const T=m.current.currentTime,$=Math.min(T+10,m.current.duration);m.current.currentTime=$,C($),setTimeout(()=>{b(!1)},100)},pc=()=>{if(!m.current||A)return;b(!0);const T=m.current.currentTime,$=Math.max(T-10,0);m.current.currentTime=$,C($),setTimeout(()=>{b(!1)},100)},fc=T=>{if(!m.current)return;const $=Math.max(0,Math.min(1,B+T));R($),m.current.volume=$,$>0&&Q&&H(!1)},xc=()=>{if(!m.current)return;const T=!Q;H(T),m.current.muted=T},hp=T=>{m.current&&(le(T),m.current.playbackRate=T,q(!1))},gc=T=>{if(!m.current||!D)return;const $=T/100*D;m.current.currentTime=$,C($),j&&n&&Ts(n.id,$,D)},bl=()=>{const T=y.current,$=m.current;if(!(!T||!$))try{document.fullscreenElement?(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),U(!1)):(T.requestFullscreen?T.requestFullscreen():T.webkitRequestFullscreen?T.webkitRequestFullscreen():T.mozRequestFullScreen?T.mozRequestFullScreen():T.msRequestFullscreen?T.msRequestFullscreen():$.webkitEnterFullscreen&&$.webkitEnterFullscreen(),U(!0))}catch(ee){console.error("Error toggling fullscreen:",ee),Pe("Fullscreen Error","Unable to toggle fullscreen mode on this device.","error")}},pp=()=>{const T=Ms();if(T){const $=document.createElement("a");$.href=T,$.download=(n==null?void 0:n.title)||"video",$.click()}},fp=()=>{navigator.share&&n?navigator.share({title:n.title,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),Pe("Link Copied","Video link copied to clipboard!","success"))},kl=T=>{const $=Math.floor(T/3600),ee=Math.floor(T%3600/60),ie=Math.floor(T%60);return $>0?`${$}:${ee.toString().padStart(2,"0")}:${ie.toString().padStart(2,"0")}`:`${ee}:${ie.toString().padStart(2,"0")}`},xp=async T=>{var $,ee,ie;if(T.preventDefault(),!(!d.trim()||!j||!n))try{g(!0);const Z=await J.post(`/videos/${n.id}/comments`,{content:d.trim()});Z.data&&Z.data.success?(await Ze(n.id),h(""),j.role==="admin"?Pe("Comment Added","Your comment has been added successfully and is now visible to all users.","success"):Pe("Comment Submitted","Your comment has been submitted successfully! It will appear after admin approval.","success")):Pe("Error",(($=Z.data)==null?void 0:$.message)||"Failed to add comment","error")}catch(Z){console.error("Failed to add comment:",Z),Pe("Error",((ie=(ee=Z.response)==null?void 0:ee.data)==null?void 0:ie.message)||"Failed to add comment","error")}finally{g(!1)}},gp=async T=>{var $,ee,ie;if(window.confirm("Are you sure you want to delete this comment?"))try{const Z=await J.delete(`/comments/${T}`);Z.data&&Z.data.success?(a(oe=>oe?{...oe,comments:oe.comments.filter(We=>We.id!==T)}:null),Pe("Comment Deleted","The comment has been deleted successfully and removed from the video.","success")):Pe("Error",(($=Z.data)==null?void 0:$.message)||"Failed to delete comment","error")}catch(Z){console.error("Failed to delete comment:",Z),Pe("Error",((ie=(ee=Z.response)==null?void 0:ee.data)==null?void 0:ie.message)||"Failed to delete comment","error")}},vp=async T=>{var $,ee,ie;try{re(oe=>({...oe,[T]:"approving"}));const Z=await J.patch(`/comments/${T}/approve`);Z.data&&Z.data.success?(a(oe=>oe?{...oe,comments:oe.comments.map(We=>We.id===T?{...We,is_approved:!0}:We)}:null),Pe("Comment Approved","The comment has been approved successfully and is now visible to all users.","success")):Pe("Error",(($=Z.data)==null?void 0:$.message)||"Failed to approve comment","error")}catch(Z){console.error("Failed to approve comment:",Z),Pe("Error",((ie=(ee=Z.response)==null?void 0:ee.data)==null?void 0:ie.message)||"Failed to approve comment","error")}finally{re(Z=>({...Z,[T]:null}))}},yp=async T=>{var $,ee,ie;if(window.confirm("Are you sure you want to reject this comment?"))try{re(oe=>({...oe,[T]:"rejecting"}));const Z=await J.patch(`/comments/${T}/reject`);Z.data&&Z.data.success?(a(oe=>oe?{...oe,comments:oe.comments.map(We=>We.id===T?{...We,is_approved:!1}:We)}:null),Pe("Comment Rejected","The comment has been rejected and is no longer visible to regular users.","success")):Pe("Error",(($=Z.data)==null?void 0:$.message)||"Failed to reject comment","error")}catch(Z){console.error("Failed to reject comment:",Z),Pe("Error",((ie=(ee=Z.response)==null?void 0:ee.data)==null?void 0:ie.message)||"Failed to reject comment","error")}finally{re(Z=>({...Z,[T]:null}))}},vc=T=>new Date(T).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),jp=()=>{if(!n||!n.comments)return[];const T=localStorage.getItem("authType");if(console.log(" Comment visibility check:",{authType:T,currentUserRole:j==null?void 0:j.role,totalComments:n.comments.length}),T==="admin")return console.log(" Admin - showing ALL comments"),n.comments;{const $=n.comments.filter(ee=>ee.is_approved||j&&ee.user_id===j.id);return console.log(" User - showing filtered comments:",{total:n.comments.length,visible:$.length}),$}},wp=T=>T.admin_id&&T.admin?{name:T.admin.name||"Admin",role:"admin"}:T.user_id&&T.user?{name:T.user.name||T.user.username||"User",role:"student"}:{name:"Unknown User",role:"user"},Np=T=>!!(localStorage.getItem("authType")==="admin"||j&&T.user_id===j.id),bp=()=>{m.current&&Ms()&&(m.current.load(),u(null),_(!0))};if(l)return s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-gray-600",children:"Chargement de la vido..."})})});if(o||!n)return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs(V,{onClick:()=>t(-1),variant:"secondary",className:"mb-6",children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Retour"]}),s.jsx(W,{className:"p-6 bg-red-50 border-red-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ut,{className:"h-6 w-6 text-red-500 mr-3"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-red-900",children:"Erreur lors du chargement de la vido"}),s.jsx("p",{className:"text-red-700 text-sm mt-1",children:o||"Vido introuvable"})]})]})})]});const Sl=jp(),Cl=Ms(),kp=mp();return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[s.jsxs(V,{onClick:()=>t(-1),variant:"secondary",className:"mb-6",children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Retour"]}),s.jsxs(W,{className:"overflow-hidden mb-8",children:[x?s.jsx("div",{className:"aspect-video bg-gray-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ut,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),s.jsx("p",{className:"text-red-600 font-medium",children:"Erreur de chargement de la vido"}),s.jsx("p",{className:"text-gray-600 text-sm mt-1",children:x}),s.jsx(V,{onClick:bp,className:"mt-4",size:"sm",children:"Ressayer"})]})}):Cl?s.jsxs("div",{ref:y,className:"relative group",onMouseMove:Rr,onMouseEnter:()=>P(!0),onTouchStart:Rr,children:[he&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black z-10",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}),s.jsxs("video",{ref:m,className:"w-full aspect-video bg-black",src:Cl,poster:kp,preload:"metadata",playsInline:!0,controls:!1,"webkit-playsinline":"true",children:[s.jsx("source",{src:Cl,type:"video/mp4"}),"Your browser does not support the video tag."]}),s.jsxs("div",{className:`absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-black/30 transition-opacity duration-300 ${de||!E?"opacity-100":"opacity-0"}`,children:[s.jsxs("div",{className:"absolute top-4 right-4 flex items-center space-x-2",children:[s.jsx("button",{onClick:fp,className:"p-2 bg-black/50 hover:bg-black/70 rounded-full text-white transition-colors",title:"Share video",children:s.jsx(Gv,{className:"h-4 w-4"})}),s.jsx("button",{onClick:pp,className:"p-2 bg-black/50 hover:bg-black/70 rounded-full text-white transition-colors",title:"Download video",children:s.jsx(Iv,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("button",{onClick:In,className:"p-4 bg-black/50 hover:bg-black/70 rounded-full text-white transition-all duration-200 hover:scale-110 touch-manipulation",children:E?s.jsx(io,{className:"h-8 w-8"}):s.jsx(Nt,{className:"h-8 w-8 ml-1"})})}),s.jsx("div",{className:"absolute top-4 left-4 md:hidden",children:s.jsx("div",{className:"bg-black/50 rounded-full p-2 text-white text-xs",children:"Double-tap for fullscreen"})}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[s.jsx("div",{className:"mb-4",children:s.jsx("div",{className:"w-full h-2 bg-white/30 rounded-full cursor-pointer group/progress touch-manipulation",onClick:T=>{const $=T.currentTarget.getBoundingClientRect(),ee=(T.clientX-$.left)/$.width*100;gc(ee)},onTouchEnd:T=>{const $=T.currentTarget.getBoundingClientRect(),ie=(T.changedTouches[0].clientX-$.left)/$.width*100;gc(ie)},children:s.jsx("div",{className:"h-full bg-blue-500 rounded-full transition-all duration-150 group-hover/progress:bg-blue-400",style:{width:`${z/D*100}%`}})})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:pc,disabled:A,className:"p-2 hover:bg-white/20 rounded-full text-white transition-colors disabled:opacity-50 touch-manipulation",title:"Skip backward 10s",children:s.jsx(Xv,{className:"h-5 w-5"})}),s.jsx("button",{onClick:In,className:"p-2 hover:bg-white/20 rounded-full text-white transition-colors touch-manipulation",children:E?s.jsx(io,{className:"h-5 w-5"}):s.jsx(Nt,{className:"h-5 w-5"})}),s.jsx("button",{onClick:hc,disabled:A,className:"p-2 hover:bg-white/20 rounded-full text-white transition-colors disabled:opacity-50 touch-manipulation",title:"Skip forward 10s",children:s.jsx(Zv,{className:"h-5 w-5"})}),s.jsxs("div",{className:"hidden md:flex items-center space-x-2 group/volume",children:[s.jsx("button",{onClick:xc,className:"p-2 hover:bg-white/20 rounded-full text-white transition-colors",children:Q||B===0?s.jsx(ty,{className:"h-5 w-5"}):s.jsx(op,{className:"h-5 w-5"})}),s.jsx("div",{className:"w-20 opacity-0 group-hover/volume:opacity-100 transition-opacity",children:s.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:Q?0:B,onChange:T=>{const $=parseFloat(T.target.value);R($),H($===0),m.current&&(m.current.volume=$,m.current.muted=$===0)},className:"w-full h-1 bg-white/30 rounded-lg appearance-none cursor-pointer"})})]}),s.jsxs("span",{className:"text-white text-sm font-mono hidden sm:block",children:[kl(z)," / ",kl(D)]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"relative hidden md:block",children:[s.jsx("button",{onClick:()=>q(!M),className:"p-2 hover:bg-white/20 rounded-full text-white transition-colors",title:"Settings",children:s.jsx(En,{className:"h-5 w-5"})}),M&&s.jsxs("div",{className:"absolute bottom-full right-0 mb-2 bg-black/90 rounded-lg p-3 min-w-[160px]",children:[s.jsx("div",{className:"text-white text-sm font-medium mb-2",children:"Playback Speed"}),s.jsx("div",{className:"space-y-1",children:[.5,.75,1,1.25,1.5,1.75,2].map(T=>s.jsx("button",{onClick:()=>hp(T),className:`w-full text-left px-3 py-1 rounded text-sm transition-colors ${ae===T?"bg-blue-500 text-white":"text-gray-300 hover:bg-white/20"}`,children:T===1?"Normal":`${T}x`},T))})]})]}),s.jsx("button",{onClick:bl,className:"p-2 hover:bg-white/20 rounded-full text-white transition-colors touch-manipulation",title:"Fullscreen",children:s.jsx(lp,{className:"h-5 w-5"})})]})]})]})]})]}):s.jsx("div",{className:"aspect-video bg-gray-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Nt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Vido non disponible"})]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n.title}),n.category&&s.jsx("span",{className:"px-3 py-1 text-sm font-medium rounded-full bg-blue-100 text-blue-800",children:n.category.name})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-4 space-x-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(lt,{className:"h-4 w-4 mr-2"}),s.jsxs("span",{children:["Publi le ",vc(n.created_at)]})]}),n.duration&&s.jsx("div",{className:"flex items-center",children:s.jsxs("span",{children:["Dure : ",kl(n.duration)]})})]}),s.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Contrles"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-xs text-gray-600",children:[s.jsxs("div",{className:"md:hidden",children:[s.jsx("strong",{children:"Mobile:"})," Tap to play/pause  Double-tap for fullscreen"]}),s.jsxs("div",{className:"hidden md:block",children:[s.jsx("kbd",{className:"px-1 py-0.5 bg-white rounded border text-gray-800",children:"Espace"})," Lecture/Pause"]}),s.jsxs("div",{className:"hidden md:block",children:[s.jsx("kbd",{className:"px-1 py-0.5 bg-white rounded border text-gray-800",children:"/"})," Reculer/Avancer 10s"]}),s.jsxs("div",{className:"hidden md:block",children:[s.jsx("kbd",{className:"px-1 py-0.5 bg-white rounded border text-gray-800",children:"/"})," Volume"]}),s.jsxs("div",{className:"hidden md:block",children:[s.jsx("kbd",{className:"px-1 py-0.5 bg-white rounded border text-gray-800",children:"F"})," Plein cran"]}),s.jsxs("div",{className:"hidden md:block",children:[s.jsx("kbd",{className:"px-1 py-0.5 bg-white rounded border text-gray-800",children:"M"})," Muet"]})]})]}),n.description&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Description"}),s.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:n.description})]})]})]}),s.jsx("div",{className:"max-w-2xl",children:s.jsxs(W,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(jt,{className:"h-5 w-5 mr-2"}),s.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Commentaires (",Sl.length,")"]})]}),j?s.jsxs("form",{onSubmit:xp,className:"mb-6",children:[s.jsx("div",{className:"mb-3",children:s.jsx("textarea",{value:d,onChange:T=>h(T.target.value),placeholder:"Ajouter un commentaire",className:"w-full p-3 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,disabled:f})}),s.jsxs(V,{type:"submit",size:"sm",disabled:!d.trim()||f,className:"w-full",children:[s.jsx(Ja,{className:"h-4 w-4 mr-2"}),f?"Publication...":"Publier le commentaire"]})]}):s.jsx("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg text-center",children:s.jsx("p",{className:"text-gray-600 text-sm",children:"Veuillez vous connecter pour ajouter des commentaires"})}),s.jsx("div",{className:"space-y-4",children:Sl.length>0?Sl.map(T=>{const $=wp(T),ee=(j==null?void 0:j.role)==="admin"&&T.admin_id===(j==null?void 0:j.id)||(j==null?void 0:j.role)==="student"&&T.user_id===(j==null?void 0:j.id),Z=localStorage.getItem("authType")==="admin",oe=Y[T.id];return s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex items-center bg-white rounded-full p-2 mr-3 shadow-sm",children:s.jsx(Be,{className:"h-4 w-4 text-gray-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-gray-900 text-sm",children:[$.name,$.role==="admin"&&s.jsx(Qs,{className:"h-3 w-3 text-blue-500 ml-1 inline"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:vc(T.created_at)})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[Z&&s.jsx(s.Fragment,{children:T.is_approved?s.jsxs("button",{onClick:()=>yp(T.id),disabled:oe==="rejecting",className:"flex items-center px-3 py-1 text-xs bg-yellow-100 hover:bg-yellow-200 text-yellow-800 rounded-full transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Reject comment",children:[oe==="rejecting"?s.jsx("div",{className:"w-3 h-3 border border-yellow-600 border-t-transparent rounded-full animate-spin mr-1"}):s.jsx(ut,{className:"h-3 w-3 mr-1"}),oe==="rejecting"?"Rejecting...":"Reject"]}):s.jsxs("button",{onClick:()=>vp(T.id),disabled:oe==="approving",className:"flex items-center px-3 py-1 text-xs bg-green-100 hover:bg-green-200 text-green-800 rounded-full transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Approve comment",children:[oe==="approving"?s.jsx("div",{className:"w-3 h-3 border border-green-600 border-t-transparent rounded-full animate-spin mr-1"}):s.jsx(np,{className:"h-3 w-3 mr-1"}),oe==="approving"?"Approving...":"Approve"]})}),Np(T)&&s.jsx("button",{onClick:()=>gp(T.id),className:"p-1 hover:bg-red-100 rounded text-red-600 transition-colors",title:"Delete comment",children:s.jsx(ks,{className:"h-4 w-4"})})]})]}),s.jsx("p",{className:"text-gray-700 text-sm mb-3 bg-white p-3 rounded border-l-4 border-l-blue-200",children:T.content}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[T.is_approved?s.jsxs("span",{className:"flex items-center px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full",children:[s.jsx(Me,{className:"h-3 w-3 mr-1"}),"Approuv"]}):s.jsxs("span",{className:"flex items-center px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-full",children:[s.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full mr-1 animate-pulse"}),"En attente d'approbation"]}),ee&&s.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",children:"Votre commentaire"})]}),Z&&!T.is_approved&&s.jsx("div",{className:"text-xs text-gray-500 bg-white px-2 py-1 rounded border",children:"Action requise"})]})]},T.id)}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(jt,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Aucun commentaire pour le moment"}),s.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Soyez le premier  partager vos ides !"})]})})]})})]}),s.jsx(py,{isOpen:He.isOpen,onClose:Un,title:He.title,message:He.message,type:He.type})]})},ou=()=>{const{user:e}=zt(),[t,r]=p.useState([]),[n,a]=p.useState([]),[l,i]=p.useState(null),[o,c]=p.useState(!0),[d,h]=p.useState(null);p.useEffect(()=>{(async()=>{var S,x,u;try{const m=await J.get("/admin/dashboard/stats");i(m.data);const y=await J.get("/admin/users"),E=await J.get("/admin/videos"),N=Array.isArray(y.data)?y.data:[],z=Array.isArray(E.data)?E.data:[];r(N),a(z),c(!1)}catch(m){console.error("Dashboard fetch error:",m),console.error("Error details:",(S=m.response)==null?void 0:S.data),h(`Failed to load dashboard data: ${((u=(x=m.response)==null?void 0:x.data)==null?void 0:u.message)||m.message}`),c(!1)}})()},[]);const f=()=>{if(l)return{totalUsers:l.total_students,activeUsers:l.active_students,publishedVideos:l.active_published_videos,totalVideos:l.total_videos};{const w=Array.isArray(t)?t:[],S=Array.isArray(n)?n:[];return{totalUsers:w.length,activeUsers:w.filter(x=>x.is_active).length,publishedVideos:S.filter(x=>x.is_published).length,totalVideos:S.length}}},g=w=>new Date(w).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),j=f(),v=(l==null?void 0:l.recent_videos)||n.slice(0,5);return e?o?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 lg:py-8",children:s.jsx("div",{className:"flex justify-center items-center h-full p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"Chargement du tableau de bord..."})]})})})}):d?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 lg:py-8",children:s.jsxs("div",{className:"p-8 text-center text-red-600 font-semibold",children:[d,s.jsx("div",{className:"mt-4",children:s.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Ressayer"})})]})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 lg:py-8",children:[s.jsx("div",{className:"mb-6 md:mb-8",children:s.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 rounded-xl md:rounded-2xl p-4 md:p-6 text-white shadow-xl",children:s.jsxs("div",{className:"text-center md:text-left",children:[s.jsxs("h1",{className:"text-xl md:text-2xl lg:text-3xl font-bold mb-2 flex items-center justify-center md:justify-start",children:[s.jsx(Qs,{className:"h-6 w-6 md:h-8 md:w-8 mr-2 md:mr-3"}),"Bienvenue, Admin ",e.username," ! "]}),s.jsx("p",{className:"text-purple-100 text-base md:text-lg mb-3 md:mb-2",children:"Grez votre plateforme d'apprentissage en toute simplicit"}),s.jsxs("div",{className:"flex items-center justify-center md:justify-start",children:[s.jsx(Be,{className:"h-4 w-4 mr-2"}),s.jsxs("span",{className:"text-purple-200 text-sm",children:["Administrateur depuis ",g(e.created_at||new Date().toISOString())]})]})]})})}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-6",children:[s.jsx(W,{className:"p-3 md:p-6 bg-white shadow-lg hover:shadow-xl transition-shadow duration-300 border-0",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 md:p-3 bg-blue-100 rounded-lg md:rounded-xl",children:s.jsx(Qe,{className:"h-4 w-4 md:h-6 md:w-6 text-blue-600"})}),s.jsxs("div",{className:"ml-2 md:ml-4",children:[s.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"tudiants totaux"}),s.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:j.totalUsers})]})]})}),s.jsx(W,{className:"p-3 md:p-6 bg-white shadow-lg hover:shadow-xl transition-shadow duration-300 border-0",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 md:p-3 bg-green-100 rounded-lg md:rounded-xl",children:s.jsx(Nl,{className:"h-4 w-4 md:h-6 md:w-6 text-green-600"})}),s.jsxs("div",{className:"ml-2 md:ml-4",children:[s.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"tudiants actifs"}),s.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:j.activeUsers})]})]})}),s.jsx(W,{className:"p-3 md:p-6 bg-white shadow-lg hover:shadow-xl transition-shadow duration-300 border-0",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 md:p-3 bg-purple-100 rounded-lg md:rounded-xl",children:s.jsx(it,{className:"h-4 w-4 md:h-6 md:w-6 text-purple-600"})}),s.jsxs("div",{className:"ml-2 md:ml-4",children:[s.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Vidos publies"}),s.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:j.publishedVideos})]})]})}),s.jsx(W,{className:"p-3 md:p-6 bg-white shadow-lg hover:shadow-xl transition-shadow duration-300 border-0",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 md:p-3 bg-yellow-100 rounded-lg md:rounded-xl",children:s.jsx(Cr,{className:"h-4 w-4 md:h-6 md:w-6 text-yellow-600"})}),s.jsxs("div",{className:"ml-2 md:ml-4",children:[s.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Vidos totales"}),s.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:j.totalVideos})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-8",children:[s.jsxs(W,{className:"bg-white shadow-lg border-0",children:[s.jsx("div",{className:"px-4 md:px-6 py-3 md:py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-base md:text-lg font-semibold text-gray-900",children:"Vidos rcentes"})}),s.jsx("div",{className:"p-4 md:p-6 space-y-3 md:space-y-4 max-h-80 md:max-h-96 overflow-y-auto",children:v.length===0?s.jsx("p",{className:"text-gray-500 text-sm",children:"Aucune vido rcente disponible."}):v.map(w=>s.jsxs("div",{className:"flex items-center space-x-3 p-2 md:p-3 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:`w-2 h-2 md:w-3 md:h-3 rounded-full ${w.is_published?"bg-green-500":"bg-yellow-500"}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-900 truncate",children:w.title}),s.jsxs("p",{className:"text-xs md:text-sm text-gray-500",children:[w.is_published?"Publie":"Brouillon","  ",g(w.created_at)]})]})]},w.id))})]}),s.jsxs(W,{className:"bg-white shadow-lg border-0",children:[s.jsx("div",{className:"px-4 md:px-6 py-3 md:py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-base md:text-lg font-semibold text-gray-900",children:"Actions rapides"})}),s.jsx("div",{className:"p-4 md:p-6",children:s.jsxs("div",{className:"grid grid-cols-2 gap-2 md:gap-4",children:[s.jsxs("a",{href:"/MedicareClinic/admin/videos/new",className:"p-3 md:p-4 border border-gray-200 rounded-lg hover:bg-blue-50 hover:border-blue-300 transition-all duration-200 text-center group",children:[s.jsx(it,{className:"h-5 w-5 md:h-6 md:w-6 mx-auto mb-1 md:mb-2 text-blue-600 group-hover:scale-110 transition-transform"}),s.jsx("span",{className:"text-xs md:text-sm font-medium text-gray-900",children:"Ajouter une vido"})]}),s.jsxs("a",{href:"/MedicareClinic/admin/users",className:"p-3 md:p-4 border border-gray-200 rounded-lg hover:bg-green-50 hover:border-green-300 transition-all duration-200 text-center group",children:[s.jsx(Qe,{className:"h-5 w-5 md:h-6 md:w-6 mx-auto mb-1 md:mb-2 text-green-600 group-hover:scale-110 transition-transform"}),s.jsx("span",{className:"text-xs md:text-sm font-medium text-gray-900",children:"Grer les utilisateurs"})]}),s.jsxs("a",{href:"/MedicareClinic/admin/progress",className:"p-3 md:p-4 border border-gray-200 rounded-lg hover:bg-purple-50 hover:border-purple-300 transition-all duration-200 text-center group",children:[s.jsx(Cr,{className:"h-5 w-5 md:h-6 md:w-6 mx-auto mb-1 md:mb-2 text-purple-600 group-hover:scale-110 transition-transform"}),s.jsx("span",{className:"text-xs md:text-sm font-medium text-gray-900",children:"Voir la progression"})]}),s.jsxs("a",{href:"/MedicareClinic/admin/videos",className:"p-3 md:p-4 border border-gray-200 rounded-lg hover:bg-yellow-50 hover:border-yellow-300 transition-all duration-200 text-center group",children:[s.jsx(it,{className:"h-5 w-5 md:h-6 md:w-6 mx-auto mb-1 md:mb-2 text-yellow-600 group-hover:scale-110 transition-transform"}),s.jsx("span",{className:"text-xs md:text-sm font-medium text-gray-900",children:"Grer les vidos"})]})]})})]})]})]})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"Chargement de votre tableau de bord..."})]})})},fy=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,confirmText:l="Confirm",isDestructive:i=!1})=>e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(De,{className:`h-6 w-6 mr-3 ${i?"text-red-500":"text-blue-500"}`}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:n})]}),s.jsx("p",{className:"text-gray-600 mb-6",children:a}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx(V,{onClick:t,variant:"secondary",className:"flex-1",children:"Annuler"}),s.jsx(V,{onClick:r,variant:i?"danger":"primary",className:"flex-1",children:l})]})]})}):null,xy=()=>{const e=qt(),[t,r]=p.useState([]),[n,a]=p.useState(!0),[l,i]=p.useState(null),[o,c]=p.useState({isOpen:!1,action:null,videoId:null,videoTitle:""});p.useEffect(()=>{try{d()}catch(u){console.error("Error in useEffect:",u),i("Failed to initialize component"),a(!1)}},[]);const d=async()=>{var u,m,y;try{a(!0),i(null),console.log("Fetching videos...");const E=await J.get("/admin/videos");console.log("Videos response:",E.data),E.data&&E.data.success?r(E.data.data||[]):i(((u=E.data)==null?void 0:u.message)||"Failed to fetch videos")}catch(E){console.error("Failed to fetch videos:",E),i(((y=(m=E.response)==null?void 0:m.data)==null?void 0:y.message)||E.message||"Failed to fetch videos")}finally{a(!1)}},h=async u=>{var m,y;try{const E=await J.patch(`/admin/videos/${u}/toggle-publish`);E.data.success?(r(N=>N.map(z=>z.id===u?{...z,is_published:!z.is_published}:z)),alert(E.data.message)):alert(E.data.message||"Failed to update publish status")}catch(E){console.error("Failed to toggle publish status:",E),alert(((y=(m=E.response)==null?void 0:m.data)==null?void 0:y.message)||"Failed to update publish status")}c({isOpen:!1,action:null,videoId:null,videoTitle:""})},f=async u=>{var m,y;try{const E=await J.delete(`/admin/videos/${u}`);E.data.success?(r(N=>N.filter(z=>z.id!==u)),alert(E.data.message)):alert(E.data.message||"Failed to delete video")}catch(E){console.error("Failed to delete video:",E),alert(((y=(m=E.response)==null?void 0:m.data)==null?void 0:y.message)||"Failed to delete video")}c({isOpen:!1,action:null,videoId:null,videoTitle:""})},g=(u,m,y)=>{c({isOpen:!0,action:u,videoId:m,videoTitle:y})},j=u=>{e(`/admin/videos/watch/${u}`)},v=()=>{o.videoId&&o.action&&(o.action==="delete"?f(o.videoId):h(o.videoId))},w=()=>{switch(o.action){case"delete":return{title:"Delete Video",message:`Are you sure you want to delete "${o.videoTitle}"? This action cannot be undone.`,confirmText:"Delete",isDestructive:!0};case"publish":return{title:"Publish Video",message:`Are you sure you want to publish "${o.videoTitle}"? It will be visible to students.`,confirmText:"Publish",isDestructive:!1};case"unpublish":return{title:"Unpublish Video",message:`Are you sure you want to unpublish "${o.videoTitle}"? It will no longer be visible to students.`,confirmText:"Unpublish",isDestructive:!1};default:return{title:"",message:"",confirmText:"Confirm",isDestructive:!1}}};if(l&&t.length===0&&!n)return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestion des vidos"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Grez vos vidos de cours et leur statut de publication"})]}),s.jsx(ge,{to:"/admin/videos/new",children:s.jsxs(V,{children:[s.jsx($s,{className:"h-4 w-4 mr-2"}),"Ajouter une nouvelle vido"]})})]}),s.jsxs(W,{className:"p-6 bg-red-50 border-red-200",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(De,{className:"h-6 w-6 text-red-500 mr-3"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-red-900",children:"Erreur lors du chargement des vidos"}),s.jsx("p",{className:"text-red-700 text-sm mt-1",children:l})]})]}),s.jsx(V,{onClick:d,variant:"secondary",className:"mt-4",children:"Ressayer"})]})]});if(n)return s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestion des vidos"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Chargement des vidos..."})]})}),s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"text-gray-600",children:"Chargement des vidos..."})})]});const S=t.filter(u=>u.is_published),x=t.filter(u=>!u.is_published);return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestion des vidos"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Grez vos vidos de cours et leur statut de publication"})]}),s.jsx(ge,{to:"/admin/videos/new",children:s.jsxs(V,{children:[s.jsx($s,{className:"h-4 w-4 mr-2"}),"Ajouter une nouvelle vido"]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(W,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(it,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Vidos totales"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.length})]})]})}),s.jsx(W,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(Mt,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Publies"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:S.length})]})]})}),s.jsx(W,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:s.jsx(Gt,{className:"h-6 w-6 text-yellow-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Brouillons"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.length})]})]})})]}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:["Vidos publies (",S.length,")"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[S.map(u=>s.jsx(cu,{video:u,onTogglePublish:(m,y)=>g("unpublish",m,y),onDelete:(m,y)=>g("delete",m,y),onImageClick:m=>j(m)},u.id)),S.length===0&&s.jsxs("div",{className:"col-span-full text-center py-12",children:[s.jsx(Mt,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune vido publie"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Vos vidos publies apparatront ici lorsque vous les publierez."})]})]})]}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:["Vidos brouillon (",x.length,")"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[x.map(u=>s.jsx(cu,{video:u,onTogglePublish:(m,y)=>g("publish",m,y),onDelete:(m,y)=>g("delete",m,y),onImageClick:m=>j(m)},u.id)),x.length===0&&s.jsxs("div",{className:"col-span-full text-center py-12",children:[s.jsx(Gt,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune vido brouillon"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Vos vidos brouillon apparatront ici avant que vous ne les publiiez."})]})]})]}),t.length===0&&!n&&s.jsxs(W,{className:"p-12 text-center",children:[s.jsx(it,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Aucune vido pour le moment"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Commencez par crer votre premire vido de cours."}),s.jsx(ge,{to:"/admin/videos/new",children:s.jsxs(V,{children:[s.jsx($s,{className:"h-4 w-4 mr-2"}),"Crer votre premire vido"]})})]}),s.jsx(fy,{isOpen:o.isOpen,onClose:()=>c({isOpen:!1,action:null,videoId:null,videoTitle:""}),onConfirm:v,...w()})]})},cu=({video:e,onTogglePublish:t,onDelete:r,onImageClick:n})=>{const a=i=>new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),l=()=>e.cover_url?e.cover_url:e.cover_image?`http://127.0.0.1:8000/storage/${e.cover_image}`:'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="400" height="200" viewBox="0 0 400 200"%3E%3Crect width="400" height="200" fill="%23f3f4f6"/%3E%3Ctext x="200" y="100" text-anchor="middle" dy="0.3em" font-family="Arial, sans-serif" font-size="16" fill="%236b7280"%3ENo Image%3C/text%3E%3C/svg%3E';return s.jsxs(W,{className:"overflow-hidden hover:shadow-lg transition-shadow duration-200",children:[s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:l(),alt:e.title,className:"w-full h-48 object-cover cursor-pointer",onClick:()=>n(e.id),onError:i=>{i.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="400" height="200" viewBox="0 0 400 200"%3E%3Crect width="400" height="200" fill="%23f3f4f6"/%3E%3Ctext x="200" y="100" text-anchor="middle" dy="0.3em" font-family="Arial, sans-serif" font-size="16" fill="%236b7280"%3ENo Image%3C/text%3E%3C/svg%3E'}}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>n(e.id),children:s.jsx("button",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 bg-white bg-opacity-90 hover:bg-opacity-100 rounded-full p-3 transform hover:scale-110 transition-transform",title:"Watch video",children:s.jsx(Nt,{className:"h-6 w-6 text-gray-700 ml-1"})})}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${e.is_published?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:e.is_published?"Publie":"Brouillon"})}),e.category&&s.jsx("div",{className:"absolute top-2 left-2",children:s.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:e.category.name})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2",title:e.title,children:e.title}),s.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",title:e.description,children:e.description||"Aucune description fournie"}),s.jsxs("div",{className:"flex items-center text-xs text-gray-500 mb-4",children:[s.jsx(lt,{className:"h-3 w-3 mr-1"}),s.jsxs("span",{children:["Cre le ",a(e.created_at)]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(V,{size:"sm",variant:e.is_published?"secondary":"primary",onClick:()=>t(e.id,e.title),className:"col-span-1",children:e.is_published?s.jsxs(s.Fragment,{children:[s.jsx(Gt,{className:"h-3 w-3 mr-1"}),"Dpublier"]}):s.jsxs(s.Fragment,{children:[s.jsx(Mt,{className:"h-3 w-3 mr-1"}),"Publier"]})}),s.jsx(ge,{to:`/admin/videos/edit/${e.id}`,className:"col-span-1",children:s.jsxs(V,{size:"sm",variant:"ghost",className:"w-full",title:"Modifier la vido",children:[s.jsx(Ga,{className:"h-3 w-3 mr-1"}),"Modifier"]})}),s.jsxs(V,{size:"sm",variant:"danger",onClick:()=>r(e.id,e.title),title:"Supprimer la vido",className:"col-span-2",children:[s.jsx(ks,{className:"h-3 w-3 mr-1"}),"Supprimer"]})]})]})]})},Re=p.forwardRef(({className:e="",label:t,error:r,...n},a)=>s.jsxs("div",{className:"space-y-1",children:[t&&s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:t}),s.jsx("input",{ref:a,className:`
            w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm
            focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
            placeholder-gray-400 transition-colors duration-200
            ${r?"border-red-500 focus:ring-red-500":""}
            ${e}
          `,...n}),r&&s.jsx("p",{className:"text-sm text-red-600",children:r})]}));Re.displayName="Input";const gy=({isOpen:e,onClose:t,videoTitle:r})=>e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Me,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Vido tlcharge avec succs !"}),s.jsxs("p",{className:"text-gray-600 mb-6",children:['"',r,'" a t ajoute  votre bibliothque de vidos.']}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx(V,{onClick:t,className:"flex-1",children:"Voir les vidos"}),s.jsx(V,{variant:"secondary",onClick:()=>window.location.reload(),className:"flex-1",children:"Ajouter une autre"})]})]})})}):null,vy=({isOpen:e,onClose:t,error:r})=>{if(!e||!r)return null;const n=()=>{const a={timestamp:new Date().toISOString(),message:r.message,status:r.status,details:r.details,validationErrors:r.validationErrors,requestData:r.requestData};navigator.clipboard.writeText(JSON.stringify(a,null,2)),alert("Error details copied to clipboard!")};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-96 overflow-y-auto",children:s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ut,{className:"h-8 w-8 text-red-500 mr-3"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"chec du tlchargement"})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(ut,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"Message d'erreur :"}),s.jsx("p",{className:"text-red-700 text-sm",children:r.message})]}),r.status&&s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Statut HTTP :"}),s.jsx("p",{className:"text-gray-700 text-sm",children:r.status})]}),r.validationErrors&&s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"Erreurs de validation :"}),s.jsx("div",{className:"space-y-1",children:Object.entries(r.validationErrors).map(([a,l])=>s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"font-medium text-yellow-700",children:[a,":"]}),s.jsx("ul",{className:"list-disc list-inside ml-4 text-yellow-600",children:Array.isArray(l)?l.map((i,o)=>s.jsx("li",{children:i},o)):s.jsx("li",{children:l})})]},a))})]}),r.details&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Dtails de la rponse :"}),s.jsx("pre",{className:"text-xs text-blue-700 whitespace-pre-wrap overflow-x-auto",children:JSON.stringify(r.details,null,2)})]}),r.requestData&&s.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-purple-800 mb-2",children:"Donnes de la requte envoyes :"}),s.jsxs("div",{className:"text-xs text-purple-700 space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Title:"})," ",r.requestData.title||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Description:"})," ",r.requestData.description||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Category ID:"})," ",r.requestData.category_id||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Is Published:"})," ",r.requestData.is_published?"Yes":"No"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Video File:"})," ",r.requestData.video_file?`${r.requestData.video_file.name} (${(r.requestData.video_file.size/(1024*1024)).toFixed(2)} MB)`:"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Cover Image:"})," ",r.requestData.cover_image?`${r.requestData.cover_image.name} (${(r.requestData.cover_image.size/(1024*1024)).toFixed(2)} MB)`:"N/A"]})]})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx(V,{onClick:n,variant:"secondary",className:"flex-1",children:"Copier les dtails de l'erreur"}),s.jsx(V,{onClick:t,className:"flex-1",children:"Fermer"})]})]})})})},yy=()=>{const e=qt(),t=p.useRef(null),r=p.useRef(null),n=p.useRef(null),[a,l]=p.useState([]),[i,o]=p.useState([]),[c,d]=p.useState(!0),[h,f]=p.useState(!1),[g,j]=p.useState(0),[v,w]=p.useState("preparing"),[S,x]=p.useState(!1),[u,m]=p.useState(!1),[y,E]=p.useState(null),[N,z]=p.useState(!1),[C,D]=p.useState(""),[k,B]=p.useState(null),[R,Q]=p.useState({title:"",description:"",video_file:null,cover_image:null,category_id:"",is_published:!1});p.useEffect(()=>{H()},[]),p.useEffect(()=>{const _=a.filter(A=>A.name.toLowerCase().includes(C.toLowerCase()));o(_)},[a,C]),p.useEffect(()=>{const _=A=>{n.current&&!n.current.contains(A.target)&&z(!1)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const H=async()=>{var _,A;try{const b=await J.get("/admin/categories/select-options");b.data.success?(l(b.data.data),o(b.data.data)):alert("Failed to fetch categories")}catch(b){console.error("Failed to fetch categories:",b);const O=((A=(_=b.response)==null?void 0:_.data)==null?void 0:A.message)||"Failed to fetch categories";alert(O)}finally{d(!1)}},ae=()=>{switch(v){case"preparing":return"Prparation du tlchargement...";case"uploading":return`Tlchargement... ${g}%`;case"processing":return"Traitement de la vido...";case"finalizing":return"Finalisation...";default:return"Tlchargement..."}},le=async _=>{var A,b,O,K,Y,re,He,Ps,Rr,Pe,Un;if(_.preventDefault(),!k){alert("Please select a category");return}if(!R.video_file){alert("Please select a video file");return}if(!R.cover_image){alert("Please select a cover image");return}f(!0),j(0),w("preparing");try{const Le=new FormData;Le.append("title",R.title),Le.append("description",R.description||""),Le.append("video_file",R.video_file),Le.append("cover_image",R.cover_image),Le.append("category_id",k.id.toString()),Le.append("is_published",R.is_published?"1":"0"),console.log("Submitting video for upload:",{title:R.title,description:R.description,category_id:k.id,is_published:R.is_published,video_file_info:{name:R.video_file.name,size:`${(R.video_file.size/(1024*1024)).toFixed(2)} MB`,type:R.video_file.type},cover_image_info:{name:R.cover_image.name,size:`${(R.cover_image.size/(1024*1024)).toFixed(2)} MB`,type:R.cover_image.type}}),w("uploading");const Ze=await J.post("/admin/videos",Le,{headers:{"Content-Type":"multipart/form-data"},timeout:6e5,onUploadProgress:Ts=>{if(Ts.total){const Ms=Math.round(Ts.loaded*100/Ts.total);j(Ms),Ms<80?w("uploading"):Ms<95?w("processing"):w("finalizing")}}});Ze.data.success?(j(100),w("finalizing"),console.log("Video uploaded successfully:",{video_id:(A=Ze.data.data)==null?void 0:A.id,url:(b=Ze.data.data)==null?void 0:b.url,cover_url:(O=Ze.data.data)==null?void 0:O.cover_url,duration:(K=Ze.data.data)==null?void 0:K.duration,file_size:(Y=Ze.data.data)==null?void 0:Y.file_size}),setTimeout(()=>{x(!0)},500)):(E({message:Ze.data.message||"Failed to upload video",status:Ze.status,details:Ze.data,requestData:{title:R.title,description:R.description,category_id:k.id,is_published:R.is_published,video_file:R.video_file,cover_image:R.cover_image}}),m(!0))}catch(Le){console.error("Failed to upload video:",Le);const Ze={message:Le.code==="ECONNABORTED"?"Upload timeout - upload took too long. Please try with a smaller file or check your connection.":((He=(re=Le.response)==null?void 0:re.data)==null?void 0:He.message)||Le.message||"Unknown error occurred during upload",status:(Ps=Le.response)==null?void 0:Ps.status,details:(Rr=Le.response)==null?void 0:Rr.data,validationErrors:(Un=(Pe=Le.response)==null?void 0:Pe.data)==null?void 0:Un.errors,requestData:{title:R.title,description:R.description,category_id:k.id,is_published:R.is_published,video_file:R.video_file,cover_image:R.cover_image}};E(Ze),m(!0)}finally{f(!1),j(0),w("preparing")}},de=_=>{const{name:A,value:b,type:O}=_.target;Q(K=>({...K,[A]:O==="checkbox"?_.target.checked:b}))},P=_=>{var b;const A=(b=_.target.files)==null?void 0:b[0];if(A){if(!["video/mp4","video/avi","video/mov","video/wmv","video/webm","video/flv","video/mkv","video/m4v","video/3gp"].includes(A.type)){alert("Veuillez slectionner un fichier vido valide (MP4, AVI, MOV, WMV, WebM, FLV, MKV, M4V, 3GP)");return}const K=4*1024*1024*1024;if(A.size>K){alert("La taille du fichier doit tre infrieure  4GB");return}Q(Y=>({...Y,video_file:A}))}},F=_=>{var b;const A=(b=_.target.files)==null?void 0:b[0];if(A){if(!["image/jpeg","image/jpg","image/png","image/webp","image/gif"].includes(A.type)){alert("Veuillez slectionner un fichier image valide (JPEG, JPG, PNG, WebP, GIF)");return}const K=20*1024*1024;if(A.size>K){alert("La taille de l'image doit tre infrieure  20MB");return}Q(Y=>({...Y,cover_image:A}))}},U=_=>{B(_),Q(A=>({...A,category_id:_.id.toString()})),D(""),z(!1)},M=()=>{x(!1),e("/admin/videos")},q=()=>{Q(_=>({..._,video_file:null})),t.current&&(t.current.value="")},se=()=>{Q(_=>({..._,cover_image:null})),r.current&&(r.current.value="")},he=_=>{if(_===0)return"0 Bytes";const A=1024,b=["Bytes","KB","MB","GB"],O=Math.floor(Math.log(_)/Math.log(A));return parseFloat((_/Math.pow(A,O)).toFixed(2))+" "+b[O]};return c?s.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"text-gray-600",children:"Chargement des catgories..."})})}):s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(V,{variant:"ghost",onClick:()=>e("/admin/videos"),children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Retour aux vidos"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Ajouter une nouvelle vido"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Tlchargez une vido sur Cloudinary et crez un nouveau contenu de cours"})]})]}),s.jsx(W,{className:"p-8",children:s.jsxs("form",{onSubmit:le,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(Re,{label:"Titre de la vido",name:"title",value:R.title,onChange:de,placeholder:"Entrez le titre de la vido",required:!0}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Catgorie *"}),s.jsxs("div",{className:"relative",ref:n,children:[s.jsxs("div",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white cursor-pointer flex items-center justify-between",onClick:()=>z(!N),children:[s.jsx("span",{className:k?"text-gray-900":"text-gray-500",children:k?k.name:"Slectionnez une catgorie"}),s.jsx(mc,{className:`h-4 w-4 text-gray-400 transform transition-transform ${N?"rotate-180":""}`})]}),N&&s.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg",children:[s.jsx("div",{className:"p-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(bs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Rechercher une catgorie...",value:C,onChange:_=>D(_.target.value),onClick:_=>_.stopPropagation()})]})}),s.jsx("div",{className:"max-h-60 overflow-y-auto",children:i.length>0?i.map(_=>s.jsx("div",{className:"px-4 py-2 hover:bg-gray-100 cursor-pointer",onClick:()=>U(_),children:_.name},_.id)):s.jsx("div",{className:"px-4 py-2 text-gray-500 text-sm",children:"No categories found"})})]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{name:"description",value:R.description,onChange:de,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Entrez la description de la vido"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image de couverture *"}),s.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-lg hover:border-blue-400 transition-colors",children:s.jsxs("div",{className:"space-y-1 text-center",children:[s.jsx(eu,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsxs("div",{className:"flex text-sm text-gray-600",children:[s.jsxs("label",{htmlFor:"cover-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[s.jsx("span",{children:"Tlcharger une image de couverture"}),s.jsx("input",{id:"cover-upload",name:"cover-upload",type:"file",className:"sr-only",accept:"image/*",onChange:F,ref:r})]}),s.jsx("p",{className:"pl-1",children:"ou glissez-dposez"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"JPEG, PNG, WebP, GIF jusqu' 20MB"}),R.cover_image&&s.jsx("div",{className:"mt-2 relative bg-green-50 border border-green-200 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(eu,{className:"h-4 w-4 text-green-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[s.jsx("p",{className:"text-sm text-green-700 font-medium break-all",children:R.cover_image.name}),s.jsx("div",{className:"flex items-center space-x-4 text-xs text-green-600 mt-1",children:s.jsxs("span",{className:"flex items-center",children:[s.jsx(Zd,{className:"h-3 w-3 mr-1 flex-shrink-0"}),he(R.cover_image.size)]})})]}),s.jsx("button",{type:"button",onClick:se,className:"bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors flex-shrink-0",children:s.jsx(ut,{className:"h-3 w-3"})})]})})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fichier vido *"}),s.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-lg hover:border-blue-400 transition-colors",children:s.jsxs("div",{className:"space-y-1 text-center",children:[s.jsx(ru,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsxs("div",{className:"flex text-sm text-gray-600",children:[s.jsxs("label",{htmlFor:"video-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[s.jsx("span",{children:"Tlcharger une vido"}),s.jsx("input",{id:"video-upload",name:"video-upload",type:"file",className:"sr-only",accept:"video/*",onChange:P,ref:t})]}),s.jsx("p",{className:"pl-1",children:"ou glissez-dposez"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"MP4, AVI, MOV, WMV, WebM et plus jusqu' 4GB"}),R.video_file&&s.jsx("div",{className:"mt-2 relative bg-green-50 border border-green-200 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(it,{className:"h-4 w-4 text-green-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[s.jsx("p",{className:"text-sm text-green-700 font-medium break-all",children:R.video_file.name}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-4 space-y-1 sm:space-y-0 text-xs text-green-600 mt-1",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(Zd,{className:"h-3 w-3 mr-1 flex-shrink-0"}),he(R.video_file.size)]}),s.jsx("span",{className:"text-blue-600",children:"Prt pour le tlchargement"})]})]}),s.jsx("button",{type:"button",onClick:q,className:"bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors flex-shrink-0",children:s.jsx(ut,{className:"h-3 w-3"})})]})})]})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"is_published",name:"is_published",checked:R.is_published,onChange:de,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"is_published",className:"text-sm font-medium text-gray-700",children:"Publier immdiatement aprs le tlchargement"})]}),s.jsxs("div",{className:"flex space-x-4 pt-6",children:[s.jsxs(V,{type:"submit",className:"flex-1",disabled:h,children:[s.jsx(it,{className:"h-4 w-4 mr-2"}),h?ae():"Tlcharger sur Cloudinary"]}),s.jsx(V,{type:"button",variant:"secondary",onClick:()=>e("/admin/videos"),className:"flex-1",disabled:h,children:"Annuler"})]}),h&&s.jsxs("div",{className:"space-y-3 mt-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:ae()}),s.jsxs("span",{className:"text-blue-600 font-medium",children:[g,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-3 rounded-full transition-all duration-300 ease-out",style:{width:`${g}%`},children:s.jsx("div",{className:"w-full h-full bg-white opacity-20 animate-pulse"})})}),s.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("span",{className:`flex items-center ${v==="preparing"?"text-blue-600 font-medium":g>0?"text-green-600":"text-gray-400"}`,children:[s.jsx(vt,{className:"h-3 w-3 mr-1"}),"Prparation"]}),s.jsxs("span",{className:`flex items-center ${v==="uploading"?"text-blue-600 font-medium":g>=80?"text-green-600":"text-gray-400"}`,children:[s.jsx(ru,{className:"h-3 w-3 mr-1"}),"Tlchargement"]}),s.jsxs("span",{className:`flex items-center ${v==="processing"?"text-blue-600 font-medium":g>=95?"text-green-600":"text-gray-400"}`,children:[s.jsx(it,{className:"h-3 w-3 mr-1"}),"Traitement"]}),s.jsxs("span",{className:`flex items-center ${v==="finalizing"?"text-blue-600 font-medium":g===100?"text-green-600":"text-gray-400"}`,children:[s.jsx(Me,{className:"h-3 w-3 mr-1"}),"Finalisation"]})]}),s.jsxs("p",{className:"text-center text-gray-500",children:[v==="uploading"&&"Tlchargement des fichiers sur Cloudinary...",v==="processing"&&"Cloudinary traite votre vido...",v==="finalizing"&&"Enregistrement des informations de la vido dans la base de donnes..."]})]})]})]})}),a.length===0&&s.jsxs(W,{className:"p-6 bg-yellow-50 border-yellow-200",children:[s.jsx("h3",{className:"font-semibold text-yellow-900 mb-2",children:"Aucune catgorie disponible"}),s.jsx("p",{className:"text-yellow-800 text-sm mb-3",children:"Vous devez crer des catgories avant d'ajouter des vidos."}),s.jsx(V,{variant:"secondary",onClick:()=>e("/admin/categories"),className:"text-sm",children:"Aller aux catgories"})]}),s.jsx(gy,{isOpen:S,onClose:M,videoTitle:R.title}),s.jsx(vy,{isOpen:u,onClose:()=>m(!1),error:y})]})},jy=({isOpen:e,onClose:t,videoTitle:r})=>e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Me,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Vido mise  jour avec succs !"}),s.jsxs("p",{className:"text-gray-600 mb-6",children:['"',r,'" a t mise  jour avec succs.']}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx(V,{onClick:t,className:"flex-1",children:"Voir les vidos"}),s.jsx(V,{variant:"secondary",onClick:()=>window.location.reload(),className:"flex-1",children:"Continuer la modification"})]})]})})}):null,wy=({isOpen:e,onClose:t,error:r})=>{if(!e||!r)return null;const n=()=>{const a={timestamp:new Date().toISOString(),message:r.message,status:r.status,details:r.details,validationErrors:r.validationErrors,requestData:r.requestData};navigator.clipboard.writeText(JSON.stringify(a,null,2)),alert("Error details copied to clipboard!")};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-96 overflow-y-auto",children:s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ut,{className:"h-8 w-8 text-red-500 mr-3"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"chec de la mise  jour"})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(ut,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"Message d'erreur :"}),s.jsx("p",{className:"text-red-700 text-sm",children:r.message})]}),r.status&&s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Statut HTTP :"}),s.jsx("p",{className:"text-gray-700 text-sm",children:r.status})]}),r.validationErrors&&s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"Erreurs de validation :"}),s.jsx("div",{className:"space-y-1",children:Object.entries(r.validationErrors).map(([a,l])=>s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"font-medium text-yellow-700",children:[a,":"]}),s.jsx("ul",{className:"list-disc list-inside ml-4 text-yellow-600",children:Array.isArray(l)?l.map((i,o)=>s.jsx("li",{children:i},o)):s.jsx("li",{children:l})})]},a))})]}),r.details&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Dtails de la rponse :"}),s.jsx("pre",{className:"text-xs text-blue-700 whitespace-pre-wrap overflow-x-auto",children:JSON.stringify(r.details,null,2)})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx(V,{onClick:n,variant:"secondary",className:"flex-1",children:"Copier les dtails de l'erreur"}),s.jsx(V,{onClick:t,className:"flex-1",children:"Fermer"})]})]})})})},Ny=()=>{const e=qt(),{id:t}=Ln(),r=p.useRef(null),[n,a]=p.useState(null),[l,i]=p.useState([]),[o,c]=p.useState([]),[d,h]=p.useState(!0),[f,g]=p.useState(!1),[j,v]=p.useState(!1),[w,S]=p.useState(!1),[x,u]=p.useState(null),[m,y]=p.useState(!1),[E,N]=p.useState(""),[z,C]=p.useState(null),[D,k]=p.useState({title:"",description:"",category_id:"",is_published:!1});p.useEffect(()=>{t&&(B(),R())},[t]),p.useEffect(()=>{const F=l.filter(U=>U.name.toLowerCase().includes(E.toLowerCase()));c(F)},[l,E]),p.useEffect(()=>{const F=U=>{r.current&&!r.current.contains(U.target)&&y(!1)};return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[]);const B=async()=>{var F,U;try{const M=await J.get(`/admin/videos/${t}/edit`);if(M.data.success){const q=M.data.data;a(q),k({title:q.title,description:q.description||"",category_id:q.category_id.toString(),is_published:q.is_published}),q.category&&C({id:q.category.id,name:q.category.name})}else alert("Failed to fetch video details"),e("/admin/videos")}catch(M){console.error("Failed to fetch video:",M);const q=((U=(F=M.response)==null?void 0:F.data)==null?void 0:U.message)||"Failed to fetch video details";alert(q),e("/admin/videos")}},R=async()=>{var F,U;try{const M=await J.get("/admin/categories/select-options");M.data.success?(i(M.data.data),c(M.data.data)):alert("Failed to fetch categories")}catch(M){console.error("Failed to fetch categories:",M);const q=((U=(F=M.response)==null?void 0:F.data)==null?void 0:U.message)||"Failed to fetch categories";alert(q)}finally{h(!1)}},Q=async F=>{var U,M,q,se,he,_;if(F.preventDefault(),!z){alert("Please select a category");return}g(!0);try{const A={title:D.title,description:D.description||"",category_id:z.id,is_published:D.is_published};console.log("Updating video:",{video_id:t,update_data:A});const b=await J.put(`/admin/videos/${t}`,A,{headers:{"Content-Type":"application/json"}});b.data.success?(console.log("Video updated successfully:",b.data.data),v(!0)):(u({message:b.data.message||"Failed to update video",status:b.status,details:b.data,requestData:A}),S(!0))}catch(A){console.error("Failed to update video:",A);const b={message:((M=(U=A.response)==null?void 0:U.data)==null?void 0:M.message)||A.message||"Unknown error occurred during video update",status:(q=A.response)==null?void 0:q.status,details:(se=A.response)==null?void 0:se.data,validationErrors:(_=(he=A.response)==null?void 0:he.data)==null?void 0:_.errors,requestData:{title:D.title,description:D.description,category_id:z.id,is_published:D.is_published}};u(b),S(!0)}finally{g(!1)}},H=F=>{const{name:U,value:M,type:q}=F.target;k(se=>({...se,[U]:q==="checkbox"?F.target.checked:M}))},ae=F=>{C(F),k(U=>({...U,category_id:F.id.toString()})),N(""),y(!1)},le=()=>{v(!1),e("/admin/videos")},de=F=>{if(!F)return"Unknown size";const U=1024,M=["Bytes","KB","MB","GB"],q=Math.floor(Math.log(F)/Math.log(U));return parseFloat((F/Math.pow(U,q)).toFixed(2))+" "+M[q]},P=F=>{if(!F)return"Unknown duration";const U=Math.floor(F/60),M=Math.floor(F%60);return`${U}:${M.toString().padStart(2,"0")}`};return d?s.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"text-gray-600",children:"Chargement des dtails de la vido..."})})}):n?s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(V,{variant:"ghost",onClick:()=>e("/admin/videos"),children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Retour aux vidos"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Modifier la vido"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Mettre  jour les dtails de la vido"})]})]}),s.jsxs(W,{className:"p-6 bg-blue-50 border-blue-200",children:[s.jsxs("h3",{className:"font-semibold text-blue-900 mb-4 flex items-center",children:[s.jsx(it,{className:"h-5 w-5 mr-2"}),"Informations actuelles de la vido"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-blue-800",children:"Dure :"}),s.jsx("span",{className:"text-blue-700 ml-2",children:P(n.duration)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-blue-800",children:"Taille du fichier :"}),s.jsx("span",{className:"text-blue-700 ml-2",children:de(n.file_size)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-blue-800",children:"Statut :"}),s.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs ${n.is_published?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:n.is_published?"Publi":"Brouillon"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-blue-800",children:"URL de la vido :"}),s.jsx("div",{className:"text-blue-700 text-xs break-all",children:n.video_url})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-blue-800",children:"URL de la couverture :"}),s.jsx("div",{className:"text-blue-700 text-xs break-all",children:n.cover_url})]})]})]})]}),s.jsx(W,{className:"p-8",children:s.jsxs("form",{onSubmit:Q,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(Re,{label:"Titre de la vido",name:"title",value:D.title,onChange:H,placeholder:"Entrez le titre de la vido",required:!0}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Catgorie *"}),s.jsxs("div",{className:"relative",ref:r,children:[s.jsxs("div",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white cursor-pointer flex items-center justify-between",onClick:()=>y(!m),children:[s.jsx("span",{className:z?"text-gray-900":"text-gray-500",children:z?z.name:"Slectionnez une catgorie"}),s.jsx(mc,{className:`h-4 w-4 text-gray-400 transform transition-transform ${m?"rotate-180":""}`})]}),m&&s.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg",children:[s.jsx("div",{className:"p-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(bs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Rechercher des catgories...",value:E,onChange:F=>N(F.target.value),onClick:F=>F.stopPropagation()})]})}),s.jsx("div",{className:"max-h-60 overflow-y-auto",children:o.length>0?o.map(F=>s.jsx("div",{className:"px-4 py-2 hover:bg-gray-100 cursor-pointer",onClick:()=>ae(F),children:F.name},F.id)):s.jsx("div",{className:"px-4 py-2 text-gray-500 text-sm",children:"Aucune catgorie trouve"})})]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{name:"description",value:D.description,onChange:H,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Entrez la description de la vido"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"is_published",name:"is_published",checked:D.is_published,onChange:H,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"is_published",className:"text-sm font-medium text-gray-700",children:"Publie"})]}),s.jsxs("div",{className:"flex space-x-4 pt-6",children:[s.jsxs(V,{type:"submit",className:"flex-1",disabled:f,children:[s.jsx(On,{className:"h-4 w-4 mr-2"}),f?"Mise  jour...":"Enregistrer les modifications"]}),s.jsx(V,{type:"button",variant:"secondary",onClick:()=>e("/admin/videos"),className:"flex-1",disabled:f,children:"Annuler"})]})]})}),l.length===0&&s.jsxs(W,{className:"p-6 bg-yellow-50 border-yellow-200",children:[s.jsx("h3",{className:"font-semibold text-yellow-900 mb-2",children:"Aucune catgorie disponible"}),s.jsx("p",{className:"text-yellow-800 text-sm mb-3",children:"Vous devez crer des catgories avant de modifier des vidos."}),s.jsx(V,{variant:"secondary",onClick:()=>e("/admin/categories"),className:"text-sm",children:"Aller aux catgories"})]}),s.jsx(W,{className:"p-6 bg-green-50 border-green-200",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Me,{className:"h-4 w-4 text-green-600"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:"Fichiers vido"}),s.jsxs("div",{className:"text-green-800 text-sm space-y-1",children:[s.jsx("p",{children:" La vido et l'image de couverture sont stockes sur Cloudinary"}),s.jsx("p",{children:" Pour remplacer les fichiers vido, vous devez tlcharger une nouvelle vido"}),s.jsx("p",{children:" Ce formulaire met  jour uniquement les mtadonnes (titre, description, catgorie, statut de publication)"}),s.jsx("p",{children:" Tous les fichiers mdias restent accessibles via leurs URLs Cloudinary"})]})]})]})}),s.jsx(jy,{isOpen:j,onClose:le,videoTitle:D.title}),s.jsx(wy,{isOpen:w,onClose:()=>S(!1),error:x})]}):s.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"text-red-600",children:"Vido introuvable"})})})},by=()=>{var m;const[e,t]=p.useState([]),[r,n]=p.useState(null),[a,l]=p.useState(!0),[i,o]=p.useState(""),[c,d]=p.useState(!1),[h,f]=p.useState(""),[g,j]=p.useState(!1);p.useEffect(()=>{v(),w()},[]);const v=async()=>{try{const y=await J.get("/admin/categories");y.data.success&&t(y.data.data)}catch(y){console.error("Failed to fetch categories:",y)}finally{l(!1)}},w=async()=>{try{const y=await J.get("/admin/categories/statistics");y.data.success&&n(y.data.data)}catch(y){console.error("Failed to fetch statistics:",y)}},S=async()=>{var y,E;if(h.trim()){j(!0);try{const N=await J.post("/admin/categories",{name:h});N.data.success?(await v(),await w(),f(""),d(!1)):alert(N.data.message||"Failed to create category")}catch(N){console.error("Failed to create category:",N);const z=((E=(y=N.response)==null?void 0:y.data)==null?void 0:E.message)||"Failed to create category";alert(z)}finally{j(!1)}}},x=async(y,E)=>{var N,z;if(window.confirm(`Are you sure you want to delete the category "${E}"? This action cannot be undone.`))try{const C=await J.delete(`/admin/categories/${y}`);C.data.success?(await v(),await w()):alert(C.data.message||"Failed to delete category")}catch(C){console.error("Failed to delete category:",C);const D=((z=(N=C.response)==null?void 0:N.data)==null?void 0:z.message)||"Failed to delete category";alert(D)}},u=e.filter(y=>y.name.toLowerCase().includes(i.toLowerCase()));return a?s.jsx("div",{className:"space-y-8",children:s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"text-gray-600",children:"Loading categories..."})})}):s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestion des catgories"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Grez les catgories de vidos et l'attribution des utilisateurs"})]}),s.jsxs(V,{onClick:()=>d(!0),children:[s.jsx($s,{className:"h-4 w-4 mr-2"}),"Ajouter une catgorie"]})]}),r&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx(W,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(Xa,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Catgories totales"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.total_categories})]})]})}),s.jsx(W,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(Qe,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avec utilisateurs"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.categories_with_users})]})]})}),s.jsx(W,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(it,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avec vidos"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.categories_with_videos})]})]})}),s.jsx(W,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:s.jsx(Xa,{className:"h-6 w-6 text-orange-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"La plus populaire"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:((m=r.most_popular_category)==null?void 0:m.name)||"None"})]})]})})]}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(bs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Rechercher une catgorie...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-full",value:i,onChange:y=>o(y.target.value)})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.map(y=>s.jsx(ky,{category:y,onDelete:x},y.id)),u.length===0&&s.jsx("div",{className:"col-span-full text-center py-8 text-gray-500",children:i?"Aucune catgorie trouve correspondant  votre recherche.":"Aucune catgorie cre pour le moment."})]}),c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Ajouter une catgorie"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom de la catgorie"}),s.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Entrez le nom de la catgorie...",value:h,onChange:y=>f(y.target.value),onKeyPress:y=>y.key==="Enter"&&S()})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx(V,{onClick:S,disabled:!h.trim()||g,className:"flex-1",children:g?"Cration...":"Crer la catgorie"}),s.jsx(V,{variant:"secondary",onClick:()=>{d(!1),f("")},className:"flex-1",children:"Annuler"})]})]})]})})]})},ky=({category:e,onDelete:t})=>s.jsxs(W,{className:"p-6 hover:shadow-lg transition-shadow",children:[s.jsx("div",{className:"flex items-start justify-between mb-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Xa,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:e.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Cre le ",new Date(e.created_at).toLocaleDateString()]})]})]})}),s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.users_count}),s.jsx("p",{className:"text-xs text-gray-500",children:"Utilisateurs"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.videos_count}),s.jsx("p",{className:"text-xs text-gray-500",children:"Vidos"})]})]})}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ge,{to:`/admin/categories/edit/${e.id}`,className:"flex-1",children:s.jsxs(V,{size:"sm",variant:"secondary",className:"w-full",children:[s.jsx(Ga,{className:"h-3 w-3 mr-1"}),"Modifier"]})}),s.jsx(V,{size:"sm",variant:"danger",onClick:()=>t(e.id,e.name),children:s.jsx(ks,{className:"h-3 w-3"})})]})]}),Sy=()=>{const{categoryId:e}=Ln(),t=qt(),[r,n]=p.useState(null),[a,l]=p.useState(""),[i,o]=p.useState(!0),[c,d]=p.useState(!1);p.useEffect(()=>{h()},[e]);const h=async()=>{try{const g=await J.get(`/admin/categories/${e}`);g.data.success?(n(g.data.data),l(g.data.data.name)):(alert("Failed to fetch category details"),t("/admin/categories"))}catch(g){console.error("Failed to fetch category:",g),alert("Failed to fetch category details"),t("/admin/categories")}finally{o(!1)}},f=async()=>{var g,j;if(a.trim()){d(!0);try{const v=await J.put(`/admin/categories/${e}`,{name:a});v.data.success?(alert("Category updated successfully!"),t("/admin/categories")):alert(v.data.message||"Failed to update category")}catch(v){console.error("Failed to update category:",v);const w=((j=(g=v.response)==null?void 0:g.data)==null?void 0:j.message)||"Failed to update category";alert(w)}finally{d(!1)}}};return i?s.jsx("div",{className:"space-y-8",children:s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"text-gray-600",children:"Chargement des dtails de la catgorie..."})})}):r?s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(V,{variant:"ghost",onClick:()=>t("/admin/categories"),children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Retour aux catgories"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Modifier la catgorie"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Mettre  jour les informations de la catgorie"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs(W,{className:"p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Dtails de la catgorie"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom de la catgorie"}),s.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:a,onChange:g=>l(g.target.value),placeholder:"Entrez le nom de la catgorie..."})]}),s.jsx("div",{className:"flex space-x-3",children:s.jsxs(V,{onClick:f,disabled:!a.trim()||c||a===r.name,className:"flex-1",children:[s.jsx(On,{className:"h-4 w-4 mr-2"}),c?"Mise  jour...":"Mettre  jour la catgorie"]})})]})]}),s.jsxs(W,{className:"p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistiques de la catgorie"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[s.jsx("span",{className:"text-gray-600",children:"Utilisateurs assigns"}),s.jsx("span",{className:"font-semibold",children:r.users.length})]}),s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[s.jsx("span",{className:"text-gray-600",children:"Vidos associes"}),s.jsx("span",{className:"font-semibold",children:r.videos.length})]}),s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[s.jsx("span",{className:"text-gray-600",children:"Date de cration"}),s.jsx("span",{className:"font-semibold",children:new Date(r.created_at).toLocaleDateString()})]}),s.jsxs("div",{className:"flex justify-between items-center py-2",children:[s.jsx("span",{className:"text-gray-600",children:"Dernire modification"}),s.jsx("span",{className:"font-semibold",children:new Date(r.updated_at).toLocaleDateString()})]})]})]})]}),r.users.length>0&&s.jsxs(W,{className:"p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Utilisateurs assigns"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.users.map(g=>s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:g.name}),s.jsx("p",{className:"text-sm text-gray-600",children:g.email})]},g.id))})]}),s.jsxs(W,{className:"p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Vidos associes"}),r.videos.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.videos.map(g=>s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:g.title}),s.jsx("p",{className:"text-sm text-gray-600",children:g.description})]},g.id))}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(it,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),s.jsx("p",{children:"Aucune vido disponible dans cette catgorie"}),s.jsx("p",{className:"text-sm mt-1",children:"Les vidos apparatront ici lorsqu'elles seront assignes  cette catgorie"})]})]})]}):s.jsx("div",{className:"space-y-8",children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Catgorie introuvable"}),s.jsx(V,{onClick:()=>t("/admin/categories"),children:"Retour aux catgories"})]})})},Cy=()=>{const{categoryId:e}=Ln(),t=qt(),[r,n]=p.useState(null),[a,l]=p.useState([]),[i,o]=p.useState([]),[c,d]=p.useState(""),[h,f]=p.useState(!0),[g,j]=p.useState(!1);p.useEffect(()=>{v()},[e]);const v=async()=>{var u,m,y,E;try{const[N,z]=await Promise.all([J.get(`/admin/categories/${e}`),J.get("/admin/users")]);N.data.success&&z.data.success?(n(N.data.data),l(z.data.data),o(N.data.data.users.map(C=>C.id))):(alert("Failed to fetch data"),t("/admin/categories"))}catch(N){console.error("Failed to fetch data:",N),((u=N.response)==null?void 0:u.status)===404?alert("Category or users endpoint not found. Please check your API setup."):((m=N.response)==null?void 0:m.status)===401?(alert("Authentication failed. Please login again."),t("/login")):alert(`Failed to fetch data: ${((E=(y=N.response)==null?void 0:y.data)==null?void 0:E.message)||N.message}`),t("/admin/categories")}finally{f(!1)}},w=u=>{o(m=>m.includes(u)?m.filter(y=>y!==u):[...m,u])},S=async()=>{var u,m;j(!0);try{const y=await J.post(`/admin/categories/${e}/assign-users`,{user_ids:i});y.data.success?(alert("Users assigned successfully!"),t("/admin/categories")):alert(y.data.message||"Failed to assign users")}catch(y){console.error("Failed to assign users:",y);const E=((m=(u=y.response)==null?void 0:u.data)==null?void 0:m.message)||"Failed to assign users";alert(E)}finally{j(!1)}},x=a.filter(u=>u.name.toLowerCase().includes(c.toLowerCase())||u.email.toLowerCase().includes(c.toLowerCase()));return h?s.jsx("div",{className:"space-y-8",children:s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"text-gray-600",children:"Chargement..."})})}):r?s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(V,{variant:"ghost",onClick:()=>t("/admin/categories"),children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Retour aux catgories"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Assigner des utilisateurs"}),s.jsxs("p",{className:"text-gray-600 mt-1",children:["Catgorie : ",s.jsx("span",{className:"font-medium",children:r.name})]})]})]}),s.jsx(W,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(Qe,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Assignation des utilisateurs"}),s.jsxs("p",{className:"text-gray-600",children:[i.length," sur ",a.length," utilisateurs slectionns"]})]})]}),s.jsxs(V,{onClick:S,disabled:g,children:[s.jsx(On,{className:"h-4 w-4 mr-2"}),g?"Enregistrement...":"Enregistrer l'assignation"]})]})}),s.jsxs("div",{className:"relative max-w-md",children:[s.jsx(bs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Rechercher des utilisateurs...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-full",value:c,onChange:u=>d(u.target.value)})]}),s.jsxs(W,{className:"p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Slectionner les utilisateurs"}),s.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[x.map(u=>s.jsx("div",{className:`p-3 rounded-lg border cursor-pointer transition-colors ${i.includes(u.id)?"bg-blue-50 border-blue-200":"bg-white border-gray-200 hover:bg-gray-50"}`,onClick:()=>w(u.id),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:i.includes(u.id),onChange:()=>w(u.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:u.name}),s.jsx("p",{className:"text-sm text-gray-600",children:u.email})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${u.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:u.is_active?"Actif":"Inactif"}),new Date(u.access_expires_at)<new Date&&s.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:"Expir"})]})]})},u.id)),x.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:c?"Aucun utilisateur trouv correspondant  votre recherche.":"Aucun utilisateur disponible."})]})]})]}):s.jsx("div",{className:"space-y-8",children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Catgorie introuvable"}),s.jsx(V,{onClick:()=>t("/admin/categories"),children:"Retour aux catgories"})]})})},Ey=({isOpen:e,onClose:t,user:r,categories:n,onSave:a,loading:l})=>{const[i,o]=p.useState([]),[c,d]=p.useState("");p.useEffect(()=>{r&&r.categories&&o(r.categories.map(j=>j.id))},[r]);const h=n.filter(j=>j.name.toLowerCase().includes(c.toLowerCase())),f=j=>{o(v=>v.includes(j)?v.filter(w=>w!==j):[...v,j])},g=()=>{r&&a(r.id,i)};return!e||!r?null:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg w-full max-w-5xl max-h-[95vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 truncate",children:["Assigner des catgories  ",r.username]}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1 truncate",children:[r.name&&`${r.name}  `,r.email]})]}),s.jsx("button",{onClick:t,className:"ml-4 text-gray-400 hover:text-gray-600 p-2 hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col p-4 sm:p-6",children:[s.jsxs("div",{className:"relative mb-4",children:[s.jsx(bs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Rechercher des catgories...",value:c,onChange:j=>d(j.target.value)}),c&&s.jsx("button",{onClick:()=>d(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:""})]}),s.jsx("div",{className:"border border-gray-200 rounded-lg bg-gray-50 p-3 sm:p-4 flex-1 overflow-y-auto",children:h.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-2 sm:gap-3",children:h.map(j=>{const v=i.includes(j.id);return s.jsx("div",{className:`
                        relative flex items-center p-3 sm:p-4 rounded-lg border-2 cursor-pointer transition-all duration-200 hover:shadow-md
                        ${v?"border-blue-500 bg-blue-50 shadow-sm":"border-gray-200 bg-white hover:border-gray-300"}
                      `,onClick:()=>f(j.id),children:s.jsxs("div",{className:"flex items-center w-full min-w-0",children:[s.jsxs("div",{className:"relative flex-shrink-0",children:[s.jsx("input",{type:"checkbox",id:`modal-category-${j.id}`,checked:v,onChange:()=>f(j.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded transition-colors",onClick:w=>w.stopPropagation()}),v&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("svg",{className:"h-3 w-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),s.jsx("div",{className:"ml-3 flex-1 min-w-0",children:s.jsx("label",{htmlFor:`modal-category-${j.id}`,className:`text-sm font-medium cursor-pointer select-none block truncate ${v?"text-blue-900":"text-gray-700"}`,children:j.name})}),v&&s.jsx("div",{className:"ml-2 flex-shrink-0",children:s.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full animate-pulse"})})]})},j.id)})}):s.jsxs("div",{className:"text-center py-12 sm:py-16",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-200 rounded-full mb-4",children:s.jsx(ja,{className:"h-8 w-8 text-gray-400"})}),s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-1",children:c?"Aucune catgorie trouve":"Aucune catgorie disponible"}),s.jsx("p",{className:"text-xs text-gray-500",children:c?`Aucun rsultat pour "${c}"`:"Veuillez d'abord crer des catgories"})]})}),h.length>0&&s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mt-4 pt-4 border-t border-gray-200 gap-3 sm:gap-0",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:[i.length," sur ",n.length," catgorie",n.length!==1?"s":""]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.length!==n.length&&s.jsx("button",{type:"button",onClick:()=>o(n.map(j=>j.id)),className:"text-xs px-3 py-1.5 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors font-medium",children:"Tout slectionner"}),i.length>0&&s.jsx("button",{type:"button",onClick:()=>o([]),className:"text-xs px-3 py-1.5 bg-red-100 text-red-700 rounded-md hover:bg-red-200 transition-colors font-medium",children:"Tout dslectionner"})]})]}),i.length>0&&s.jsxs("div",{className:"mt-4 p-3 sm:p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsxs("div",{className:"text-sm font-medium text-blue-900 mb-3",children:["Catgories slectionnes (",i.length,") :"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(j=>{const v=n.find(w=>w.id===j);return v?s.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-xs font-medium bg-white text-blue-800 border border-blue-300 shadow-sm",children:[s.jsx("span",{className:"mr-2",children:v.name}),s.jsx("button",{type:"button",className:"inline-flex items-center justify-center w-4 h-4 text-blue-500 hover:text-blue-700 hover:bg-blue-100 rounded-full transition-colors",onClick:()=>f(j),children:s.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},j):null})})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-4 sm:p-6 border-t border-gray-200 gap-3 sm:gap-0",children:[s.jsx("div",{className:"text-sm text-gray-600 order-2 sm:order-1",children:i.length===0?"Aucune catgorie slectionne":`${i.length} catgorie${i.length>1?"s":""} slectionne${i.length>1?"s":""}`}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-3 order-1 sm:order-2",children:[s.jsx(V,{variant:"secondary",onClick:t,disabled:l,className:"w-full sm:w-auto",children:"Annuler"}),s.jsx(V,{onClick:g,disabled:l,className:"w-full sm:w-auto min-w-[140px]",children:l?s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Enregistrement..."]}):"Enregistrer les catgories"})]})]})]})})},_y=()=>{const[e,t]=p.useState([]),[r,n]=p.useState([]),[a,l]=p.useState(null),[i,o]=p.useState(!1),[c,d]=p.useState(null),[h,f]=p.useState(!1),[g,j]=p.useState(null),[v,w]=p.useState(!1),[S,x]=p.useState(!1),[u,m]=p.useState(null),[y,E]=p.useState(""),[N,z]=p.useState(""),[C,D]=p.useState({username:"",name:"",email:"",password:"",access_start:"",access_end:"",is_active:!0,category_ids:[]}),[k,B]=p.useState("");p.useEffect(()=>{R(),H(),Q()},[y,N]);const R=async()=>{var b,O;try{w(!0),m(null);const K=new URLSearchParams;y&&K.append("search",y),N&&K.append("status",N);const Y=await J.get(`/admin/users?${K.toString()}`);t(Y.data.data||Y.data)}catch(K){m(((O=(b=K.response)==null?void 0:b.data)==null?void 0:O.error)||"Failed to load users"),console.error("Error loading users:",K)}finally{w(!1)}},Q=async()=>{try{const b=await J.get("/admin/categories/select-options");b.data.success&&n(b.data.data)}catch(b){console.error("Error loading categories:",b),m("Failed to load categories. Please check if the admin API is running.")}},H=async()=>{try{const b=await J.get("/admin/users/statistics");l(b.data)}catch(b){console.error("Error loading statistics:",b)}},ae=async b=>{var O,K,Y;b.preventDefault();try{w(!0),m(null);const re={...C};if(console.log("Submitting user data:",re),c)if(re.password)await J.put(`/admin/users/${c.id}`,re);else{const{password:He,...Ps}=re;await J.put(`/admin/users/${c.id}`,Ps)}else await J.post("/admin/users",re);await R(),await H(),le()}catch(re){const He=re;console.error("Full error response:",(O=He.response)==null?void 0:O.data),m(((Y=(K=He.response)==null?void 0:K.data)==null?void 0:Y.error)||"Failed to save user"),console.error("Error saving user:",re)}finally{w(!1)}},le=()=>{D({username:"",name:"",email:"",password:"",access_start:"",access_end:"",is_active:!0,category_ids:[]}),o(!1),d(null),m(null),B("")},de=b=>{d(b),D({username:b.username,name:b.name||"",email:b.email||"",password:"",access_start:b.access_start,access_end:b.access_end,is_active:b.is_active,category_ids:b.categories?b.categories.map(O=>O.id):[]}),o(!0)},P=async b=>{var O,K;if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{w(!0),await J.delete(`/admin/users/${b}`),await R(),await H()}catch(Y){m(((K=(O=Y.response)==null?void 0:O.data)==null?void 0:K.error)||"Failed to delete user"),console.error("Error deleting user:",Y)}finally{w(!1)}},F=async b=>{var O,K;try{w(!0),await J.patch(`/admin/users/${b}/toggle-status`),await R(),await H()}catch(Y){m(((K=(O=Y.response)==null?void 0:O.data)==null?void 0:K.error)||"Failed to update user status"),console.error("Error toggling user status:",Y)}finally{w(!1)}},U=async(b,O)=>{var K,Y;try{w(!0),await J.patch(`/admin/users/${b}/extend-access`,{extend_days:O}),await R(),await H()}catch(re){m(((Y=(K=re.response)==null?void 0:K.data)==null?void 0:Y.error)||"Failed to extend access"),console.error("Error extending access:",re)}finally{w(!1)}},M=b=>{const{name:O,value:K,type:Y,checked:re}=b.target;D(He=>({...He,[O]:Y==="checkbox"?re:K}))},q=b=>{j(b),f(!0)},se=async(b,O)=>{var K,Y;try{x(!0),await J.post(`/admin/users/${b}/assign-categories`,{category_ids:O}),await R(),f(!1),j(null)}catch(re){m(((Y=(K=re.response)==null?void 0:K.data)==null?void 0:Y.error)||"Failed to assign categories"),console.error("Error assigning categories:",re)}finally{x(!1)}},he=b=>{D(O=>({...O,category_ids:O.category_ids.includes(b)?O.category_ids.filter(K=>K!==b):[...O.category_ids,b]}))},_=b=>{const O={active:{status:"Active",color:"text-green-600",bg:"bg-green-100"},inactive:{status:"Inactive",color:"text-gray-500",bg:"bg-gray-100"},expired:{status:"Expired",color:"text-red-600",bg:"bg-red-100"},expiring_soon:{status:b.days_remaining!==null?`${b.days_remaining}d left`:"Expiring Soon",color:"text-yellow-600",bg:"bg-yellow-100"}};return O[b.access_status]||O.inactive},A=r.filter(b=>b.name.toLowerCase().includes(k.toLowerCase()));return s.jsxs("div",{className:"space-y-6 lg:space-y-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Gestion des utilisateurs"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Grez les comptes tudiants et les autorisations d'accs"})]}),s.jsxs(V,{onClick:()=>o(!0),disabled:v,className:"w-full sm:w-auto",children:[s.jsx($s,{className:"h-4 w-4 mr-2"}),"Ajouter un nouvel tudiant"]})]}),u&&s.jsx(W,{className:"p-4 border-red-200 bg-red-50",children:s.jsxs("div",{className:"flex items-center text-red-600",children:[s.jsx(De,{className:"h-5 w-5 mr-2"}),s.jsx("span",{children:u}),s.jsx(V,{size:"sm",variant:"ghost",onClick:()=>m(null),className:"ml-auto text-red-600 hover:text-red-800",children:""})]})}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4 lg:gap-6",children:[s.jsx(W,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 lg:p-3 bg-blue-100 rounded-lg",children:s.jsx(Qe,{className:"h-5 w-5 lg:h-6 lg:w-6 text-blue-600"})}),s.jsxs("div",{className:"ml-3 lg:ml-4",children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-gray-600",children:"Total"}),s.jsx("p",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:(a==null?void 0:a.total_students)||0})]})]})}),s.jsx(W,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 lg:p-3 bg-green-100 rounded-lg",children:s.jsx(vr,{className:"h-5 w-5 lg:h-6 lg:w-6 text-green-600"})}),s.jsxs("div",{className:"ml-3 lg:ml-4",children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-gray-600",children:"Actifs"}),s.jsx("p",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:(a==null?void 0:a.active_students)||0})]})]})}),s.jsx(W,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 lg:p-3 bg-yellow-100 rounded-lg",children:s.jsx(lt,{className:"h-5 w-5 lg:h-6 lg:w-6 text-yellow-600"})}),s.jsxs("div",{className:"ml-3 lg:ml-4",children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-gray-600",children:"Expirant bientt"}),s.jsx("p",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:(a==null?void 0:a.expiring_soon)||0})]})]})}),s.jsx(W,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 lg:p-3 bg-red-100 rounded-lg",children:s.jsx(ai,{className:"h-5 w-5 lg:h-6 lg:w-6 text-red-600"})}),s.jsxs("div",{className:"ml-3 lg:ml-4",children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-gray-600",children:"Expirs"}),s.jsx("p",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:(a==null?void 0:a.expired_students)||0})]})]})}),s.jsx(W,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 lg:p-3 bg-gray-100 rounded-lg",children:s.jsx(Qe,{className:"h-5 w-5 lg:h-6 lg:w-6 text-gray-600"})}),s.jsxs("div",{className:"ml-3 lg:ml-4",children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-gray-600",children:"Inactifs"}),s.jsx("p",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:(a==null?void 0:a.inactive_students)||0})]})]})})]}),s.jsx(W,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx(Re,{placeholder:"Rechercher par nom d'utilisateur, nom ou email...",value:y,onChange:b=>E(b.target.value)})}),s.jsx("div",{className:"sm:w-48",children:s.jsxs("select",{value:N,onChange:b=>z(b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Tous les statuts"}),s.jsx("option",{value:"active",children:"Actif"}),s.jsx("option",{value:"inactive",children:"Inactif"}),s.jsx("option",{value:"expired",children:"Expir"}),s.jsx("option",{value:"expiring_soon",children:"Expire bientt"})]})})]})}),i&&s.jsxs(W,{className:"p-4 lg:p-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6",children:[s.jsx("h2",{className:"text-lg lg:text-xl font-semibold text-gray-900",children:c?"Modifier l'tudiant":"Ajouter un nouvel tudiant"}),s.jsx(V,{variant:"ghost",onClick:le,children:"Annuler"})]}),s.jsxs("form",{onSubmit:ae,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(Re,{label:"Nom d'utilisateur",name:"username",value:C.username,onChange:M,placeholder:"Entrez le nom d'utilisateur",required:!0}),s.jsx(Re,{label:"Nom complet",name:"name",value:C.name,onChange:M,placeholder:"Entrez le nom complet",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(Re,{label:"Email",name:"email",type:"email",value:C.email,onChange:M,placeholder:"Entrez l'email",required:!0}),s.jsx(Re,{label:c?"Nouveau mot de passe (laisser vide pour conserver l'actuel)":"Mot de passe",name:"password",type:"password",value:C.password,onChange:M,placeholder:"Entrez le mot de passe",required:!c})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(Re,{label:"Date de dbut d'accs",name:"access_start",type:"date",value:C.access_start,onChange:M,required:!0}),s.jsx(Re,{label:"Date de fin d'accs",name:"access_end",type:"date",value:C.access_end,onChange:M,required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Assigner des catgories",s.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",C.category_ids.length," slectionne",C.category_ids.length!==1?"s":"",")"]})]}),s.jsxs("div",{className:"relative mb-3",children:[s.jsx(bs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Rechercher des catgories...",value:k,onChange:b=>B(b.target.value)}),k&&s.jsx("button",{type:"button",onClick:()=>B(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:""})]}),s.jsx("div",{className:"border border-gray-200 rounded-lg bg-gray-50 p-4 max-h-64 overflow-y-auto",children:A.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:A.map(b=>{const O=C.category_ids.includes(b.id);return s.jsx("div",{className:`
                            relative flex items-center p-3 rounded-lg border-2 cursor-pointer transition-all duration-200 hover:shadow-md
                            ${O?"border-blue-500 bg-blue-50 shadow-sm":"border-gray-200 bg-white hover:border-gray-300"}
                          `,onClick:()=>he(b.id),children:s.jsxs("div",{className:"flex items-center w-full",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"checkbox",checked:O,onChange:()=>he(b.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded transition-colors",onClick:K=>K.stopPropagation()}),O&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("svg",{className:"h-3 w-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),s.jsx("div",{className:"ml-3 flex-1",children:s.jsx("span",{className:`text-sm font-medium select-none ${O?"text-blue-900":"text-gray-700"}`,children:b.name})}),O&&s.jsx("div",{className:"ml-2",children:s.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full animate-pulse"})})]})},b.id)})}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-200 rounded-full mb-4",children:s.jsx(ja,{className:"h-8 w-8 text-gray-400"})}),s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-1",children:k?"Aucune catgorie trouve":"Aucune catgorie disponible"}),s.jsx("p",{className:"text-xs text-gray-500",children:k?`Aucun rsultat pour "${k}"`:"Veuillez d'abord crer des catgories"})]})}),A.length>0&&s.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-gray-200",children:[s.jsxs("div",{className:"text-xs text-gray-600",children:[C.category_ids.length," sur ",r.length," catgorie",r.length!==1?"s":""]}),s.jsxs("div",{className:"flex space-x-2",children:[C.category_ids.length<A.length&&s.jsx("button",{type:"button",onClick:()=>{const b=A.map(O=>O.id);D(O=>({...O,category_ids:[...new Set([...O.category_ids,...b])]}))},className:"text-xs px-3 py-1.5 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors font-medium",children:"Tout slectionner"}),C.category_ids.length>0&&s.jsx("button",{type:"button",onClick:()=>D(b=>({...b,category_ids:[]})),className:"text-xs px-3 py-1.5 bg-red-100 text-red-700 rounded-md hover:bg-red-200 transition-colors font-medium",children:"Tout dslectionner"})]})]}),C.category_ids.length>0&&s.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx("div",{className:"text-xs font-medium text-blue-900 mb-2",children:"Catgories slectionnes :"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:C.category_ids.map(b=>{const O=r.find(K=>K.id===b);return O?s.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-xs font-medium bg-white text-blue-800 border border-blue-300 shadow-sm",children:[s.jsx("span",{className:"mr-2",children:O.name}),s.jsx("button",{type:"button",className:"inline-flex items-center justify-center w-4 h-4 text-blue-500 hover:text-blue-700 hover:bg-blue-100 rounded-full transition-colors",onClick:()=>he(b),children:s.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},b):null})})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:C.is_active,onChange:M,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-gray-700",children:"Account is active"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx(V,{type:"submit",disabled:v,className:"flex-1",children:v?"Enregistrement...":c?"Mettre  jour l'tudiant":"Crer l'tudiant"}),s.jsx(V,{type:"button",variant:"secondary",onClick:le,className:"flex-1",children:"Annuler"})]})]})]}),s.jsxs(W,{children:[s.jsx("div",{className:"px-4 lg:px-6 py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Comptes tudiants"})}),v&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Chargement..."})]}),!v&&e.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-gray-100 rounded-full mb-4",children:s.jsx(Qe,{className:"h-8 w-8 text-gray-400"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun tudiant trouv"}),s.jsx("p",{className:"text-gray-600 mb-4",children:y||N?"Essayez de modifier vos critres de recherche ou de filtre.":"Crez votre premier compte tudiant pour commencer."}),!y&&!N&&s.jsxs(V,{onClick:()=>o(!0),children:[s.jsx($s,{className:"h-4 w-4 mr-2"}),"Ajouter le premier tudiant"]})]}),!v&&e.length>0&&s.jsx("div",{className:"lg:hidden",children:e.map(b=>{const O=_(b);return s.jsxs("div",{className:"p-4 border-b border-gray-200 last:border-b-0",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center mr-3",children:s.jsx(Qe,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:b.username}),s.jsx("div",{className:"text-xs text-gray-500",children:b.name}),s.jsx("div",{className:"text-xs text-gray-500",children:b.email}),b.categories&&b.categories.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[b.categories.slice(0,2).map(K=>s.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:K.name},K.id)),b.categories.length>2&&s.jsxs("span",{className:"text-xs text-gray-500",children:["+",b.categories.length-2," more"]})]})]})]}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${O.bg} ${O.color}`,children:O.status})]}),s.jsxs("div",{className:"text-xs text-gray-600 mb-3",children:[s.jsxs("div",{children:["Dbut : ",new Date(b.access_start).toLocaleDateString()]}),s.jsxs("div",{children:["Fin : ",new Date(b.access_end).toLocaleDateString()]}),s.jsxs("div",{children:["Cr : ",new Date(b.created_at).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(V,{size:"sm",variant:"ghost",onClick:()=>de(b),disabled:v,children:[s.jsx(Ga,{className:"h-3 w-3 mr-1"}),"Modifier"]}),s.jsxs(V,{size:"sm",variant:"secondary",onClick:()=>q(b),disabled:v,children:[s.jsx(ja,{className:"h-3 w-3 mr-1"}),"Catgories"]}),s.jsxs(V,{size:"sm",variant:b.is_active?"secondary":"primary",onClick:()=>F(b.id),disabled:v,children:[b.is_active?s.jsx(ai,{className:"h-3 w-3 mr-1"}):s.jsx(vr,{className:"h-3 w-3 mr-1"}),b.is_active?"Dsactiver":"Activer"]}),b.access_status==="expiring_soon"&&s.jsxs(V,{size:"sm",variant:"primary",onClick:()=>U(b.id,30),disabled:v,children:[s.jsx(lt,{className:"h-3 w-3 mr-1"}),"+30j"]}),s.jsx(V,{size:"sm",variant:"danger",onClick:()=>P(b.id),disabled:v,children:s.jsx(ks,{className:"h-3 w-3"})})]})]},b.id)})}),!v&&e.length>0&&s.jsx("div",{className:"hidden lg:block overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"tudiant"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Catgories"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priode d'accs"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(b=>{const O=_(b);return s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(Qe,{className:"h-5 w-5 text-blue-600"})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:b.username}),s.jsx("div",{className:"text-sm text-gray-500",children:b.name})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:b.email||"No email"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"flex flex-wrap gap-1",children:b.categories&&b.categories.length>0?s.jsxs(s.Fragment,{children:[b.categories.slice(0,2).map(K=>s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:K.name},K.id)),b.categories.length>2&&s.jsxs("span",{className:"text-xs text-gray-500",children:["+",b.categories.length-2," more"]})]}):s.jsx("span",{className:"text-xs text-gray-500",children:"Aucune catgorie assigne"})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.jsxs("div",{children:[s.jsxs("div",{children:["Dbut : ",new Date(b.access_start).toLocaleDateString()]}),s.jsxs("div",{children:["Fin : ",new Date(b.access_end).toLocaleDateString()]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${O.bg} ${O.color}`,children:O.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(V,{size:"sm",variant:"ghost",onClick:()=>de(b),disabled:v,title:"Modifier l'utilisateur",children:s.jsx(Ga,{className:"h-3 w-3"})}),s.jsx(V,{size:"sm",variant:"secondary",onClick:()=>q(b),disabled:v,title:"Grer les catgories",children:s.jsx(ja,{className:"h-3 w-3"})}),s.jsx(V,{size:"sm",variant:b.is_active?"secondary":"primary",onClick:()=>F(b.id),disabled:v,title:b.is_active?"Dsactiver l'utilisateur":"Activer l'utilisateur",children:b.is_active?s.jsx(ai,{className:"h-3 w-3"}):s.jsx(vr,{className:"h-3 w-3"})}),b.access_status==="expiring_soon"&&s.jsx(V,{size:"sm",variant:"primary",onClick:()=>U(b.id,30),disabled:v,title:"Prolonger l'accs de 30 jours",children:s.jsx(lt,{className:"h-3 w-3"})}),s.jsx(V,{size:"sm",variant:"danger",onClick:()=>P(b.id),disabled:v,title:"Supprimer l'utilisateur",children:s.jsx(ks,{className:"h-3 w-3"})})]})})]},b.id)})})]})})]}),s.jsx(Ey,{isOpen:h,onClose:()=>{f(!1),j(null)},user:g,categories:r,onSave:se,loading:S})]})},Py=()=>{const[e,t]=p.useState([]),[r,n]=p.useState(!0),[a,l]=p.useState(null),[i,o]=p.useState(""),[c,d]=p.useState(null),[h,f]=p.useState(!1),[g,j]=p.useState(!1),[v,w]=p.useState(null),[S,x]=p.useState(null);p.useEffect(()=>{u()},[]),p.useEffect(()=>{const k=setTimeout(()=>{i!==""&&u()},500);return()=>clearTimeout(k)},[i]);const u=async()=>{var k,B;try{n(!0),l(null);const R=new URLSearchParams;i.trim()&&R.append("search",i.trim());const Q=await J.get(`/admin/progress/all-users?${R.toString()}`);Q.data.success?t(Q.data.data||[]):Q.data.data?t(Q.data.data):t([])}catch(R){l(((B=(k=R.response)==null?void 0:k.data)==null?void 0:B.message)||"Failed to load user progress"),console.error("Error loading user progress:",R),t([])}finally{n(!1)}},m=async k=>{var B,R;console.log("loadUserDetails called with userId:",k);try{n(!0),console.log("Making API call to:",`/admin/progress/users/${k}`);const Q=await J.get(`/admin/progress/users/${k}`);if(console.log("API response:",Q.data),Q.data.success){const ae=(Q.data.data.progress_details||[]).map(le=>{var de;return{videoId:le.videoId||((de=le.video_id)==null?void 0:de.toString()),video_id:le.video_id,video_title:le.video_title,video_category:le.video_category||"Uncategorized",progress:parseFloat(le.progress)||0,current_time:parseFloat(le.current_time)||0,duration:parseFloat(le.duration)||0,completed:le.completed||!1,last_watched:le.last_watched}});d({...Q.data.data,progress_details:ae}),f(!0),console.log("Modal should be shown now")}else console.error("API returned success: false"),l("Failed to load user details: API returned success: false")}catch(Q){const H="Failed to load user details: "+(((R=(B=Q.response)==null?void 0:B.data)==null?void 0:R.message)||Q.message);console.error("Error in loadUserDetails:",Q),l(H)}finally{n(!1)}},y=async(k,B)=>{var Q,H;const R=B?"Are you sure you want to reset progress for this specific video?":"Are you sure you want to reset ALL progress for this user?";if(window.confirm(R))try{x(k),B?await J.delete(`/admin/user-progress/${k}/${B}/reset`,{data:{confirm:!0}}):await J.delete(`/admin/user-progress/${k}/reset-all`,{data:{confirm:!0}}),await u(),h&&(c==null?void 0:c.user.id)===k&&await m(k),l(null),alert("Progress reset successfully!")}catch(ae){l("Failed to reset progress: "+(((H=(Q=ae.response)==null?void 0:Q.data)==null?void 0:H.message)||ae.message))}finally{x(null)}},E=async k=>{var B,R;if(console.log("recalculateUserProgress called with userId:",k),!!window.confirm("This will recalculate progress based on current video positions. Continue?"))try{x(k),await J.post(`/admin/user-progress/${k}/recalculate`),await u(),h&&(c==null?void 0:c.user.id)===k&&await m(k),alert("Progress recalculated successfully!")}catch(Q){console.error("Error in recalculateUserProgress:",Q),l("Failed to recalculate progress: "+(((R=(B=Q.response)==null?void 0:B.data)==null?void 0:R.message)||Q.message))}finally{x(null)}},N=k=>k?new Date(k).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",z=k=>{if(!k||k<=0)return"N/A";const B=Math.floor(k/3600),R=Math.floor(k%3600/60),Q=Math.floor(k%60);return B>0?`${B}:${R.toString().padStart(2,"0")}:${Q.toString().padStart(2,"0")}`:`${R}:${Q.toString().padStart(2,"0")}`},D=(()=>{const k=e.length,B=e.filter(H=>H.last_activity).length,R=e.reduce((H,ae)=>H+ae.videos_completed,0),Q=e.length>0?Math.round(e.reduce((H,ae)=>H+ae.overall_progress,0)/e.length):0;return{totalUsers:k,activeUsers:B,completedCourses:R,avgProgress:Q}})();return r&&e.length===0?s.jsxs("div",{className:"flex items-center justify-center h-64",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Loading user progress..."})]}):s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Suivi de la progression des utilisateurs"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Surveillez la progression et l'engagement des tudiants"})]}),s.jsx("div",{className:"flex space-x-2",children:s.jsxs(V,{onClick:u,disabled:r,variant:"secondary",size:"sm",children:[s.jsx(Qv,{className:`h-4 w-4 mr-2 ${r?"animate-spin":""}`}),"Actualiser"]})})]}),a&&s.jsx(W,{className:"p-4 border-red-200 bg-red-50",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(De,{className:"h-5 w-5 text-red-500 mr-2"}),s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"text-red-700 text-sm",children:a})}),s.jsx("button",{onClick:()=>l(null),className:"text-red-500 hover:text-red-700",children:""})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx(W,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(Be,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"tudiants totaux"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:D.totalUsers})]})]})}),s.jsx(W,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(Nl,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Learners"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:D.activeUsers})]})]})}),s.jsx(W,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(an,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Vidos compltes"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:D.completedCourses})]})]})}),s.jsx(W,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:s.jsx(Cr,{className:"h-6 w-6 text-yellow-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Progression moyenne"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[D.avgProgress,"%"]})]})]})})]}),s.jsx(W,{className:"p-6",children:s.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:s.jsx("div",{className:"flex-1",children:s.jsx(Re,{placeholder:"Rechercher des utilisateurs par nom, email ou nom d'utilisateur...",value:i,onChange:k=>o(k.target.value)})})})}),s.jsxs(W,{children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Progression individuelle"})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"tudiant"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Vidos assignes"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Commences"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Compltes"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Progression"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(k=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(Be,{className:"h-5 w-5 text-blue-600"})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.name}),s.jsx("div",{className:"text-sm text-gray-500",children:k.email}),s.jsxs("div",{className:"text-xs text-gray-400",children:["@",k.username]})]})]})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 text-center",children:k.total_videos_assigned}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:k.videos_started})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:k.videos_completed})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:s.jsx("div",{className:`h-2 rounded-full ${k.overall_progress>=80?"bg-green-500":k.overall_progress>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(100,Math.max(0,k.overall_progress))}%`}})}),s.jsxs("span",{className:"text-sm text-gray-900 min-w-[3rem]",children:[Math.round(k.overall_progress),"%"]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(V,{size:"sm",variant:"secondary",onClick:()=>m(k.id),children:"Dtails"}),s.jsx(V,{size:"sm",variant:"secondary",onClick:()=>E(k.id),disabled:S===k.id,title:"Recalculate progress",children:s.jsx(Jv,{className:`h-4 w-4 ${S===k.id?"animate-spin":""}`})})]})})]},k.id))})]}),e.length===0&&!r&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:i?"Aucun utilisateur trouv pour cette recherche.":"Aucun utilisateur trouv."})]})]}),h&&c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-6xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Dtails de la progression pour ",c.user.name]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(V,{size:"sm",variant:"secondary",onClick:()=>y(c.user.id),className:"text-red-600 hover:text-red-800",children:[s.jsx(ks,{className:"h-4 w-4 mr-1"}),"Reset All"]}),s.jsx(V,{onClick:()=>f(!1),children:"Fermer"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs(W,{className:"p-4",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Progression globale"}),s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[Math.round(c.overall_progress),"%"]})]}),s.jsxs(W,{className:"p-4",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Vidos compltes"}),s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[c.videos_completed," / ",c.total_videos_assigned]})]}),s.jsxs(W,{className:"p-4",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Informations utilisateur"}),s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsxs("div",{children:["Email: ",c.user.email]}),s.jsxs("div",{children:["Username: @",c.user.username]})]})]})]}),s.jsx("h4",{className:"font-medium mb-4",children:"Dtails de progression des vidos"}),s.jsx("div",{className:"space-y-3",children:c.progress_details.length>0?c.progress_details.map(k=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium",children:k.video_title}),s.jsxs("div",{className:"text-sm text-gray-500",children:[k.video_category,k.last_watched&&s.jsxs("span",{className:"ml-2",children:[" Dernire vue: ",N(k.last_watched)]})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full ${k.progress>=95?"bg-green-500":k.progress>=50?"bg-blue-500":"bg-gray-400"}`,style:{width:`${Math.min(100,Math.max(0,k.progress))}%`}})}),s.jsxs("div",{className:"text-sm font-medium min-w-[3rem] text-right",children:[Math.round(k.progress),"%"]}),k.completed&&s.jsx(Me,{className:"h-5 w-5 text-green-500"}),s.jsx(V,{size:"sm",variant:"secondary",onClick:()=>y(c.user.id,k.video_id),className:"text-red-600 hover:text-red-800",title:"Reset progress for this video",children:s.jsx(ks,{className:"h-4 w-4"})})]})]},k.video_id)):s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucune progression trouve pour cet utilisateur."})})]})}),g&&v&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-red-600",children:["Debug Progress Issues - User ID: ",v.userId]}),s.jsx(V,{onClick:()=>j(!1),children:"Fermer"})]}),v.inconsistencies.length>0&&s.jsxs(W,{className:"p-4 mb-4 border-red-200 bg-red-50",children:[s.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"Issues Found:"}),s.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-red-700",children:v.inconsistencies.map((k,B)=>s.jsx("li",{children:k},B))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(W,{className:"p-4",children:[s.jsxs("h4",{className:"font-medium mb-2",children:["Database Progress (",v.database.length,")"]}),s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:v.database.map((k,B)=>s.jsxs("div",{className:"text-sm border-l-2 border-blue-200 pl-2",children:[s.jsx("div",{className:"font-medium",children:k.video_title}),s.jsxs("div",{className:"text-gray-600",children:["Progress: ",k.progress,"% | Time: ",z(k.current_time)," / ",z(k.duration)]})]},B))})]}),s.jsxs(W,{className:"p-4",children:[s.jsxs("h4",{className:"font-medium mb-2",children:["LocalStorage Progress (",v.localStorage.length,")"]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("p",{children:"LocalStorage data would be shown here on the frontend."}),s.jsx("p",{className:"mt-2",children:"To view localStorage data, use browser developer tools."})]})]})]})]})})]})},Ys={id:1,username:"tudiant Demo",email:"student@example.com",access_end:new Date(Date.now()+30*24*60*60*1e3).toISOString(),created_at:"2024-01-15T10:00:00Z"},Ty=[{id:1,title:"Introduction aux Concepts de Base",description:"Une introduction complte aux concepts fondamentaux que vous devez matriser",video_path:"/videos/intro.mp4",cover_image:"https://images.unsplash.com/photo-1516321318423-f06f85e504b3?w=400",duration:1800,file_size:104857600,is_published:!0,category:{id:1,name:"Dbutant"},created_at:"2024-01-15T10:00:00Z",updated_at:"2024-01-15T10:00:00Z"},{id:2,title:"Techniques Avances et Pratiques",description:"Approfondissez vos connaissances avec des techniques avances et des exercices pratiques",video_path:"/videos/advanced.mp4",cover_image:"https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=400",duration:2700,file_size:157286400,is_published:!0,category:{id:2,name:"Avanc"},created_at:"2024-01-20T14:00:00Z",updated_at:"2024-01-20T14:00:00Z"},{id:3,title:"tudes de Cas et Applications",description:"Dcouvrez comment appliquer vos connaissances  travers des tudes de cas rels",video_path:"/videos/case-studies.mp4",cover_image:"https://images.unsplash.com/photo-1553877522-43269d4ea984?w=400",duration:3600,file_size:209715200,is_published:!0,category:{id:3,name:"Pratique"},created_at:"2024-01-25T09:00:00Z",updated_at:"2024-01-25T09:00:00Z"}],My=()=>{const[e]=p.useState(Ty);p.useState(!1);const t=()=>{if(!(Ys!=null&&Ys.access_end))return 0;const i=new Date,c=new Date(Ys.access_end).getTime()-i.getTime();return Math.ceil(c/(1e3*60*60*24))},r=i=>i.cover_cloudinary_url?i.cover_cloudinary_url:i.cover_url?i.cover_url:i.cover_image?i.cover_image.startsWith("http")?i.cover_image:`http://127.0.0.1:8000/storage/${i.cover_image}`:'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="400" height="200" viewBox="0 0 400 200"%3E%3Crect width="400" height="200" fill="%23f3f4f6"/%3E%3Ctext x="200" y="100" text-anchor="middle" dy="0.3em" font-family="Arial, sans-serif" font-size="16" fill="%236b7280"%3ENo Image%3C/text%3E%3C/svg%3E',n=i=>{if(!i)return"N/A";const o=Math.floor(i/3600),c=Math.floor(i%3600/60),d=Math.floor(i%60);return o>0?`${o}h ${c}m ${d}s`:`${c}m ${d}s`},a=i=>new Date(i).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric"}),l=i=>{if(!i)return"N/A";const o=["Bytes","KB","MB","GB"];if(i===0)return"0 Bytes";const c=Math.floor(Math.log(i)/Math.log(1024));return Math.round(i/Math.pow(1024,c)*100)/100+" "+o[c]};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Aperu du Portail tudiant"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Voici ce que vos tudiants voient lorsqu'ils se connectent"})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-blue-600 bg-blue-50 px-4 py-2 rounded-lg",children:[s.jsx(De,{className:"h-4 w-4"}),s.jsx("span",{children:"Mode Aperu Admin"})]})]}),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 p-6 rounded-xl",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl p-6 text-white shadow-xl",children:s.jsxs("div",{className:"text-left",children:[s.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Bienvenue, ",Ys.username," ! "]}),s.jsx("p",{className:"text-blue-100 text-lg mb-2",children:"Prt  poursuivre votre parcours d'apprentissage ?"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Be,{className:"h-4 w-4 mr-2"}),s.jsxs("span",{className:"text-blue-200 text-sm",children:["Membre depuis ",a(Ys.created_at)]})]})]})})}),s.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-8",children:[s.jsx(W,{className:"p-6 bg-white shadow-lg hover:shadow-xl transition-shadow duration-300 border-0",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:s.jsx(Er,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Vidos disponibles"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})}),s.jsx(W,{className:"p-6 bg-white shadow-lg hover:shadow-xl transition-shadow duration-300 border-0",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-yellow-100 rounded-xl",children:s.jsx(lt,{className:"h-6 w-6 text-yellow-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Expiration de l'accs"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[t(),"d"]})]})]})})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Votre contenu d'apprentissage"}),s.jsxs("div",{className:"text-sm text-gray-600",children:[e.length," vido",e.length!==1?"s":""," disponibles"]})]})}),s.jsx("div",{className:"grid grid-cols-3 gap-6",children:e.map(i=>s.jsx(Ay,{video:i,getCoverImageUrl:r,formatDate:a,formatDuration:n,formatFileSize:l},i.id))})]})}),s.jsx("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(De,{className:"h-5 w-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-1",children:"Note pour l'administrateur"}),s.jsx("p",{className:"text-sm text-blue-700",children:"Ceci est un aperu de l'exprience tudiant avec des donnes de dmonstration. Les vrais tudiants verront leurs propres progrs et les vidos qui leur sont assignes."})]})]})})]})},Ay=({video:e,videoProgress:t,isCompleted:r,hasStarted:n,getCoverImageUrl:a,formatDate:l,formatDuration:i,formatFileSize:o})=>s.jsxs(W,{className:"overflow-hidden hover:shadow-lg transition-shadow duration-200 bg-white h-full flex flex-col",children:[s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:a(e),alt:e.title,className:"w-full h-48 object-cover cursor-pointer",onError:c=>{c.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="400" height="200" viewBox="0 0 400 200"%3E%3Crect width="400" height="200" fill="%23f3f4f6"/%3E%3Ctext x="200" y="100" text-anchor="middle" dy="0.3em" font-family="Arial, sans-serif" font-size="16" fill="%236b7280"%3ENo Image%3C/text%3E%3C/svg%3E'}}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",children:s.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 bg-white bg-opacity-90 hover:bg-opacity-100 rounded-full p-3 transform hover:scale-110 transition-transform",children:s.jsx(Nt,{className:"h-6 w-6 text-gray-700 ml-1"})})}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${e.is_published?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:e.is_published?"Publie":"Brouillon"})}),e.category&&s.jsx("div",{className:"absolute top-2 left-2",children:s.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:e.category.name})}),r&&s.jsx("div",{className:"absolute top-12 right-2",children:s.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-500 text-white",children:" Termine"})})]}),s.jsxs("div",{className:"p-4 flex-grow flex flex-col",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2 text-base",title:e.title,children:e.title}),s.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2 flex-grow",title:e.description,children:e.description||"Aucune description fournie"}),s.jsxs("div",{className:"space-y-2 text-xs text-gray-500 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(vt,{className:"h-3 w-3 mr-1"}),s.jsx("span",{children:i(e.duration)})]}),s.jsx("div",{children:s.jsx("span",{children:o(e.file_size)})})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(lt,{className:"h-3 w-3 mr-1"}),s.jsxs("span",{children:["Ajoute le ",l(e.created_at)]})]})]}),n&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-gray-600",children:"Votre progression"}),s.jsxs("span",{className:"font-medium text-gray-900",children:[Math.round(t),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${r?"bg-gradient-to-r from-green-500 to-emerald-500":"bg-gradient-to-r from-blue-500 to-indigo-500"}`,style:{width:`${t}%`}})})]}),s.jsx("div",{className:"mt-auto",children:s.jsxs(V,{size:"sm",variant:r?"secondary":"primary",className:"w-full text-sm",disabled:!0,children:[s.jsx(Nt,{className:"h-4 w-4 mr-2"}),r?"Revoir la vido":n?"Continuer l'apprentissage":"Commencer l'apprentissage"]})})]})]}),Ly=()=>{const{logout:e}=zt(),t=()=>{e(),window.location.href="/login"};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-orange-50 to-yellow-50 flex items-center justify-center p-4",children:s.jsxs(W,{className:"w-full max-w-md p-8 text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-red-100 rounded-full mb-6",children:s.jsx(Ov,{className:"h-8 w-8 text-red-600"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Accs expir"}),s.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-600 mb-6",children:[s.jsx(vt,{className:"h-5 w-5"}),s.jsx("span",{children:"Votre accs d'apprentissage a expir"})]}),s.jsx("p",{className:"text-gray-600 mb-8",children:"Votre accs au contenu du cours a expir. Veuillez contacter votre administrateur pour renouveler votre accs ou prolonger votre abonnement."}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(V,{onClick:t,className:"w-full",children:"Retour  la connexion"}),s.jsx("div",{className:"text-sm text-gray-500",children:s.jsx("p",{children:"Besoin d'aide ? Contactez votre administrateur"})})]})]})})},zy=()=>s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-red-50 to-pink-50 flex items-center justify-center p-4",children:s.jsxs(W,{className:"w-full max-w-md p-8 text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-red-100 rounded-full mb-6",children:s.jsx(Qs,{className:"h-8 w-8 text-red-600"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Accs refus"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"Vous n'avez pas la permission d'accder  cette page. Veuillez contacter votre administrateur si vous pensez qu'il s'agit d'une erreur."}),s.jsx(ge,{to:"/dashboard",children:s.jsxs(V,{className:"w-full",children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Retour au tableau de bord"]})})]})}),up=()=>{var he;const[e,t]=p.useState([]),[r,n]=p.useState([]),[a,l]=p.useState([]),[i,o]=p.useState(null),[c,d]=p.useState(null),[h,f]=p.useState([]),[g,j]=p.useState(""),[v,w]=p.useState(!1),[S,x]=p.useState(""),[u,m]=p.useState(!1),[y,E]=p.useState(!1),[N,z]=p.useState(!0),C=p.useRef(null),D=p.useRef(null),k=localStorage.getItem("authType"),B=(he=JSON.parse(localStorage.getItem("currentUser")||"{}"))==null?void 0:he.id,R=k==="admin";p.useEffect(()=>{Av().then(_=>t(_.data.data)),k==="admin"?J.get("/admin/users").then(_=>n(_.data.data)):J.get("/admins").then(_=>l(_.data.data))},[]);const Q=async _=>{o(_),m(!0),w(!0),z(!0),E(!1);const A=e.find(b=>k==="admin"&&b.user.id===_.id||k!=="admin"&&b.admin.id===_.id);if(A)d(A),H(A.id);else{let b;k==="admin"?b=await J.post("/chats/start",{user_id:_.id}):b=await J.post("/chats/start",{admin_id:_.id}),d(b.data.data),H(b.data.data.id)}w(!1)},H=p.useCallback(_=>{Lv(_).then(A=>{const b=A.data.data;f(O=>(b.length>O.length&&N&&!y&&setTimeout(()=>le(),100),b))})},[N,y]);p.useEffect(()=>{if(!c)return;H(c.id);const _=setInterval(()=>H(c.id),3e3);return()=>clearInterval(_)},[c,H]);const ae=p.useCallback(()=>{if(!D.current)return;const{scrollTop:_,scrollHeight:A,clientHeight:b}=D.current,O=A-_-b<100;!O&&!y&&(E(!0),z(!1)),O&&y&&(E(!1),z(!0))},[y]),le=()=>{var _;(_=C.current)==null||_.scrollIntoView({behavior:"smooth"})},de=async()=>{if(!g.trim()||!c)return;const _=g;j(""),z(!0),E(!1),await zv(c.id,_),H(c.id)},P=_=>{_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),de())},U=(k==="admin"?r:a).filter(_=>(_.username||_.name||"").toLowerCase().includes(S.toLowerCase())||(_.email||"").toLowerCase().includes(S.toLowerCase())),M=_=>{const A=new Date(_);return(new Date().getTime()-A.getTime())/(1e3*60*60)<24?A.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):A.toLocaleDateString("en-US",{month:"short",day:"numeric"})},q=({msg:_,isOwn:A})=>s.jsx("div",{className:`flex ${A?"justify-end":"justify-start"} mb-3`,children:s.jsxs("div",{className:`group relative max-w-[280px] md:max-w-xs lg:max-w-md ${A?"order-2":"order-1"}`,children:[s.jsx("div",{className:`px-5 py-3 rounded-2xl shadow-lg transition-all duration-200 hover:scale-105 font-medium ${A?"bg-gradient-to-r from-pink-500 to-rose-500 text-white shadow-pink-200 rounded-br-md":"bg-white text-gray-800 border border-pink-100 shadow-pink-100 rounded-bl-md"}`,children:s.jsx("p",{className:"text-sm leading-relaxed break-words",children:_.message})}),s.jsx("div",{className:`flex items-center mt-1 px-1 ${A?"justify-end":"justify-start"}`,children:s.jsx("span",{className:`text-xs opacity-0 group-hover:opacity-100 transition-opacity duration-200 ${A?"text-pink-100":"text-gray-500"}`,children:M(_.created_at)})})]})}),se=()=>s.jsxs("button",{onClick:()=>m(!1),className:"lg:hidden flex items-center space-x-2 text-pink-600 hover:text-rose-700 transition-colors mb-4 font-medium",children:[s.jsx(Vt,{className:"h-5 w-5"}),s.jsxs("span",{children:["Back to ",R?"Students":"Support Agents"]})]});return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 to-rose-100",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 lg:py-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center space-y-4 lg:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-pink-700",children:R?"Gestion du chat":"Support client"}),s.jsx("p",{className:"text-pink-600 mt-2",children:R?"Communiquez avec les tudiants et fournissez de l'assistance":"Obtenez de l'aide de notre quipe de support ddie"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"text-center lg:text-right",children:[s.jsx("p",{className:"text-sm text-pink-600",children:R?"Utilisateurs actifs":"Agents disponibles"}),s.jsx("p",{className:"text-2xl font-bold text-pink-700",children:R?r.length:a.length})]}),s.jsx("div",{className:"p-3 bg-gradient-to-r from-pink-100 to-rose-200 rounded-lg",children:s.jsx(Qe,{className:"h-6 w-6 text-pink-600"})})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-pink-100",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-gradient-to-r from-pink-100 to-rose-200 rounded-lg",children:s.jsx(jt,{className:"h-6 w-6 text-pink-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-pink-600",children:R?"Conversations totales":"Conversations actives"}),s.jsx("p",{className:"text-2xl font-bold text-pink-700",children:e.length})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-pink-100",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-gradient-to-r from-green-100 to-emerald-100 rounded-lg",children:s.jsx(Qe,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-pink-600",children:R?"Utilisateurs actifs":"Agents en ligne"}),s.jsx("p",{className:"text-2xl font-bold text-pink-700",children:R?r.length:a.length})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-pink-100",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-gradient-to-r from-purple-100 to-violet-100 rounded-lg",children:s.jsx(vt,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-pink-600",children:"Messages aujourd'hui"}),s.jsx("p",{className:"text-2xl font-bold text-pink-700",children:h.length})]})]})})]}),s.jsx("div",{className:"lg:hidden",children:u&&i?s.jsxs("div",{className:"space-y-4",children:[s.jsx(se,{}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden border border-pink-200 h-[calc(100vh-200px)] flex flex-col",children:[s.jsx("div",{className:"p-4 border-b border-pink-200 bg-gradient-to-r from-pink-50 to-rose-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-pink-500 to-rose-500 rounded-full flex items-center justify-center text-white font-bold shadow-lg",children:(i.username||i.name||"").charAt(0).toUpperCase()}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-pink-700",children:i.username||i.name}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),s.jsxs("span",{className:"text-sm text-pink-600 font-medium",children:["Online ",R?"":" Support Agent"]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{className:"p-2 text-pink-600 hover:bg-pink-100 rounded-full transition-colors",children:s.jsx(su,{className:"h-5 w-5"})}),s.jsx("button",{className:"p-2 text-pink-600 hover:bg-pink-100 rounded-full transition-colors",children:s.jsx(it,{className:"h-5 w-5"})})]})]})}),s.jsx("div",{ref:D,onScroll:ae,className:"flex-1 overflow-y-auto p-4 bg-gradient-to-b from-white to-pink-50",children:v?s.jsx("div",{className:"flex justify-center items-center h-full",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-pink-500"}),s.jsx("span",{className:"text-pink-600 font-medium",children:"Loading messages..."})]})}):s.jsxs("div",{className:"space-y-2",children:[h.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-pink-200 to-rose-300 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(jt,{className:"h-8 w-8 text-pink-400"})}),s.jsx("p",{className:"text-lg font-bold text-pink-600 mb-2",children:"Commencez la conversation !"}),s.jsx("p",{className:"text-pink-500",children:R?"Envoyez le premier message pour dmarrer le chat":"Votre agent de support est prt  vous aider"})]}),h.map(_=>s.jsx(q,{msg:_,isOwn:_.sender_type===k&&_.sender_id===B},_.id)),s.jsx("div",{ref:C})]})}),s.jsx("div",{className:"p-4 border-t border-pink-200 bg-white",children:s.jsxs("div",{className:"flex items-end space-x-3",children:[s.jsx("div",{className:"flex-1 min-h-[40px] max-h-32 bg-gradient-to-r from-pink-50 to-rose-100 rounded-full px-4 py-2 flex items-center border-2 border-pink-200",children:s.jsx("input",{value:g,onChange:_=>j(_.target.value),onKeyPress:P,placeholder:"Tapez votre message...",className:"flex-1 bg-transparent border-none outline-none placeholder-pink-400 text-sm font-medium"})}),s.jsx("button",{onClick:de,disabled:!g.trim(),className:`p-3 rounded-full transition-all duration-200 shadow-lg transform hover:scale-105 ${g.trim()?"bg-gradient-to-r from-pink-500 to-rose-500 text-white hover:from-pink-600 hover:to-rose-600 shadow-pink-200":"bg-gray-200 text-gray-400"}`,children:s.jsx(Ja,{className:"h-5 w-5"})})]})})]})]}):s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden border border-pink-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-pink-600 mb-4",children:R?`tudiants (${r.length})`:`Agents de support (${a.length})`}),s.jsxs("div",{className:"relative mb-4",children:[s.jsx(bs,{className:"h-4 w-4 absolute left-3 top-3 text-pink-400"}),s.jsx("input",{type:"text",placeholder:R?"Rechercher des tudiants...":"Rechercher des agents...",value:S,onChange:_=>x(_.target.value),className:"w-full pl-10 pr-4 py-2 border-2 border-pink-200 rounded-lg focus:ring-4 focus:ring-pink-200 focus:border-pink-400 bg-gradient-to-r from-pink-50 to-rose-100 placeholder-pink-400 font-medium"})]}),s.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:U.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-16 h-16 bg-pink-200 rounded-full flex items-center justify-center mx-auto mb-4",children:R?s.jsx(Qe,{className:"h-8 w-8 text-pink-400"}):s.jsx(De,{className:"h-8 w-8 text-pink-400"})}),s.jsx("h3",{className:"text-lg font-bold text-pink-600 mb-2",children:R?"Aucun tudiant trouv":"Aucun agent disponible"}),s.jsx("p",{className:"text-pink-500",children:S?"Essayez de modifier votre recherche":R?"Les tudiants apparatront ici lorsqu'ils rejoindront la plateforme":"Les agents de support ne sont actuellement pas disponibles. Veuillez ressayer plus tard."})]}):U.map(_=>s.jsx("div",{className:"group relative p-4 cursor-pointer rounded-2xl transition-all duration-300 hover:shadow-lg transform hover:-translate-y-1 bg-white hover:bg-gradient-to-r hover:from-pink-100 hover:to-rose-200 border border-pink-100 hover:border-pink-300",onClick:()=>Q(_),children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-pink-400 to-rose-500 rounded-full flex items-center justify-center text-white font-bold shadow-lg group-hover:from-pink-500 group-hover:to-rose-600",children:(_.username||_.name||"").charAt(0).toUpperCase()}),s.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-400 border-2 border-white rounded-full animate-pulse"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-bold text-pink-700 truncate group-hover:text-pink-800",children:_.username||_.name}),s.jsx("div",{className:"text-sm text-pink-500 truncate group-hover:text-pink-600",children:R?_.email:"Support Specialist"})]})]})},_.id))})]})}),s.jsxs("div",{className:"hidden lg:grid lg:grid-cols-4 lg:gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden border border-pink-200 h-[600px] flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-pink-200 bg-gradient-to-r from-pink-50 to-rose-100",children:[s.jsx("h3",{className:"text-lg font-bold text-pink-700 mb-3",children:R?`tudiants (${r.length})`:`Agents de support (${a.length})`}),s.jsxs("div",{className:"relative",children:[s.jsx(bs,{className:"h-4 w-4 absolute left-3 top-3 text-pink-400"}),s.jsx("input",{type:"text",placeholder:R?"Rechercher des tudiants...":"Rechercher des agents...",value:S,onChange:_=>x(_.target.value),className:"w-full pl-10 pr-4 py-2 border-2 border-pink-200 rounded-lg focus:ring-4 focus:ring-pink-200 focus:border-pink-400 bg-gradient-to-r from-pink-50 to-rose-100 placeholder-pink-400 font-medium"})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:U.length===0?s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-pink-200 rounded-full flex items-center justify-center mx-auto mb-4",children:R?s.jsx(Qe,{className:"h-8 w-8 text-pink-400"}):s.jsx(De,{className:"h-8 w-8 text-pink-400"})}),s.jsx("h3",{className:"text-lg font-bold text-pink-600 mb-2",children:R?"Aucun tudiant trouv":"Aucun agent trouv"}),s.jsx("p",{className:"text-pink-500",children:S?"Essayez de modifier votre recherche":R?"Les tudiants apparatront ici lorsqu'ils rejoindront la plateforme":"Les agents de support apparatront ici lorsqu'ils seront disponibles"})]}):s.jsx("div",{className:"p-2",children:U.map(_=>s.jsxs("div",{className:`group relative p-3 cursor-pointer rounded-lg mb-2 transition-all duration-300 hover:shadow-lg transform hover:-translate-y-1 ${(i==null?void 0:i.id)===_.id?"bg-gradient-to-r from-pink-500 to-rose-500 text-white shadow-xl scale-105":"bg-white hover:bg-gradient-to-r hover:from-pink-100 hover:to-rose-200 border border-pink-100 hover:border-pink-300"}`,onClick:()=>Q(_),children:[(i==null?void 0:i.id)===_.id&&s.jsx("div",{className:"absolute -left-1 top-1/2 transform -translate-y-1/2 w-1 h-8 bg-white rounded-r-full"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center text-sm font-bold transition-all duration-300 ${(i==null?void 0:i.id)===_.id?"bg-white text-pink-500 shadow-lg":"bg-gradient-to-r from-pink-400 to-rose-500 text-white group-hover:from-pink-500 group-hover:to-rose-600"}`,children:(_.username||_.name||"").charAt(0).toUpperCase()}),s.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-400 border-2 border-white rounded-full animate-pulse"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:`font-bold truncate transition-colors duration-300 ${(i==null?void 0:i.id)===_.id?"text-white":"text-pink-700 group-hover:text-pink-800"}`,children:_.username||_.name}),s.jsx("div",{className:`text-xs truncate transition-colors duration-300 ${(i==null?void 0:i.id)===_.id?"text-pink-100":"text-pink-500 group-hover:text-pink-600"}`,children:R?_.email:"Support Specialist"})]})]})]},_.id))})})]})}),s.jsx("div",{className:"lg:col-span-3",children:s.jsx("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden border border-pink-200 h-[600px] flex flex-col",children:c&&i?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"p-4 border-b border-pink-200 bg-gradient-to-r from-pink-50 to-rose-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-pink-500 to-rose-500 rounded-2xl flex items-center justify-center text-white font-bold text-xl shadow-lg",children:(i.username||i.name||"").charAt(0).toUpperCase()}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-pink-700",children:i.username||i.name}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),s.jsxs("span",{className:"text-sm text-pink-600 font-medium",children:["Online ",R?"":" Support Agent"]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{className:"p-2 text-pink-600 hover:bg-pink-100 rounded-xl transition-colors duration-200",children:s.jsx(su,{className:"h-5 w-5"})}),s.jsx("button",{className:"p-2 text-pink-600 hover:bg-pink-100 rounded-xl transition-colors duration-200",children:s.jsx(it,{className:"h-5 w-5"})}),s.jsx("button",{className:"p-2 text-pink-600 hover:bg-pink-100 rounded-xl transition-colors duration-200",children:s.jsx(Kv,{className:"h-5 w-5"})})]})]})}),s.jsx("div",{ref:D,onScroll:ae,className:"flex-1 overflow-y-auto p-4 bg-gradient-to-b from-white to-pink-50",children:v?s.jsx("div",{className:"flex justify-center items-center h-full",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-pink-500"}),s.jsx("span",{className:"text-pink-600 font-medium",children:"Loading conversation..."})]})}):s.jsxs("div",{className:"space-y-2",children:[h.length===0&&s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-pink-200 to-rose-300 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(jt,{className:"h-10 w-10 text-pink-400"})}),s.jsx("p",{className:"text-lg font-bold text-pink-600 mb-2",children:"Commencez la conversation !"}),s.jsx("p",{className:"text-pink-500",children:"Votre agent de support est prt  vous aider"})]}),h.map(_=>s.jsx(q,{msg:_,isOwn:_.sender_type===k&&_.sender_id===B},_.id)),s.jsx("div",{ref:C})]})}),s.jsx("div",{className:"p-6 border-t border-pink-200 bg-white",children:s.jsxs("div",{className:"flex items-end space-x-4",children:[s.jsx("div",{className:"flex-1 relative",children:s.jsx("textarea",{value:g,onChange:_=>j(_.target.value),onKeyPress:P,placeholder:"Tapez votre message...",rows:2,className:"w-full px-5 py-4 border-2 border-pink-200 rounded-2xl focus:outline-none focus:ring-4 focus:ring-pink-200 focus:border-pink-400 resize-none bg-gradient-to-r from-pink-50 to-rose-100 text-gray-800 font-medium placeholder-pink-400 transition-all duration-200"})}),s.jsx("button",{onClick:de,disabled:!g.trim(),className:"px-8 py-4 bg-gradient-to-r from-pink-500 to-rose-500 text-white rounded-2xl hover:from-pink-600 hover:to-rose-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transform hover:scale-105 font-bold",children:s.jsx(Ja,{className:"w-5 h-5"})})]})})]}):s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-pink-200 to-rose-300 rounded-full flex items-center justify-center mb-6",children:s.jsx(jt,{className:"h-12 w-12 text-pink-400"})}),s.jsx("h3",{className:"text-2xl font-bold text-pink-600 mb-2",children:R?"Slectionnez un tudiant":"Slectionnez un agent de support"}),s.jsx("p",{className:"text-pink-500 max-w-md",children:R?"Choisissez un tudiant dans la barre latrale pour dmarrer une conversation et fournir de l'assistance":"Choisissez un agent dans la barre latrale pour commencer  recevoir de l'aide avec vos questions"})]})})})})]})]})})},Ry=()=>s.jsxs("div",{className:"p-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Admin Chat"}),s.jsx(up,{})]}),Fy=()=>s.jsxs("div",{className:"p-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Chat with Admin"}),s.jsx(up,{})]}),Dy=({isOpen:e,onClose:t,message:r})=>e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Me,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Succs !"}),s.jsx("p",{className:"text-gray-600 mb-6",children:r}),s.jsx(V,{onClick:t,className:"w-full",children:"OK"})]})})}):null,Oy=({isOpen:e,onClose:t,error:r})=>e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Za,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Erreur"}),s.jsx("p",{className:"text-red-600 mb-6",children:r}),s.jsx(V,{onClick:t,variant:"secondary",className:"w-full",children:"Fermer"})]})})}):null,Uy=()=>{zt();const[e,t]=p.useState("profile"),[r,n]=p.useState(!1),[a,l]=p.useState(null),[i,o]=p.useState(null),[c,d]=p.useState([]),[h,f]=p.useState(!1),[g,j]=p.useState(!1),[v,w]=p.useState(""),[S,x]=p.useState(""),[u,m]=p.useState({name:"",username:"",email:""}),[y,E]=p.useState({current_password:"",new_password:"",new_password_confirmation:""}),[N,z]=p.useState(!1),[C,D]=p.useState(!1),[k,B]=p.useState(!1),[R,Q]=p.useState({}),[H,ae]=p.useState({});p.useEffect(()=>{le(),de(),P()},[]);const le=async()=>{try{const _=await J.get("/admin/profile");if(_.data.success){const A=_.data.data;l(A),m({name:A.name,username:A.username,email:A.email})}}catch(_){console.error("Failed to fetch profile:",_),x("Failed to load profile data"),j(!0)}},de=async()=>{try{const _=await J.get("/admin/profile/statistics");_.data.success&&o(_.data.data)}catch(_){console.error("Failed to fetch statistics:",_)}},P=async()=>{try{const _=await J.get("/admin/profile/activity");_.data.success&&d(_.data.data)}catch(_){console.error("Failed to fetch activities:",_)}},F=async _=>{var A,b,O,K;_.preventDefault(),n(!0),Q({});try{const Y=await J.put("/admin/profile",u);Y.data.success&&(l(Y.data.data),w("Profile updated successfully!"),f(!0))}catch(Y){(b=(A=Y.response)==null?void 0:A.data)!=null&&b.errors?Q(Y.response.data.errors):(x(((K=(O=Y.response)==null?void 0:O.data)==null?void 0:K.message)||"Failed to update profile"),j(!0))}finally{n(!1)}},U=async _=>{var A,b,O,K;_.preventDefault(),n(!0),ae({});try{(await J.put("/admin/profile/password",y)).data.success&&(E({current_password:"",new_password:"",new_password_confirmation:""}),w("Password updated successfully!"),f(!0))}catch(Y){(b=(A=Y.response)==null?void 0:A.data)!=null&&b.errors?ae(Y.response.data.errors):(x(((K=(O=Y.response)==null?void 0:O.data)==null?void 0:K.message)||"Failed to update password"),j(!0))}finally{n(!1)}},M=_=>{const{name:A,value:b}=_.target;m(O=>({...O,[A]:b})),R[A]&&Q(O=>({...O,[A]:""}))},q=_=>{const{name:A,value:b}=_.target;E(O=>({...O,[A]:b})),H[A]&&ae(O=>({...O,[A]:""}))},se=_=>new Date(_).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),he=_=>{switch(_){case"video_created":return s.jsx(is,{className:"h-4 w-4 text-blue-500"});case"category_created":return s.jsx(En,{className:"h-4 w-4 text-green-500"});default:return s.jsx(De,{className:"h-4 w-4 text-gray-500"})}};return s.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-100 rounded-full",children:s.jsx(Be,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Profil Administrateur"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Grez les paramtres de votre compte et consultez les statistiques du tableau de bord"})]})]}),s.jsxs(W,{className:"p-0",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"profile",label:"Informations du profil",icon:Be},{id:"password",label:"Changer le mot de passe",icon:Qs},{id:"statistics",label:"Statistiques du tableau de bord",icon:Cr},{id:"activity",label:"Activit rcente",icon:is}].map(({id:_,label:A,icon:b})=>s.jsxs("button",{onClick:()=>t(_),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm ${e===_?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(b,{className:"h-4 w-4"}),s.jsx("span",{children:A})]},_))})}),s.jsxs("div",{className:"p-6",children:[e==="profile"&&s.jsxs("form",{onSubmit:F,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(Re,{label:"Nom complet",name:"name",value:u.name,onChange:M,placeholder:"Entrez votre nom complet",required:!0}),R.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.name[0]})]}),s.jsxs("div",{children:[s.jsx(Re,{label:"Nom d'utilisateur",name:"username",value:u.username,onChange:M,placeholder:"Entrez votre nom d'utilisateur",required:!0}),R.username&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.username[0]})]})]}),s.jsxs("div",{children:[s.jsx(Re,{label:"Adresse e-mail",name:"email",type:"email",value:u.email,onChange:M,placeholder:"Entrez votre adresse e-mail",required:!0}),R.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.email[0]})]}),a&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Compte cr"}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[s.jsx(lt,{className:"h-4 w-4"}),s.jsx("span",{children:se(a.created_at)})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dernire modification"}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[s.jsx(lt,{className:"h-4 w-4"}),s.jsx("span",{children:se(a.updated_at)})]})]})]}),s.jsx("div",{className:"flex space-x-4",children:s.jsxs(V,{type:"submit",disabled:r,className:"flex-1",children:[s.jsx(On,{className:"h-4 w-4 mr-2"}),r?"Mise  jour...":"Mettre  jour le profil"]})})]}),e==="password"&&s.jsxs("form",{onSubmit:U,className:"space-y-6",children:[s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx(De,{className:"h-5 w-5 text-yellow-400 mr-2 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Scurit du mot de passe"}),s.jsx("p",{className:"mt-1 text-sm text-yellow-700",children:"Choisissez un mot de passe fort d'au moins 8 caractres, comprenant des majuscules, des minuscules, des chiffres et des caractres spciaux."})]})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mot de passe actuel"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:N?"text":"password",name:"current_password",value:y.current_password,onChange:q,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10",placeholder:"Entrez le mot de passe actuel",required:!0}),s.jsx("button",{type:"button",onClick:()=>z(!N),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:N?s.jsx(Gt,{className:"h-4 w-4 text-gray-400"}):s.jsx(Mt,{className:"h-4 w-4 text-gray-400"})})]}),H.current_password&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:H.current_password[0]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nouveau mot de passe"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:C?"text":"password",name:"new_password",value:y.new_password,onChange:q,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10",placeholder:"Entrez le nouveau mot de passe",required:!0}),s.jsx("button",{type:"button",onClick:()=>D(!C),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:C?s.jsx(Gt,{className:"h-4 w-4 text-gray-400"}):s.jsx(Mt,{className:"h-4 w-4 text-gray-400"})})]}),H.new_password&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:H.new_password[0]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmer le nouveau mot de passe"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:k?"text":"password",name:"new_password_confirmation",value:y.new_password_confirmation,onChange:q,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10",placeholder:"Confirmez le nouveau mot de passe",required:!0}),s.jsx("button",{type:"button",onClick:()=>B(!k),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:k?s.jsx(Gt,{className:"h-4 w-4 text-gray-400"}):s.jsx(Mt,{className:"h-4 w-4 text-gray-400"})})]}),H.new_password_confirmation&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:H.new_password_confirmation[0]})]}),s.jsx("div",{className:"flex space-x-4",children:s.jsxs(V,{type:"submit",disabled:r,className:"flex-1",children:[s.jsx(Qs,{className:"h-4 w-4 mr-2"}),r?"Mise  jour...":"Mettre  jour le mot de passe"]})})]}),e==="statistics"&&s.jsx("div",{className:"space-y-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:i&&[{label:"Utilisateurs totaux",value:i.total_users,icon:vr,color:"blue"},{label:"Utilisateurs actifs",value:i.active_users,icon:Be,color:"green"},{label:"Vidos totales",value:i.total_videos,icon:is,color:"purple"},{label:"Vidos publies",value:i.published_videos,icon:Me,color:"indigo"},{label:"Catgories",value:i.total_categories,icon:En,color:"yellow"},{label:"Commentaires",value:i.total_comments,icon:ap,color:"pink"},{label:"Commentaires en attente",value:i.pending_comments,icon:De,color:"red"},{label:"Vos notifications",value:i.admin_notifications,icon:is,color:"gray"}].map(({label:_,value:A,icon:b,color:O})=>s.jsx(W,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`flex-shrink-0 p-3 bg-${O}-100 rounded-lg`,children:s.jsx(b,{className:`h-6 w-6 text-${O}-600`})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:_}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:A})]})]})},_))})}),e==="activity"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Activit systme rcente"}),s.jsx(V,{variant:"outline",onClick:P,size:"sm",children:"Actualiser"})]}),c.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(is,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Aucune activit rcente trouve"})]}):s.jsx("div",{className:"space-y-4",children:c.map((_,A)=>s.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:he(_.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm text-gray-900",children:_.description}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:se(_.created_at)})]})]},A))})]})]})]}),s.jsx(Dy,{isOpen:h,onClose:()=>f(!1),message:v}),s.jsx(Oy,{isOpen:g,onClose:()=>j(!1),error:S})]})},Iy=({isOpen:e,onClose:t,message:r})=>e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Me,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Succs !"}),s.jsx("p",{className:"text-gray-600 mb-6",children:r}),s.jsx(V,{onClick:t,className:"w-full",children:"OK"})]})})}):null,$y=({isOpen:e,onClose:t,error:r})=>e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Za,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Erreur"}),s.jsx("p",{className:"text-red-600 mb-6",children:r}),s.jsx(V,{onClick:t,variant:"secondary",className:"w-full",children:"Fermer"})]})})}):null,Vy=()=>{zt();const[e,t]=p.useState("profile"),[r,n]=p.useState(!1),[a,l]=p.useState(null),[i,o]=p.useState(null),[c,d]=p.useState([]),[h,f]=p.useState(!1),[g,j]=p.useState(!1),[v,w]=p.useState(""),[S,x]=p.useState(""),[u,m]=p.useState({name:"",username:"",email:""}),[y,E]=p.useState({current_password:"",new_password:"",new_password_confirmation:""}),[N,z]=p.useState(!1),[C,D]=p.useState(!1),[k,B]=p.useState(!1),[R,Q]=p.useState({}),[H,ae]=p.useState({});p.useEffect(()=>{le(),de(),P()},[]);const le=async()=>{try{const A=await J.get("/profile");if(A.data.success){const b=A.data.data;l(b),m({name:b.name,username:b.username,email:b.email})}}catch(A){console.error("Failed to fetch profile:",A),x("Impossible de charger les donnes du profil"),j(!0)}},de=async()=>{try{const A=await J.get("/profile/statistics");A.data.success&&o(A.data.data)}catch(A){console.error("Failed to fetch statistics:",A)}},P=async()=>{try{const A=await J.get("/profile/activity");A.data.success&&d(A.data.data)}catch(A){console.error("Failed to fetch activities:",A)}},F=async A=>{var b,O,K,Y;A.preventDefault(),n(!0),Q({});try{const re=await J.put("/profile",u);re.data.success&&(l(re.data.data),w("Profil mis  jour avec succs !"),f(!0))}catch(re){(O=(b=re.response)==null?void 0:b.data)!=null&&O.errors?Q(re.response.data.errors):(x(((Y=(K=re.response)==null?void 0:K.data)==null?void 0:Y.message)||"chec de la mise  jour du profil"),j(!0))}finally{n(!1)}},U=async A=>{var b,O,K,Y;A.preventDefault(),n(!0),ae({});try{(await J.put("/profile/password",y)).data.success&&(E({current_password:"",new_password:"",new_password_confirmation:""}),w("Mot de passe mis  jour avec succs !"),f(!0))}catch(re){(O=(b=re.response)==null?void 0:b.data)!=null&&O.errors?ae(re.response.data.errors):(x(((Y=(K=re.response)==null?void 0:K.data)==null?void 0:Y.message)||"chec de la mise  jour du mot de passe"),j(!0))}finally{n(!1)}},M=A=>{const{name:b,value:O}=A.target;m(K=>({...K,[b]:O})),R[b]&&Q(K=>({...K,[b]:""}))},q=A=>{const{name:b,value:O}=A.target;E(K=>({...K,[b]:O})),H[b]&&ae(K=>({...K,[b]:""}))},se=A=>new Date(A).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),he=(A,b)=>{switch(A){case"active":return{color:"green",icon:Me,text:`Actif (${b} jours restants)`};case"expiring_soon":return{color:"yellow",icon:De,text:`Expire bientt (${b} jours restants)`};case"expired":return{color:"red",icon:Za,text:"Accs expir"};case"inactive":return{color:"gray",icon:Za,text:"Compte inactif"};default:return{color:"blue",icon:Me,text:"Pas d'expiration"}}},_=A=>{switch(A){case"video_completed":return s.jsx(Me,{className:"h-4 w-4 text-green-500"});case"video_progress":return s.jsx(Nt,{className:"h-4 w-4 text-blue-500"});case"comment_posted":return s.jsx(tu,{className:"h-4 w-4 text-purple-500"});default:return s.jsx(is,{className:"h-4 w-4 text-gray-500"})}};return s.jsxs("div",{className:"max-w-6xl mx-auto space-y-6 pt-20 pb-8 px-2 sm:px-4",children:[" ",s.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:space-x-4 space-y-2 sm:space-y-0",children:[s.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-100 rounded-full",children:s.jsx(Be,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{className:"text-center sm:text-left",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Mon Profil"}),s.jsx("p",{className:"text-gray-600 mt-1 text-sm sm:text-base",children:"Grez les paramtres de votre compte et consultez votre progression d'apprentissage"})]})]}),a&&s.jsx(W,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-y-4 sm:gap-y-0",children:[s.jsx("div",{className:"flex items-center space-x-3",children:(()=>{const A=he(a.access_status,a.days_remaining),b=A.icon;return s.jsxs(s.Fragment,{children:[s.jsx(b,{className:`h-6 w-6 text-${A.color}-500`}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900 text-sm sm:text-base",children:"Statut du compte"}),s.jsx("p",{className:`text-xs sm:text-sm text-${A.color}-600`,children:A.text})]})]})})()}),s.jsxs("div",{className:"text-right sm:text-left w-full sm:w-auto",children:[s.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Priode d'accs"}),s.jsxs("p",{className:"text-xs sm:text-sm font-medium text-gray-900",children:[se(a.access_start)," - ",se(a.access_end)]})]})]})}),s.jsxs(W,{className:"p-0",children:[s.jsx("div",{className:"border-b border-gray-200 overflow-x-auto",children:s.jsx("nav",{className:"flex space-x-4 sm:space-x-8 px-2 sm:px-6",children:[{id:"profile",label:"Informations du profil",icon:Be},{id:"password",label:"Changer le mot de passe",icon:Qs},{id:"activity",label:"Activit rcente",icon:is}].map(({id:A,label:b,icon:O})=>s.jsxs("button",{onClick:()=>t(A),className:`flex items-center space-x-2 py-3 px-1 border-b-2 font-medium text-xs sm:text-sm ${e===A?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(O,{className:"h-4 w-4"}),s.jsx("span",{children:b})]},A))})}),s.jsxs("div",{className:"p-2 sm:p-6",children:[e==="profile"&&s.jsxs("form",{onSubmit:F,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(Re,{label:"Nom complet",name:"name",value:u.name,onChange:M,placeholder:"Entrez votre nom complet",required:!0}),R.name&&s.jsx("p",{className:"mt-1 text-xs sm:text-sm text-red-600",children:R.name[0]})]}),s.jsxs("div",{children:[s.jsx(Re,{label:"Nom d'utilisateur",name:"username",value:u.username,onChange:M,placeholder:"Entrez votre nom d'utilisateur",required:!0}),R.username&&s.jsx("p",{className:"mt-1 text-xs sm:text-sm text-red-600",children:R.username[0]})]})]}),s.jsxs("div",{children:[s.jsx(Re,{label:"Adresse e-mail",name:"email",type:"email",value:u.email,onChange:M,placeholder:"Entrez votre adresse e-mail",required:!0}),R.email&&s.jsx("p",{className:"mt-1 text-xs sm:text-sm text-red-600",children:R.email[0]})]}),a&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Compte cr"}),s.jsxs("div",{className:"flex items-center space-x-2 text-xs sm:text-sm text-gray-600",children:[s.jsx(lt,{className:"h-4 w-4"}),s.jsx("span",{children:se(a.created_at)})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Dernire modification"}),s.jsxs("div",{className:"flex items-center space-x-2 text-xs sm:text-sm text-gray-600",children:[s.jsx(lt,{className:"h-4 w-4"}),s.jsx("span",{children:se(a.updated_at)})]})]})]}),s.jsx("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:s.jsxs(V,{type:"submit",disabled:r,className:"flex-1",children:[s.jsx(On,{className:"h-4 w-4 mr-2"}),r?"Mise  jour...":"Mettre  jour le profil"]})})]}),e==="password"&&s.jsxs("form",{onSubmit:U,className:"space-y-6",children:[s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx(De,{className:"h-5 w-5 text-yellow-400 mr-2 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs sm:text-sm font-medium text-yellow-800",children:"Scurit du mot de passe"}),s.jsx("p",{className:"mt-1 text-xs sm:text-sm text-yellow-700",children:"Choisissez un mot de passe fort d'au moins 8 caractres, incluant des majuscules, minuscules, chiffres et caractres spciaux."})]})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mot de passe actuel"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:N?"text":"password",name:"current_password",value:y.current_password,onChange:q,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10",placeholder:"Entrez le mot de passe actuel",required:!0}),s.jsx("button",{type:"button",onClick:()=>z(!N),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:N?s.jsx(Gt,{className:"h-4 w-4 text-gray-400"}):s.jsx(Mt,{className:"h-4 w-4 text-gray-400"})})]}),H.current_password&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:H.current_password[0]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nouveau mot de passe"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:C?"text":"password",name:"new_password",value:y.new_password,onChange:q,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10",placeholder:"Entrez le nouveau mot de passe",required:!0}),s.jsx("button",{type:"button",onClick:()=>D(!C),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:C?s.jsx(Gt,{className:"h-4 w-4 text-gray-400"}):s.jsx(Mt,{className:"h-4 w-4 text-gray-400"})})]}),H.new_password&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:H.new_password[0]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmer le nouveau mot de passe"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:k?"text":"password",name:"new_password_confirmation",value:y.new_password_confirmation,onChange:q,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10",placeholder:"Confirmez le nouveau mot de passe",required:!0}),s.jsx("button",{type:"button",onClick:()=>B(!k),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:k?s.jsx(Gt,{className:"h-4 w-4 text-gray-400"}):s.jsx(Mt,{className:"h-4 w-4 text-gray-400"})})]}),H.new_password_confirmation&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:H.new_password_confirmation[0]})]}),s.jsx("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:s.jsxs(V,{type:"submit",disabled:r,className:"flex-1",children:[s.jsx(Qs,{className:"h-4 w-4 mr-2"}),r?"Mise  jour...":"Mettre  jour le mot de passe"]})})]}),e==="statistics"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 overflow-x-auto",children:i&&[{label:"Catgories assignes",value:i.assigned_categories,icon:Er,color:"blue",description:"Catgories auxquelles vous avez accs"},{label:"Vidos disponibles",value:i.total_videos,icon:Nt,color:"purple",description:"Nombre total de vidos dans vos catgories"},{label:"Vidos termines",value:i.watched_videos,icon:Me,color:"green",description:"Vidos que vous avez termines"},{label:"En cours",value:i.in_progress_videos,icon:vt,color:"yellow",description:"Vidos commences mais non termines"},{label:"Progression globale",value:`${i.overall_progress}%`,icon:Nl,color:"indigo",description:"Votre taux de compltion global"},{label:"Commentaires publis",value:i.total_comments,icon:tu,color:"pink",description:"Nombre total de commentaires publis"},{label:"Commentaires approuvs",value:i.approved_comments,icon:vr,color:"green",description:"Commentaires approuvs par les modrateurs"},{label:"Notifications non lues",value:i.unread_notifications,icon:ap,color:"red",description:"Nouvelles notifications pour vous"}].map(({label:A,value:b,icon:O,color:K,description:Y})=>s.jsx(W,{className:"p-4 sm:p-6 hover:shadow-md transition-shadow min-w-[220px]",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`flex-shrink-0 p-2 sm:p-3 bg-${K}-100 rounded-lg`,children:s.jsx(O,{className:`h-5 w-5 sm:h-6 sm:w-6 text-${K}-600`})}),s.jsxs("div",{className:"ml-2 sm:ml-4",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:A}),s.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:b}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Y})]})]})},A))}),i&&s.jsxs(W,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Vue d'ensemble de la progression"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Compltion globale"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[i.overall_progress,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${i.overall_progress}%`}})})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:i.watched_videos}),s.jsx("div",{className:"text-sm text-gray-500",children:"Termines"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:i.in_progress_videos}),s.jsx("div",{className:"text-sm text-gray-500",children:"En cours"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-600",children:i.total_videos-i.watched_videos-i.in_progress_videos}),s.jsx("div",{className:"text-sm text-gray-500",children:"Non commences"})]})]})]})]})]}),e==="activity"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-y-2 sm:gap-y-0",children:[s.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900",children:"Votre activit d'apprentissage rcente"}),s.jsx(V,{variant:"outline",onClick:P,size:"sm",children:"Actualiser"})]}),c.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(is,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Aucune activit rcente trouve"}),s.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Commencez  regarder des vidos pour voir votre activit ici !"})]}):s.jsx("div",{className:"space-y-4",children:c.map((A,b)=>s.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:_(A.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm text-gray-900",children:A.description}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:se(A.created_at)})]})]},b))})]})]})]}),s.jsx(Iy,{isOpen:h,onClose:()=>f(!1),message:v}),s.jsx($y,{isOpen:g,onClose:()=>j(!1),error:S})]})};function By(){return s.jsx(Rv,{children:s.jsx(Y0,{children:s.jsxs(W0,{children:[s.jsx(ue,{path:"/",element:s.jsx(ry,{})}),s.jsx(ue,{path:"/login",element:s.jsx(oy,{})}),s.jsx(ue,{path:"/access-expired",element:s.jsx(Ly,{})}),s.jsx(ue,{path:"/unauthorized",element:s.jsx(zy,{})}),s.jsxs(ue,{path:"/app",element:s.jsx(au,{requiredAuthType:"user",children:s.jsx(ny,{})}),children:[s.jsx(ue,{index:!0,element:s.jsx(js,{to:"dashboard",replace:!0})}),s.jsx(ue,{path:"dashboard",element:s.jsx(cy,{})}),s.jsx(ue,{path:"profile",element:s.jsx(Vy,{})}),s.jsx(ue,{path:"course/:courseId",element:s.jsx(hy,{})}),s.jsx(ue,{path:"watch/:id",element:s.jsx(iu,{})}),s.jsx(ue,{path:"chat",element:s.jsx(Fy,{})})," "]}),s.jsxs(ue,{path:"/admin",element:s.jsx(au,{requiredAuthType:"admin",children:s.jsx(ly,{})}),children:[s.jsx(ue,{index:!0,element:s.jsx(ou,{})}),s.jsx(ue,{path:"dashboard",element:s.jsx(ou,{})}),s.jsx(ue,{path:"videos",element:s.jsx(xy,{})}),s.jsx(ue,{path:"videos/new",element:s.jsx(yy,{})}),s.jsx(ue,{path:"videos/edit/:id",element:s.jsx(Ny,{})}),s.jsx(ue,{path:"profile",element:s.jsx(Uy,{})}),s.jsx(ue,{path:"videos/watch/:id",element:s.jsx(iu,{})}),s.jsx(ue,{path:"categories",element:s.jsx(by,{})}),s.jsx(ue,{path:"categories/edit/:categoryId",element:s.jsx(Sy,{})}),s.jsx(ue,{path:"categories/assign/:categoryId",element:s.jsx(Cy,{})}),s.jsx(ue,{path:"users",element:s.jsx(_y,{})}),s.jsx(ue,{path:"progress",element:s.jsx(Py,{})}),s.jsx(ue,{path:"preview",element:s.jsx(My,{})}),s.jsx(ue,{path:"chat",element:s.jsx(Ry,{})})," "]}),s.jsx(ue,{path:"/dashboard",element:s.jsx(js,{to:"/app/dashboard",replace:!0})}),s.jsx(ue,{path:"/course/:courseId",element:s.jsx(js,{to:"/app/course/:courseId",replace:!0})}),s.jsx(ue,{path:"*",element:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-8",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-900",children:"Page Not Found"}),s.jsxs("p",{className:"mb-4 text-gray-600",children:['The path "',window.location.pathname,`" doesn't exist or you don't have access.`]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("a",{href:"/MedicareClinic/login",className:"inline-block bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition",children:"Go to Login"}),s.jsx("br",{}),s.jsx("a",{href:"/MedicareClinic/",className:"inline-block text-gray-600 hover:text-gray-800 transition",children:"Return to Home"})]})]})})})]})})})}Nh(document.getElementById("root")).render(s.jsx(p.StrictMode,{children:s.jsx(By,{})}));
